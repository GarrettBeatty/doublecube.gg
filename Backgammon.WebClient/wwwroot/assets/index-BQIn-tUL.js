var Qg=Object.defineProperty;var qg=(e,t,n)=>t in e?Qg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var De=(e,t,n)=>qg(e,typeof t!="symbol"?t+"":t,n);function Jg(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Da(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jd={exports:{}},ii={},Zd={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=Symbol.for("react.element"),Zg=Symbol.for("react.portal"),ev=Symbol.for("react.fragment"),tv=Symbol.for("react.strict_mode"),nv=Symbol.for("react.profiler"),rv=Symbol.for("react.provider"),ov=Symbol.for("react.context"),sv=Symbol.for("react.forward_ref"),iv=Symbol.for("react.suspense"),lv=Symbol.for("react.memo"),av=Symbol.for("react.lazy"),Qc=Symbol.iterator;function cv(e){return e===null||typeof e!="object"?null:(e=Qc&&e[Qc]||e["@@iterator"],typeof e=="function"?e:null)}var ef={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tf=Object.assign,nf={};function Sr(e,t,n){this.props=e,this.context=t,this.refs=nf,this.updater=n||ef}Sr.prototype.isReactComponent={};Sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rf(){}rf.prototype=Sr.prototype;function Oa(e,t,n){this.props=e,this.context=t,this.refs=nf,this.updater=n||ef}var La=Oa.prototype=new rf;La.constructor=Oa;tf(La,Sr.prototype);La.isPureReactComponent=!0;var qc=Array.isArray,of=Object.prototype.hasOwnProperty,$a={current:null},sf={key:!0,ref:!0,__self:!0,__source:!0};function lf(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)of.call(t,r)&&!sf.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:_o,type:e,key:s,ref:i,props:o,_owner:$a.current}}function uv(e,t){return{$$typeof:_o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fa(e){return typeof e=="object"&&e!==null&&e.$$typeof===_o}function dv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jc=/\/+/g;function Bi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dv(""+e.key):t.toString(36)}function ps(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case _o:case Zg:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Bi(i,0):r,qc(o)?(n="",e!=null&&(n=e.replace(Jc,"$&/")+"/"),ps(o,t,n,"",function(d){return d})):o!=null&&(Fa(o)&&(o=uv(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Jc,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",qc(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+Bi(s,l);i+=ps(s,t,n,c,o)}else if(c=cv(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+Bi(s,l++),i+=ps(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Uo(e,t,n){if(e==null)return e;var r=[],o=0;return ps(e,r,"","",function(s){return t.call(n,s,o++)}),r}function fv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},hs={transition:null},pv={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:hs,ReactCurrentOwner:$a};function af(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Uo,forEach:function(e,t,n){Uo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Uo(e,function(){t++}),t},toArray:function(e){return Uo(e,function(t){return t})||[]},only:function(e){if(!Fa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=Sr;U.Fragment=ev;U.Profiler=nv;U.PureComponent=Oa;U.StrictMode=tv;U.Suspense=iv;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pv;U.act=af;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tf({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=$a.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)of.call(t,c)&&!sf.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:_o,type:e.type,key:o,ref:s,props:r,_owner:i}};U.createContext=function(e){return e={$$typeof:ov,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rv,_context:e},e.Consumer=e};U.createElement=lf;U.createFactory=function(e){var t=lf.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:sv,render:e}};U.isValidElement=Fa;U.lazy=function(e){return{$$typeof:av,_payload:{_status:-1,_result:e},_init:fv}};U.memo=function(e,t){return{$$typeof:lv,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=hs.transition;hs.transition={};try{e()}finally{hs.transition=t}};U.unstable_act=af;U.useCallback=function(e,t){return ze.current.useCallback(e,t)};U.useContext=function(e){return ze.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};U.useEffect=function(e,t){return ze.current.useEffect(e,t)};U.useId=function(){return ze.current.useId()};U.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return ze.current.useMemo(e,t)};U.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};U.useRef=function(e){return ze.current.useRef(e)};U.useState=function(e){return ze.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return ze.current.useTransition()};U.version="18.3.1";Zd.exports=U;var u=Zd.exports;const ht=Da(u),li=Jg({__proto__:null,default:ht},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=u,mv=Symbol.for("react.element"),gv=Symbol.for("react.fragment"),vv=Object.prototype.hasOwnProperty,yv=hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xv={key:!0,ref:!0,__self:!0,__source:!0};function cf(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)vv.call(t,r)&&!xv.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:mv,type:e,key:s,ref:i,props:o,_owner:yv.current}}ii.Fragment=gv;ii.jsx=cf;ii.jsxs=cf;Jd.exports=ii;var a=Jd.exports,Il={},uf={exports:{}},et={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,O){var $=R.length;R.push(O);e:for(;0<$;){var F=$-1>>>1,ne=R[F];if(0<o(ne,O))R[F]=O,R[$]=ne,$=F;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var O=R[0],$=R.pop();if($!==O){R[0]=$;e:for(var F=0,ne=R.length,dt=ne>>>1;F<dt;){var _t=2*(F+1)-1,Ui=R[_t],gn=_t+1,Wo=R[gn];if(0>o(Ui,$))gn<ne&&0>o(Wo,Ui)?(R[F]=Wo,R[gn]=$,F=gn):(R[F]=Ui,R[_t]=$,F=_t);else if(gn<ne&&0>o(Wo,$))R[F]=Wo,R[gn]=$,F=gn;else break e}}return O}function o(R,O){var $=R.sortIndex-O.sortIndex;return $!==0?$:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],p=1,f=null,h=3,y=!1,w=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var O=n(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=R)r(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(d)}}function C(R){if(v=!1,x(R),!w)if(n(c)!==null)w=!0,G(N);else{var O=n(d);O!==null&&ee(C,O.startTime-R)}}function N(R,O){w=!1,v&&(v=!1,m(E),E=-1),y=!0;var $=h;try{for(x(O),f=n(c);f!==null&&(!(f.expirationTime>O)||R&&!M());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var ne=F(f.expirationTime<=O);O=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(c)&&r(c),x(O)}else r(c);f=n(c)}if(f!==null)var dt=!0;else{var _t=n(d);_t!==null&&ee(C,_t.startTime-O),dt=!1}return dt}finally{f=null,h=$,y=!1}}var b=!1,_=null,E=-1,I=5,j=-1;function M(){return!(e.unstable_now()-j<I)}function T(){if(_!==null){var R=e.unstable_now();j=R;var O=!0;try{O=_(!0,R)}finally{O?H():(b=!1,_=null)}}else b=!1}var H;if(typeof g=="function")H=function(){g(T)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,K=D.port2;D.port1.onmessage=T,H=function(){K.postMessage(null)}}else H=function(){S(T,0)};function G(R){_=R,b||(b=!0,H())}function ee(R,O){E=S(function(){R(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,G(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var $=h;h=O;try{return R()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var $=h;h=R;try{return O()}finally{h=$}},e.unstable_scheduleCallback=function(R,O,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,R){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=$+ne,R={id:p++,callback:O,priorityLevel:R,startTime:$,expirationTime:ne,sortIndex:-1},$>F?(R.sortIndex=$,t(d,R),n(c)===null&&R===n(d)&&(v?(m(E),E=-1):v=!0,ee(C,$-F))):(R.sortIndex=ne,t(c,R),w||y||(w=!0,G(N))),R},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(R){var O=h;return function(){var $=h;h=O;try{return R.apply(this,arguments)}finally{h=$}}}})(ff);df.exports=ff;var wv=df.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv=u,Ze=wv;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pf=new Set,eo={};function On(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(eo[e]=t,e=0;e<t.length;e++)pf.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ml=Object.prototype.hasOwnProperty,Cv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zc={},eu={};function _v(e){return Ml.call(eu,e)?!0:Ml.call(Zc,e)?!1:Cv.test(e)?eu[e]=!0:(Zc[e]=!0,!1)}function Ev(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bv(e,t,n,r){if(t===null||typeof t>"u"||Ev(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var za=/[\-:]([a-z])/g;function Wa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(za,Wa);Pe[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(za,Wa);Pe[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(za,Wa);Pe[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ua(e,t,n,r){var o=Pe.hasOwnProperty(t)?Pe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bv(t,n,o,r)&&(n=null),r||o===null?_v(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bt=Sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bo=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),Ba=Symbol.for("react.strict_mode"),Al=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),mf=Symbol.for("react.context"),Va=Symbol.for("react.forward_ref"),Dl=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),Ha=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),gf=Symbol.for("react.offscreen"),tu=Symbol.iterator;function jr(e){return e===null||typeof e!="object"?null:(e=tu&&e[tu]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,Vi;function $r(e){if(Vi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vi=t&&t[1]||""}return`
`+Vi+e}var Hi=!1;function Gi(e,t){if(!e||Hi)return"";Hi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,l=s.length-1;1<=i&&0<=l&&o[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==s[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Hi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$r(e):""}function kv(e){switch(e.tag){case 5:return $r(e.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 2:case 15:return e=Gi(e.type,!1),e;case 11:return e=Gi(e.type.render,!1),e;case 1:return e=Gi(e.type,!0),e;default:return""}}function Ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case Gn:return"Portal";case Al:return"Profiler";case Ba:return"StrictMode";case Dl:return"Suspense";case Ol:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mf:return(e.displayName||"Context")+".Consumer";case hf:return(e._context.displayName||"Context")+".Provider";case Va:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ha:return t=e.displayName||null,t!==null?t:Ll(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return Ll(e(t))}catch{}}return null}function Nv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ll(t);case 8:return t===Ba?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jv(e){var t=vf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vo(e){e._valueTracker||(e._valueTracker=jv(e))}function yf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $l(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xf(e,t){t=t.checked,t!=null&&Ua(e,"checked",t,!1)}function Fl(e,t){xf(e,t);var n=dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zl(e,t.type,n):t.hasOwnProperty("defaultValue")&&zl(e,t.type,dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ru(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zl(e,t,n){(t!=="number"||Ts(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fr=Array.isArray;function or(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ou(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Fr(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dn(n)}}function wf(e,t){var n=dn(t.value),r=dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function su(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ul(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ho,Cf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function to(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pv=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){Pv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Br[t]=Br[e]})});function _f(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Br.hasOwnProperty(e)&&Br[e]?(""+t).trim():t+"px"}function Ef(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=_f(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Rv=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bl(e,t){if(t){if(Rv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Vl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hl=null;function Ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gl=null,sr=null,ir=null;function iu(e){if(e=ko(e)){if(typeof Gl!="function")throw Error(P(280));var t=e.stateNode;t&&(t=fi(t),Gl(e.stateNode,e.type,t))}}function bf(e){sr?ir?ir.push(e):ir=[e]:sr=e}function kf(){if(sr){var e=sr,t=ir;if(ir=sr=null,iu(e),t)for(e=0;e<t.length;e++)iu(t[e])}}function Nf(e,t){return e(t)}function jf(){}var Ki=!1;function Pf(e,t,n){if(Ki)return e(t,n);Ki=!0;try{return Nf(e,t,n)}finally{Ki=!1,(sr!==null||ir!==null)&&(jf(),kf())}}function no(e,t){var n=e.stateNode;if(n===null)return null;var r=fi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Kl=!1;if(Ft)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Kl=!1}function Tv(e,t,n,r,o,s,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var Vr=!1,Is=null,Ms=!1,Yl=null,Iv={onError:function(e){Vr=!0,Is=e}};function Mv(e,t,n,r,o,s,i,l,c){Vr=!1,Is=null,Tv.apply(Iv,arguments)}function Av(e,t,n,r,o,s,i,l,c){if(Mv.apply(this,arguments),Vr){if(Vr){var d=Is;Vr=!1,Is=null}else throw Error(P(198));Ms||(Ms=!0,Yl=d)}}function Ln(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if(Ln(e)!==e)throw Error(P(188))}function Dv(e){var t=e.alternate;if(!t){if(t=Ln(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return lu(o),e;if(s===r)return lu(o),t;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Tf(e){return e=Dv(e),e!==null?If(e):null}function If(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=If(e);if(t!==null)return t;e=e.sibling}return null}var Mf=Ze.unstable_scheduleCallback,au=Ze.unstable_cancelCallback,Ov=Ze.unstable_shouldYield,Lv=Ze.unstable_requestPaint,he=Ze.unstable_now,$v=Ze.unstable_getCurrentPriorityLevel,Ka=Ze.unstable_ImmediatePriority,Af=Ze.unstable_UserBlockingPriority,As=Ze.unstable_NormalPriority,Fv=Ze.unstable_LowPriority,Df=Ze.unstable_IdlePriority,ai=null,Pt=null;function zv(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(ai,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Bv,Wv=Math.log,Uv=Math.LN2;function Bv(e){return e>>>=0,e===0?32:31-(Wv(e)/Uv|0)|0}var Go=64,Ko=4194304;function zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=zr(l):(s&=i,s!==0&&(r=zr(s)))}else i=n&~o,i!==0?r=zr(i):s!==0&&(r=zr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yt(t),o=1<<n,r|=e[n],t&=~o;return r}function Vv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-yt(s),l=1<<i,c=o[i];c===-1?(!(l&n)||l&r)&&(o[i]=Vv(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Of(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function Yi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Eo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function Gv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-yt(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Ya(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var J=0;function Lf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $f,Xa,Ff,zf,Wf,Ql=!1,Yo=[],tn=null,nn=null,rn=null,ro=new Map,oo=new Map,Qt=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cu(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(t.pointerId)}}function Rr(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=ko(t),t!==null&&Xa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Yv(e,t,n,r,o){switch(t){case"focusin":return tn=Rr(tn,e,t,n,r,o),!0;case"dragenter":return nn=Rr(nn,e,t,n,r,o),!0;case"mouseover":return rn=Rr(rn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return ro.set(s,Rr(ro.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,oo.set(s,Rr(oo.get(s)||null,e,t,n,r,o)),!0}return!1}function Uf(e){var t=xn(e.target);if(t!==null){var n=Ln(t);if(n!==null){if(t=n.tag,t===13){if(t=Rf(n),t!==null){e.blockedOn=t,Wf(e.priority,function(){Ff(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ql(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Hl=r,n.target.dispatchEvent(r),Hl=null}else return t=ko(n),t!==null&&Xa(t),e.blockedOn=n,!1;t.shift()}return!0}function uu(e,t,n){ms(e)&&n.delete(t)}function Xv(){Ql=!1,tn!==null&&ms(tn)&&(tn=null),nn!==null&&ms(nn)&&(nn=null),rn!==null&&ms(rn)&&(rn=null),ro.forEach(uu),oo.forEach(uu)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ql||(Ql=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Xv)))}function so(e){function t(o){return Tr(o,e)}if(0<Yo.length){Tr(Yo[0],e);for(var n=1;n<Yo.length;n++){var r=Yo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tn!==null&&Tr(tn,e),nn!==null&&Tr(nn,e),rn!==null&&Tr(rn,e),ro.forEach(t),oo.forEach(t),n=0;n<Qt.length;n++)r=Qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)Uf(n),n.blockedOn===null&&Qt.shift()}var lr=Bt.ReactCurrentBatchConfig,Os=!0;function Qv(e,t,n,r){var o=J,s=lr.transition;lr.transition=null;try{J=1,Qa(e,t,n,r)}finally{J=o,lr.transition=s}}function qv(e,t,n,r){var o=J,s=lr.transition;lr.transition=null;try{J=4,Qa(e,t,n,r)}finally{J=o,lr.transition=s}}function Qa(e,t,n,r){if(Os){var o=ql(e,t,n,r);if(o===null)ol(e,t,r,Ls,n),cu(e,r);else if(Yv(o,e,t,n,r))r.stopPropagation();else if(cu(e,r),t&4&&-1<Kv.indexOf(e)){for(;o!==null;){var s=ko(o);if(s!==null&&$f(s),s=ql(e,t,n,r),s===null&&ol(e,t,r,Ls,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else ol(e,t,r,null,n)}}var Ls=null;function ql(e,t,n,r){if(Ls=null,e=Ga(r),e=xn(e),e!==null)if(t=Ln(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ls=e,null}function Bf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($v()){case Ka:return 1;case Af:return 4;case As:case Fv:return 16;case Df:return 536870912;default:return 16}default:return 16}}var Jt=null,qa=null,gs=null;function Vf(){if(gs)return gs;var e,t=qa,n=t.length,r,o="value"in Jt?Jt.value:Jt.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return gs=o.slice(e,1<r?1-r:void 0)}function vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xo(){return!0}function du(){return!1}function tt(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xo:du,this.isPropagationStopped=du,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=tt(Cr),bo=fe({},Cr,{view:0,detail:0}),Jv=tt(bo),Xi,Qi,Ir,ci=fe({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(Xi=e.screenX-Ir.screenX,Qi=e.screenY-Ir.screenY):Qi=Xi=0,Ir=e),Xi)},movementY:function(e){return"movementY"in e?e.movementY:Qi}}),fu=tt(ci),Zv=fe({},ci,{dataTransfer:0}),ey=tt(Zv),ty=fe({},bo,{relatedTarget:0}),qi=tt(ty),ny=fe({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),ry=tt(ny),oy=fe({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sy=tt(oy),iy=fe({},Cr,{data:0}),pu=tt(iy),ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cy[e])?!!t[e]:!1}function Za(){return uy}var dy=fe({},bo,{key:function(e){if(e.key){var t=ly[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ay[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fy=tt(dy),py=fe({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=tt(py),hy=fe({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),my=tt(hy),gy=fe({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vy=tt(gy),yy=fe({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xy=tt(yy),wy=[9,13,27,32],ec=Ft&&"CompositionEvent"in window,Hr=null;Ft&&"documentMode"in document&&(Hr=document.documentMode);var Sy=Ft&&"TextEvent"in window&&!Hr,Hf=Ft&&(!ec||Hr&&8<Hr&&11>=Hr),mu=" ",gu=!1;function Gf(e,t){switch(e){case"keyup":return wy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function Cy(e,t){switch(e){case"compositionend":return Kf(t);case"keypress":return t.which!==32?null:(gu=!0,mu);case"textInput":return e=t.data,e===mu&&gu?null:e;default:return null}}function _y(e,t){if(Yn)return e==="compositionend"||!ec&&Gf(e,t)?(e=Vf(),gs=qa=Jt=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hf&&t.locale!=="ko"?null:t.data;default:return null}}var Ey={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ey[e.type]:t==="textarea"}function Yf(e,t,n,r){bf(r),t=$s(t,"onChange"),0<t.length&&(n=new Ja("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gr=null,io=null;function by(e){sp(e,0)}function ui(e){var t=qn(e);if(yf(t))return e}function ky(e,t){if(e==="change")return t}var Xf=!1;if(Ft){var Ji;if(Ft){var Zi="oninput"in document;if(!Zi){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),Zi=typeof yu.oninput=="function"}Ji=Zi}else Ji=!1;Xf=Ji&&(!document.documentMode||9<document.documentMode)}function xu(){Gr&&(Gr.detachEvent("onpropertychange",Qf),io=Gr=null)}function Qf(e){if(e.propertyName==="value"&&ui(io)){var t=[];Yf(t,io,e,Ga(e)),Pf(by,t)}}function Ny(e,t,n){e==="focusin"?(xu(),Gr=t,io=n,Gr.attachEvent("onpropertychange",Qf)):e==="focusout"&&xu()}function jy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(io)}function Py(e,t){if(e==="click")return ui(t)}function Ry(e,t){if(e==="input"||e==="change")return ui(t)}function Ty(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:Ty;function lo(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ml.call(t,o)||!wt(e[o],t[o]))return!1}return!0}function wu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Su(e,t){var n=wu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wu(n)}}function qf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jf(){for(var e=window,t=Ts();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ts(e.document)}return t}function tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Iy(e){var t=Jf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qf(n.ownerDocument.documentElement,n)){if(r!==null&&tc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Su(n,s);var i=Su(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var My=Ft&&"documentMode"in document&&11>=document.documentMode,Xn=null,Jl=null,Kr=null,Zl=!1;function Cu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zl||Xn==null||Xn!==Ts(r)||(r=Xn,"selectionStart"in r&&tc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kr&&lo(Kr,r)||(Kr=r,r=$s(Jl,"onSelect"),0<r.length&&(t=new Ja("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xn)))}function Qo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qn={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},el={},Zf={};Ft&&(Zf=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function di(e){if(el[e])return el[e];if(!Qn[e])return e;var t=Qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zf)return el[e]=t[n];return e}var ep=di("animationend"),tp=di("animationiteration"),np=di("animationstart"),rp=di("transitionend"),op=new Map,_u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(e,t){op.set(e,t),On(t,[e])}for(var tl=0;tl<_u.length;tl++){var nl=_u[tl],Ay=nl.toLowerCase(),Dy=nl[0].toUpperCase()+nl.slice(1);pn(Ay,"on"+Dy)}pn(ep,"onAnimationEnd");pn(tp,"onAnimationIteration");pn(np,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(rp,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Eu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Av(r,t,void 0,e),e.currentTarget=null}function sp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&o.isPropagationStopped())break e;Eu(o,l,d),s=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&o.isPropagationStopped())break e;Eu(o,l,d),s=c}}}if(Ms)throw e=Yl,Ms=!1,Yl=null,e}function se(e,t){var n=t[oa];n===void 0&&(n=t[oa]=new Set);var r=e+"__bubble";n.has(r)||(ip(t,e,2,!1),n.add(r))}function rl(e,t,n){var r=0;t&&(r|=4),ip(n,e,r,t)}var qo="_reactListening"+Math.random().toString(36).slice(2);function ao(e){if(!e[qo]){e[qo]=!0,pf.forEach(function(n){n!=="selectionchange"&&(Oy.has(n)||rl(n,!1,e),rl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qo]||(t[qo]=!0,rl("selectionchange",!1,t))}}function ip(e,t,n,r){switch(Bf(t)){case 1:var o=Qv;break;case 4:o=qv;break;default:o=Qa}n=o.bind(null,t,n,e),o=void 0,!Kl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ol(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=xn(l),i===null)return;if(c=i.tag,c===5||c===6){r=s=i;continue e}l=l.parentNode}}r=r.return}Pf(function(){var d=s,p=Ga(n),f=[];e:{var h=op.get(e);if(h!==void 0){var y=Ja,w=e;switch(e){case"keypress":if(vs(n)===0)break e;case"keydown":case"keyup":y=fy;break;case"focusin":w="focus",y=qi;break;case"focusout":w="blur",y=qi;break;case"beforeblur":case"afterblur":y=qi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=my;break;case ep:case tp:case np:y=ry;break;case rp:y=vy;break;case"scroll":y=Jv;break;case"wheel":y=xy;break;case"copy":case"cut":case"paste":y=sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=hu}var v=(t&4)!==0,S=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=d,x;g!==null;){x=g;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,m!==null&&(C=no(g,m),C!=null&&v.push(co(g,C,x)))),S)break;g=g.return}0<v.length&&(h=new y(h,w,null,n,p),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Hl&&(w=n.relatedTarget||n.fromElement)&&(xn(w)||w[zt]))break e;if((y||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=d,w=w?xn(w):null,w!==null&&(S=Ln(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=d),y!==w)){if(v=fu,C="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=hu,C="onPointerLeave",m="onPointerEnter",g="pointer"),S=y==null?h:qn(y),x=w==null?h:qn(w),h=new v(C,g+"leave",y,n,p),h.target=S,h.relatedTarget=x,C=null,xn(p)===d&&(v=new v(m,g+"enter",w,n,p),v.target=x,v.relatedTarget=S,C=v),S=C,y&&w)t:{for(v=y,m=w,g=0,x=v;x;x=zn(x))g++;for(x=0,C=m;C;C=zn(C))x++;for(;0<g-x;)v=zn(v),g--;for(;0<x-g;)m=zn(m),x--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=zn(v),m=zn(m)}v=null}else v=null;y!==null&&bu(f,h,y,v,!1),w!==null&&S!==null&&bu(f,S,w,v,!0)}}e:{if(h=d?qn(d):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var N=ky;else if(vu(h))if(Xf)N=Ry;else{N=jy;var b=Ny}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Py);if(N&&(N=N(e,d))){Yf(f,N,n,p);break e}b&&b(e,h,d),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&zl(h,"number",h.value)}switch(b=d?qn(d):window,e){case"focusin":(vu(b)||b.contentEditable==="true")&&(Xn=b,Jl=d,Kr=null);break;case"focusout":Kr=Jl=Xn=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,Cu(f,n,p);break;case"selectionchange":if(My)break;case"keydown":case"keyup":Cu(f,n,p)}var _;if(ec)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Yn?Gf(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Hf&&n.locale!=="ko"&&(Yn||E!=="onCompositionStart"?E==="onCompositionEnd"&&Yn&&(_=Vf()):(Jt=p,qa="value"in Jt?Jt.value:Jt.textContent,Yn=!0)),b=$s(d,E),0<b.length&&(E=new pu(E,e,null,n,p),f.push({event:E,listeners:b}),_?E.data=_:(_=Kf(n),_!==null&&(E.data=_)))),(_=Sy?Cy(e,n):_y(e,n))&&(d=$s(d,"onBeforeInput"),0<d.length&&(p=new pu("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:d}),p.data=_))}sp(f,t)})}function co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $s(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=no(e,n),s!=null&&r.unshift(co(e,s,o)),s=no(e,t),s!=null&&r.push(co(e,s,o))),e=e.return}return r}function zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bu(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,o?(c=no(n,s),c!=null&&i.unshift(co(n,c,l))):o||(c=no(n,s),c!=null&&i.push(co(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Ly=/\r\n?/g,$y=/\u0000|\uFFFD/g;function ku(e){return(typeof e=="string"?e:""+e).replace(Ly,`
`).replace($y,"")}function Jo(e,t,n){if(t=ku(t),ku(e)!==t&&n)throw Error(P(425))}function Fs(){}var ea=null,ta=null;function na(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ra=typeof setTimeout=="function"?setTimeout:void 0,Fy=typeof clearTimeout=="function"?clearTimeout:void 0,Nu=typeof Promise=="function"?Promise:void 0,zy=typeof queueMicrotask=="function"?queueMicrotask:typeof Nu<"u"?function(e){return Nu.resolve(null).then(e).catch(Wy)}:ra;function Wy(e){setTimeout(function(){throw e})}function sl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),so(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);so(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ju(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _r=Math.random().toString(36).slice(2),kt="__reactFiber$"+_r,uo="__reactProps$"+_r,zt="__reactContainer$"+_r,oa="__reactEvents$"+_r,Uy="__reactListeners$"+_r,By="__reactHandles$"+_r;function xn(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ju(e);e!==null;){if(n=e[kt])return n;e=ju(e)}return t}e=n,n=e.parentNode}return null}function ko(e){return e=e[kt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function fi(e){return e[uo]||null}var sa=[],Jn=-1;function hn(e){return{current:e}}function ie(e){0>Jn||(e.current=sa[Jn],sa[Jn]=null,Jn--)}function re(e,t){Jn++,sa[Jn]=e.current,e.current=t}var fn={},Ae=hn(fn),Ve=hn(!1),Pn=fn;function pr(e,t){var n=e.type.contextTypes;if(!n)return fn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function He(e){return e=e.childContextTypes,e!=null}function zs(){ie(Ve),ie(Ae)}function Pu(e,t,n){if(Ae.current!==fn)throw Error(P(168));re(Ae,t),re(Ve,n)}function lp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(P(108,Nv(e)||"Unknown",o));return fe({},n,r)}function Ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fn,Pn=Ae.current,re(Ae,e),re(Ve,Ve.current),!0}function Ru(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=lp(e,t,Pn),r.__reactInternalMemoizedMergedChildContext=e,ie(Ve),ie(Ae),re(Ae,e)):ie(Ve),re(Ve,n)}var Dt=null,pi=!1,il=!1;function ap(e){Dt===null?Dt=[e]:Dt.push(e)}function Vy(e){pi=!0,ap(e)}function mn(){if(!il&&Dt!==null){il=!0;var e=0,t=J;try{var n=Dt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dt=null,pi=!1}catch(o){throw Dt!==null&&(Dt=Dt.slice(e+1)),Mf(Ka,mn),o}finally{J=t,il=!1}}return null}var Zn=[],er=0,Us=null,Bs=0,nt=[],rt=0,Rn=null,Ot=1,Lt="";function vn(e,t){Zn[er++]=Bs,Zn[er++]=Us,Us=e,Bs=t}function cp(e,t,n){nt[rt++]=Ot,nt[rt++]=Lt,nt[rt++]=Rn,Rn=e;var r=Ot;e=Lt;var o=32-yt(r)-1;r&=~(1<<o),n+=1;var s=32-yt(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Ot=1<<32-yt(t)+o|n<<o|r,Lt=s+e}else Ot=1<<s|n<<o|r,Lt=e}function nc(e){e.return!==null&&(vn(e,1),cp(e,1,0))}function rc(e){for(;e===Us;)Us=Zn[--er],Zn[er]=null,Bs=Zn[--er],Zn[er]=null;for(;e===Rn;)Rn=nt[--rt],nt[rt]=null,Lt=nt[--rt],nt[rt]=null,Ot=nt[--rt],nt[rt]=null}var Je=null,Qe=null,le=!1,gt=null;function up(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Qe=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rn!==null?{id:Ot,overflow:Lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Qe=null,!0):!1;default:return!1}}function ia(e){return(e.mode&1)!==0&&(e.flags&128)===0}function la(e){if(le){var t=Qe;if(t){var n=t;if(!Tu(e,t)){if(ia(e))throw Error(P(418));t=on(n.nextSibling);var r=Je;t&&Tu(e,t)?up(r,n):(e.flags=e.flags&-4097|2,le=!1,Je=e)}}else{if(ia(e))throw Error(P(418));e.flags=e.flags&-4097|2,le=!1,Je=e}}}function Iu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Zo(e){if(e!==Je)return!1;if(!le)return Iu(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!na(e.type,e.memoizedProps)),t&&(t=Qe)){if(ia(e))throw dp(),Error(P(418));for(;t;)up(e,t),t=on(t.nextSibling)}if(Iu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Je?on(e.stateNode.nextSibling):null;return!0}function dp(){for(var e=Qe;e;)e=on(e.nextSibling)}function hr(){Qe=Je=null,le=!1}function oc(e){gt===null?gt=[e]:gt.push(e)}var Hy=Bt.ReactCurrentBatchConfig;function Mr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=o.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function es(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mu(e){var t=e._init;return t(e._payload)}function fp(e){function t(m,g){if(e){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function o(m,g){return m=cn(m,g),m.index=0,m.sibling=null,m}function s(m,g,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,x,C){return g===null||g.tag!==6?(g=pl(x,m.mode,C),g.return=m,g):(g=o(g,x),g.return=m,g)}function c(m,g,x,C){var N=x.type;return N===Kn?p(m,g,x.props.children,C,x.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Yt&&Mu(N)===g.type)?(C=o(g,x.props),C.ref=Mr(m,g,x),C.return=m,C):(C=Es(x.type,x.key,x.props,null,m.mode,C),C.ref=Mr(m,g,x),C.return=m,C)}function d(m,g,x,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=hl(x,m.mode,C),g.return=m,g):(g=o(g,x.children||[]),g.return=m,g)}function p(m,g,x,C,N){return g===null||g.tag!==7?(g=bn(x,m.mode,C,N),g.return=m,g):(g=o(g,x),g.return=m,g)}function f(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=pl(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bo:return x=Es(g.type,g.key,g.props,null,m.mode,x),x.ref=Mr(m,null,g),x.return=m,x;case Gn:return g=hl(g,m.mode,x),g.return=m,g;case Yt:var C=g._init;return f(m,C(g._payload),x)}if(Fr(g)||jr(g))return g=bn(g,m.mode,x,null),g.return=m,g;es(m,g)}return null}function h(m,g,x,C){var N=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(m,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bo:return x.key===N?c(m,g,x,C):null;case Gn:return x.key===N?d(m,g,x,C):null;case Yt:return N=x._init,h(m,g,N(x._payload),C)}if(Fr(x)||jr(x))return N!==null?null:p(m,g,x,C,null);es(m,x)}return null}function y(m,g,x,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(x)||null,l(g,m,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Bo:return m=m.get(C.key===null?x:C.key)||null,c(g,m,C,N);case Gn:return m=m.get(C.key===null?x:C.key)||null,d(g,m,C,N);case Yt:var b=C._init;return y(m,g,x,b(C._payload),N)}if(Fr(C)||jr(C))return m=m.get(x)||null,p(g,m,C,N,null);es(g,C)}return null}function w(m,g,x,C){for(var N=null,b=null,_=g,E=g=0,I=null;_!==null&&E<x.length;E++){_.index>E?(I=_,_=null):I=_.sibling;var j=h(m,_,x[E],C);if(j===null){_===null&&(_=I);break}e&&_&&j.alternate===null&&t(m,_),g=s(j,g,E),b===null?N=j:b.sibling=j,b=j,_=I}if(E===x.length)return n(m,_),le&&vn(m,E),N;if(_===null){for(;E<x.length;E++)_=f(m,x[E],C),_!==null&&(g=s(_,g,E),b===null?N=_:b.sibling=_,b=_);return le&&vn(m,E),N}for(_=r(m,_);E<x.length;E++)I=y(_,m,E,x[E],C),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?E:I.key),g=s(I,g,E),b===null?N=I:b.sibling=I,b=I);return e&&_.forEach(function(M){return t(m,M)}),le&&vn(m,E),N}function v(m,g,x,C){var N=jr(x);if(typeof N!="function")throw Error(P(150));if(x=N.call(x),x==null)throw Error(P(151));for(var b=N=null,_=g,E=g=0,I=null,j=x.next();_!==null&&!j.done;E++,j=x.next()){_.index>E?(I=_,_=null):I=_.sibling;var M=h(m,_,j.value,C);if(M===null){_===null&&(_=I);break}e&&_&&M.alternate===null&&t(m,_),g=s(M,g,E),b===null?N=M:b.sibling=M,b=M,_=I}if(j.done)return n(m,_),le&&vn(m,E),N;if(_===null){for(;!j.done;E++,j=x.next())j=f(m,j.value,C),j!==null&&(g=s(j,g,E),b===null?N=j:b.sibling=j,b=j);return le&&vn(m,E),N}for(_=r(m,_);!j.done;E++,j=x.next())j=y(_,m,E,j.value,C),j!==null&&(e&&j.alternate!==null&&_.delete(j.key===null?E:j.key),g=s(j,g,E),b===null?N=j:b.sibling=j,b=j);return e&&_.forEach(function(T){return t(m,T)}),le&&vn(m,E),N}function S(m,g,x,C){if(typeof x=="object"&&x!==null&&x.type===Kn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Bo:e:{for(var N=x.key,b=g;b!==null;){if(b.key===N){if(N=x.type,N===Kn){if(b.tag===7){n(m,b.sibling),g=o(b,x.props.children),g.return=m,m=g;break e}}else if(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Yt&&Mu(N)===b.type){n(m,b.sibling),g=o(b,x.props),g.ref=Mr(m,b,x),g.return=m,m=g;break e}n(m,b);break}else t(m,b);b=b.sibling}x.type===Kn?(g=bn(x.props.children,m.mode,C,x.key),g.return=m,m=g):(C=Es(x.type,x.key,x.props,null,m.mode,C),C.ref=Mr(m,g,x),C.return=m,m=C)}return i(m);case Gn:e:{for(b=x.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(m,g.sibling),g=o(g,x.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=hl(x,m.mode,C),g.return=m,m=g}return i(m);case Yt:return b=x._init,S(m,g,b(x._payload),C)}if(Fr(x))return w(m,g,x,C);if(jr(x))return v(m,g,x,C);es(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(m,g.sibling),g=o(g,x),g.return=m,m=g):(n(m,g),g=pl(x,m.mode,C),g.return=m,m=g),i(m)):n(m,g)}return S}var mr=fp(!0),pp=fp(!1),Vs=hn(null),Hs=null,tr=null,sc=null;function ic(){sc=tr=Hs=null}function lc(e){var t=Vs.current;ie(Vs),e._currentValue=t}function aa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ar(e,t){Hs=e,sc=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(sc!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(Hs===null)throw Error(P(308));tr=e,Hs.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var wn=null;function ac(e){wn===null?wn=[e]:wn.push(e)}function hp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ac(t)):(n.next=o.next,o.next=n),t.interleaved=n,Wt(e,r)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xt=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Wt(e,n)}return o=r.interleaved,o===null?(t.next=t,ac(r)):(t.next=o.next,o.next=t),r.interleaved=t,Wt(e,n)}function ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ya(e,n)}}function Au(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gs(e,t,n,r){var o=e.updateQueue;Xt=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?s=d:i.next=d,i=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==i&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=c))}if(s!==null){var f=o.baseState;i=0,p=d=c=null,l=s;do{var h=l.lane,y=l.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(h=t,y=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(y,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(y,f,h):w,h==null)break e;f=fe({},f,h);break e;case 2:Xt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=y,c=f):p=p.next=y,i|=h;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;h=l,l=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(p===null&&(c=f),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);In|=i,e.lanes=i,e.memoizedState=f}}function Du(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(P(191,o));o.call(r)}}}var No={},Rt=hn(No),fo=hn(No),po=hn(No);function Sn(e){if(e===No)throw Error(P(174));return e}function uc(e,t){switch(re(po,t),re(fo,e),re(Rt,No),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ul(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ul(t,e)}ie(Rt),re(Rt,t)}function gr(){ie(Rt),ie(fo),ie(po)}function gp(e){Sn(po.current);var t=Sn(Rt.current),n=Ul(t,e.type);t!==n&&(re(fo,e),re(Rt,n))}function dc(e){fo.current===e&&(ie(Rt),ie(fo))}var ce=hn(0);function Ks(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=[];function fc(){for(var e=0;e<ll.length;e++)ll[e]._workInProgressVersionPrimary=null;ll.length=0}var xs=Bt.ReactCurrentDispatcher,al=Bt.ReactCurrentBatchConfig,Tn=0,de=null,xe=null,Ce=null,Ys=!1,Yr=!1,ho=0,Gy=0;function Re(){throw Error(P(321))}function pc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wt(e[n],t[n]))return!1;return!0}function hc(e,t,n,r,o,s){if(Tn=s,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xs.current=e===null||e.memoizedState===null?Qy:qy,e=n(r,o),Yr){s=0;do{if(Yr=!1,ho=0,25<=s)throw Error(P(301));s+=1,Ce=xe=null,t.updateQueue=null,xs.current=Jy,e=n(r,o)}while(Yr)}if(xs.current=Xs,t=xe!==null&&xe.next!==null,Tn=0,Ce=xe=de=null,Ys=!1,t)throw Error(P(300));return e}function mc(){var e=ho!==0;return ho=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?de.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function at(){if(xe===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Ce===null?de.memoizedState:Ce.next;if(t!==null)Ce=t,xe=e;else{if(e===null)throw Error(P(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Ce===null?de.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function mo(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=at(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=xe,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=i=null,c=null,d=s;do{var p=d.lane;if((Tn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,de.lanes|=p,In|=p}d=d.next}while(d!==null&&d!==s);c===null?i=r:c.next=l,wt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,de.lanes|=s,In|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ul(e){var t=at(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);wt(s,t.memoizedState)||(Be=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vp(){}function yp(e,t){var n=de,r=at(),o=t(),s=!wt(r.memoizedState,o);if(s&&(r.memoizedState=o,Be=!0),r=r.queue,gc(Sp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,go(9,wp.bind(null,n,r,o,t),void 0,null),Ee===null)throw Error(P(349));Tn&30||xp(n,t,o)}return o}function xp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wp(e,t,n,r){t.value=n,t.getSnapshot=r,Cp(t)&&_p(e)}function Sp(e,t,n){return n(function(){Cp(t)&&_p(e)})}function Cp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wt(e,n)}catch{return!0}}function _p(e){var t=Wt(e,1);t!==null&&xt(t,e,1,-1)}function Ou(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},t.queue=e,e=e.dispatch=Xy.bind(null,de,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ep(){return at().memoizedState}function ws(e,t,n,r){var o=bt();de.flags|=e,o.memoizedState=go(1|t,n,void 0,r===void 0?null:r)}function hi(e,t,n,r){var o=at();r=r===void 0?null:r;var s=void 0;if(xe!==null){var i=xe.memoizedState;if(s=i.destroy,r!==null&&pc(r,i.deps)){o.memoizedState=go(t,n,s,r);return}}de.flags|=e,o.memoizedState=go(1|t,n,s,r)}function Lu(e,t){return ws(8390656,8,e,t)}function gc(e,t){return hi(2048,8,e,t)}function bp(e,t){return hi(4,2,e,t)}function kp(e,t){return hi(4,4,e,t)}function Np(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jp(e,t,n){return n=n!=null?n.concat([e]):null,hi(4,4,Np.bind(null,t,e),n)}function vc(){}function Pp(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Rp(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tp(e,t,n){return Tn&21?(wt(n,t)||(n=Of(),de.lanes|=n,In|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function Ky(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=al.transition;al.transition={};try{e(!1),t()}finally{J=n,al.transition=r}}function Ip(){return at().memoizedState}function Yy(e,t,n){var r=an(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mp(e))Ap(t,n);else if(n=hp(e,t,n,r),n!==null){var o=$e();xt(n,e,r,o),Dp(n,t,r)}}function Xy(e,t,n){var r=an(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mp(e))Ap(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,n);if(o.hasEagerState=!0,o.eagerState=l,wt(l,i)){var c=t.interleaved;c===null?(o.next=o,ac(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=hp(e,t,o,r),n!==null&&(o=$e(),xt(n,e,r,o),Dp(n,t,r))}}function Mp(e){var t=e.alternate;return e===de||t!==null&&t===de}function Ap(e,t){Yr=Ys=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ya(e,n)}}var Xs={readContext:lt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Qy={readContext:lt,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Lu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ws(4194308,4,Np.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return ws(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yy.bind(null,de,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Ou,useDebugValue:vc,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Ou(!1),t=e[0];return e=Ky.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=de,o=bt();if(le){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Ee===null)throw Error(P(349));Tn&30||xp(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Lu(Sp.bind(null,r,s,e),[e]),r.flags|=2048,go(9,wp.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bt(),t=Ee.identifierPrefix;if(le){var n=Lt,r=Ot;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ho++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qy={readContext:lt,useCallback:Pp,useContext:lt,useEffect:gc,useImperativeHandle:jp,useInsertionEffect:bp,useLayoutEffect:kp,useMemo:Rp,useReducer:cl,useRef:Ep,useState:function(){return cl(mo)},useDebugValue:vc,useDeferredValue:function(e){var t=at();return Tp(t,xe.memoizedState,e)},useTransition:function(){var e=cl(mo)[0],t=at().memoizedState;return[e,t]},useMutableSource:vp,useSyncExternalStore:yp,useId:Ip,unstable_isNewReconciler:!1},Jy={readContext:lt,useCallback:Pp,useContext:lt,useEffect:gc,useImperativeHandle:jp,useInsertionEffect:bp,useLayoutEffect:kp,useMemo:Rp,useReducer:ul,useRef:Ep,useState:function(){return ul(mo)},useDebugValue:vc,useDeferredValue:function(e){var t=at();return xe===null?t.memoizedState=e:Tp(t,xe.memoizedState,e)},useTransition:function(){var e=ul(mo)[0],t=at().memoizedState;return[e,t]},useMutableSource:vp,useSyncExternalStore:yp,useId:Ip,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ca(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mi={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),o=an(e),s=$t(r,o);s.payload=t,n!=null&&(s.callback=n),t=sn(e,s,o),t!==null&&(xt(t,e,o,r),ys(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),o=an(e),s=$t(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=sn(e,s,o),t!==null&&(xt(t,e,o,r),ys(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=an(e),o=$t(n,r);o.tag=2,t!=null&&(o.callback=t),t=sn(e,o,r),t!==null&&(xt(t,e,r,n),ys(t,e,r))}};function $u(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!lo(n,r)||!lo(o,s):!0}function Op(e,t,n){var r=!1,o=fn,s=t.contextType;return typeof s=="object"&&s!==null?s=lt(s):(o=He(t)?Pn:Ae.current,r=t.contextTypes,s=(r=r!=null)?pr(e,o):fn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Fu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function ua(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},cc(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=lt(s):(s=He(t)?Pn:Ae.current,o.context=pr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ca(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&mi.enqueueReplaceState(o,o.state,null),Gs(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function vr(e,t){try{var n="",r=t;do n+=kv(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zy=typeof WeakMap=="function"?WeakMap:Map;function Lp(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Sa=r),da(e,t)},n}function $p(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){da(e,t),typeof r!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function zu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Zy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=px.bind(null,e,t,n),t.then(e,e))}function Wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uu(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,sn(n,t,1))),n.lanes|=1),e)}var ex=Bt.ReactCurrentOwner,Be=!1;function Oe(e,t,n,r){t.child=e===null?pp(t,null,n,r):mr(t,e.child,n,r)}function Bu(e,t,n,r,o){n=n.render;var s=t.ref;return ar(t,o),r=hc(e,t,n,r,s,o),n=mc(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ut(e,t,o)):(le&&n&&nc(t),t.flags|=1,Oe(e,t,r,o),t.child)}function Vu(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!bc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Fp(e,t,s,r,o)):(e=Es(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:lo,n(i,r)&&e.ref===t.ref)return Ut(e,t,o)}return t.flags|=1,e=cn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Fp(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(lo(s,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Ut(e,t,o)}return fa(e,t,n,r,o)}function zp(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(rr,Ke),Ke|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(rr,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,re(rr,Ke),Ke|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,re(rr,Ke),Ke|=r;return Oe(e,t,o,n),t.child}function Wp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fa(e,t,n,r,o){var s=He(n)?Pn:Ae.current;return s=pr(t,s),ar(t,o),n=hc(e,t,n,r,s,o),r=mc(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ut(e,t,o)):(le&&r&&nc(t),t.flags|=1,Oe(e,t,n,o),t.child)}function Hu(e,t,n,r,o){if(He(n)){var s=!0;Ws(t)}else s=!1;if(ar(t,o),t.stateNode===null)Ss(e,t),Op(t,n,r),ua(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=lt(d):(d=He(n)?Pn:Ae.current,d=pr(t,d));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Fu(t,i,r,d),Xt=!1;var h=t.memoizedState;i.state=h,Gs(t,r,i,o),c=t.memoizedState,l!==r||h!==c||Ve.current||Xt?(typeof p=="function"&&(ca(t,n,p,r),c=t.memoizedState),(l=Xt||$u(t,n,l,r,h,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,mp(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:pt(t.type,l),i.props=d,f=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=lt(c):(c=He(n)?Pn:Ae.current,c=pr(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Fu(t,i,r,c),Xt=!1,h=t.memoizedState,i.state=h,Gs(t,r,i,o);var w=t.memoizedState;l!==f||h!==w||Ve.current||Xt?(typeof y=="function"&&(ca(t,n,y,r),w=t.memoizedState),(d=Xt||$u(t,n,d,r,h,w,c)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return pa(e,t,n,r,s,o)}function pa(e,t,n,r,o,s){Wp(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Ru(t,n,!1),Ut(e,t,s);r=t.stateNode,ex.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=mr(t,e.child,null,s),t.child=mr(t,null,l,s)):Oe(e,t,l,s),t.memoizedState=r.state,o&&Ru(t,n,!0),t.child}function Up(e){var t=e.stateNode;t.pendingContext?Pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pu(e,t.context,!1),uc(e,t.containerInfo)}function Gu(e,t,n,r,o){return hr(),oc(o),t.flags|=256,Oe(e,t,n,r),t.child}var ha={dehydrated:null,treeContext:null,retryLane:0};function ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bp(e,t,n){var r=t.pendingProps,o=ce.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),re(ce,o&1),e===null)return la(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=yi(i,r,0,null),e=bn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ma(n),t.memoizedState=ha,e):yc(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return tx(e,t,i,r,l,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=cn(o,c),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=cn(l,s):(s=bn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?ma(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=ha,r}return s=e.child,e=s.sibling,r=cn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yc(e,t){return t=yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ts(e,t,n,r){return r!==null&&oc(r),mr(t,e.child,null,n),e=yc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tx(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=dl(Error(P(422))),ts(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=yi({mode:"visible",children:r.children},o,0,null),s=bn(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&mr(t,e.child,null,i),t.child.memoizedState=ma(i),t.memoizedState=ha,s);if(!(t.mode&1))return ts(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=dl(s,r,void 0),ts(e,t,i,r)}if(l=(i&e.childLanes)!==0,Be||l){if(r=Ee,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Wt(e,o),xt(r,e,o,-1))}return Ec(),r=dl(Error(P(421))),ts(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=hx.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Qe=on(o.nextSibling),Je=t,le=!0,gt=null,e!==null&&(nt[rt++]=Ot,nt[rt++]=Lt,nt[rt++]=Rn,Ot=e.id,Lt=e.overflow,Rn=t),t=yc(t,r.children),t.flags|=4096,t)}function Ku(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),aa(e.return,t,n)}function fl(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Vp(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Oe(e,t,r.children,n),r=ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ku(e,n,t);else if(e.tag===19)Ku(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(re(ce,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ks(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),fl(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ks(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}fl(t,!0,n,null,s);break;case"together":fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ss(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nx(e,t,n){switch(t.tag){case 3:Up(t),hr();break;case 5:gp(t);break;case 1:He(t.type)&&Ws(t);break;case 4:uc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;re(Vs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(re(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?Bp(e,t,n):(re(ce,ce.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);re(ce,ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Vp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),re(ce,ce.current),r)break;return null;case 22:case 23:return t.lanes=0,zp(e,t,n)}return Ut(e,t,n)}var Hp,ga,Gp,Kp;Hp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ga=function(){};Gp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Sn(Rt.current);var s=null;switch(n){case"input":o=$l(e,o),r=$l(e,r),s=[];break;case"select":o=fe({},o,{value:void 0}),r=fe({},r,{value:void 0}),s=[];break;case"textarea":o=Wl(e,o),r=Wl(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fs)}Bl(n,r);var i;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(eo.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(eo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&se("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Kp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ar(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rx(e,t,n){var r=t.pendingProps;switch(rc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return He(t.type)&&zs(),Te(t),null;case 3:return r=t.stateNode,gr(),ie(Ve),ie(Ae),fc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gt!==null&&(Ea(gt),gt=null))),ga(e,t),Te(t),null;case 5:dc(t);var o=Sn(po.current);if(n=t.type,e!==null&&t.stateNode!=null)Gp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Te(t),null}if(e=Sn(Rt.current),Zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[kt]=t,r[uo]=s,e=(t.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(o=0;o<Wr.length;o++)se(Wr[o],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":nu(r,s),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},se("invalid",r);break;case"textarea":ou(r,s),se("invalid",r)}Bl(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Jo(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Jo(r.textContent,l,e),o=["children",""+l]):eo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&se("scroll",r)}switch(n){case"input":Vo(r),ru(r,s,!0);break;case"textarea":Vo(r),su(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fs)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[kt]=t,e[uo]=r,Hp(e,t,!1,!1),t.stateNode=e;e:{switch(i=Vl(n,r),n){case"dialog":se("cancel",e),se("close",e),o=r;break;case"iframe":case"object":case"embed":se("load",e),o=r;break;case"video":case"audio":for(o=0;o<Wr.length;o++)se(Wr[o],e);o=r;break;case"source":se("error",e),o=r;break;case"img":case"image":case"link":se("error",e),se("load",e),o=r;break;case"details":se("toggle",e),o=r;break;case"input":nu(e,r),o=$l(e,r),se("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=fe({},r,{value:void 0}),se("invalid",e);break;case"textarea":ou(e,r),o=Wl(e,r),se("invalid",e);break;default:o=r}Bl(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Ef(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cf(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&to(e,c):typeof c=="number"&&to(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eo.hasOwnProperty(s)?c!=null&&s==="onScroll"&&se("scroll",e):c!=null&&Ua(e,s,c,i))}switch(n){case"input":Vo(e),ru(e,r,!1);break;case"textarea":Vo(e),su(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?or(e,!!r.multiple,s,!1):r.defaultValue!=null&&or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Fs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)Kp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Sn(po.current),Sn(Rt.current),Zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[kt]=t,(s=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Jo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=t,t.stateNode=r}return Te(t),null;case 13:if(ie(ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&Qe!==null&&t.mode&1&&!(t.flags&128))dp(),hr(),t.flags|=98560,s=!1;else if(s=Zo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[kt]=t}else hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),s=!1}else gt!==null&&(Ea(gt),gt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?we===0&&(we=3):Ec())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return gr(),ga(e,t),e===null&&ao(t.stateNode.containerInfo),Te(t),null;case 10:return lc(t.type._context),Te(t),null;case 17:return He(t.type)&&zs(),Te(t),null;case 19:if(ie(ce),s=t.memoizedState,s===null)return Te(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Ar(s,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ks(e),i!==null){for(t.flags|=128,Ar(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(ce,ce.current&1|2),t.child}e=e.sibling}s.tail!==null&&he()>yr&&(t.flags|=128,r=!0,Ar(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ks(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ar(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!le)return Te(t),null}else 2*he()-s.renderingStartTime>yr&&n!==1073741824&&(t.flags|=128,r=!0,Ar(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=he(),t.sibling=null,n=ce.current,re(ce,r?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return _c(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function ox(e,t){switch(rc(t),t.tag){case 1:return He(t.type)&&zs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gr(),ie(Ve),ie(Ae),fc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dc(t),null;case 13:if(ie(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ce),null;case 4:return gr(),null;case 10:return lc(t.type._context),null;case 22:case 23:return _c(),null;case 24:return null;default:return null}}var ns=!1,Ie=!1,sx=typeof WeakSet=="function"?WeakSet:Set,A=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function va(e,t,n){try{n()}catch(r){pe(e,t,r)}}var Yu=!1;function ix(e,t){if(ea=Os,e=Jf(),tc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,d=0,p=0,f=e,h=null;t:for(;;){for(var y;f!==n||o!==0&&f.nodeType!==3||(l=i+o),f!==s||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++d===o&&(l=i),h===s&&++p===r&&(c=i),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Os=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,S=w.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:pt(t.type,v),S);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(C){pe(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return w=Yu,Yu=!1,w}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&va(t,n,s)}o=o.next}while(o!==r)}}function gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ya(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yp(e){var t=e.alternate;t!==null&&(e.alternate=null,Yp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[uo],delete t[oa],delete t[Uy],delete t[By])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xp(e){return e.tag===5||e.tag===3||e.tag===4}function Xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fs));else if(r!==4&&(e=e.child,e!==null))for(xa(e,t,n),e=e.sibling;e!==null;)xa(e,t,n),e=e.sibling}function wa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wa(e,t,n),e=e.sibling;e!==null;)wa(e,t,n),e=e.sibling}var be=null,mt=!1;function Vt(e,t,n){for(n=n.child;n!==null;)Qp(e,t,n),n=n.sibling}function Qp(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(ai,n)}catch{}switch(n.tag){case 5:Ie||nr(n,t);case 6:var r=be,o=mt;be=null,Vt(e,t,n),be=r,mt=o,be!==null&&(mt?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(mt?(e=be,n=n.stateNode,e.nodeType===8?sl(e.parentNode,n):e.nodeType===1&&sl(e,n),so(e)):sl(be,n.stateNode));break;case 4:r=be,o=mt,be=n.stateNode.containerInfo,mt=!0,Vt(e,t,n),be=r,mt=o;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&va(n,t,i),o=o.next}while(o!==r)}Vt(e,t,n);break;case 1:if(!Ie&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pe(n,t,l)}Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,Vt(e,t,n),Ie=r):Vt(e,t,n);break;default:Vt(e,t,n)}}function Qu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sx),t.forEach(function(r){var o=mx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,mt=!1;break e;case 3:be=l.stateNode.containerInfo,mt=!0;break e;case 4:be=l.stateNode.containerInfo,mt=!0;break e}l=l.return}if(be===null)throw Error(P(160));Qp(s,i,o),be=null,mt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){pe(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qp(t,e),t=t.sibling}function qp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),Et(e),r&4){try{Xr(3,e,e.return),gi(3,e)}catch(v){pe(e,e.return,v)}try{Xr(5,e,e.return)}catch(v){pe(e,e.return,v)}}break;case 1:ft(t,e),Et(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(ft(t,e),Et(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var o=e.stateNode;try{to(o,"")}catch(v){pe(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&xf(o,s),Vl(l,i);var d=Vl(l,s);for(i=0;i<c.length;i+=2){var p=c[i],f=c[i+1];p==="style"?Ef(o,f):p==="dangerouslySetInnerHTML"?Cf(o,f):p==="children"?to(o,f):Ua(o,p,f,d)}switch(l){case"input":Fl(o,s);break;case"textarea":wf(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?or(o,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?or(o,!!s.multiple,s.defaultValue,!0):or(o,!!s.multiple,s.multiple?[]:"",!1))}o[uo]=s}catch(v){pe(e,e.return,v)}}break;case 6:if(ft(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(P(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(v){pe(e,e.return,v)}}break;case 3:if(ft(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{so(t.containerInfo)}catch(v){pe(e,e.return,v)}break;case 4:ft(t,e),Et(e);break;case 13:ft(t,e),Et(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Sc=he())),r&4&&Qu(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(d=Ie)||p,ft(t,e),Ie=d):ft(t,e),Et(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(A=e,p=e.child;p!==null;){for(f=A=p;A!==null;){switch(h=A,y=h.child,h.tag){case 0:case 11:case 14:case 15:Xr(4,h,h.return);break;case 1:nr(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){pe(r,n,v)}}break;case 5:nr(h,h.return);break;case 22:if(h.memoizedState!==null){Ju(f);continue}}y!==null?(y.return=h,A=y):Ju(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{o=f.stateNode,d?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=_f("display",i))}catch(v){pe(e,e.return,v)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){pe(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ft(t,e),Et(e),r&4&&Qu(e);break;case 21:break;default:ft(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xp(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(to(o,""),r.flags&=-33);var s=Xu(e);wa(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Xu(e);xa(e,l,i);break;default:throw Error(P(161))}}catch(c){pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lx(e,t,n){A=e,Jp(e)}function Jp(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var o=A,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||ns;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Ie;l=ns;var d=Ie;if(ns=i,(Ie=c)&&!d)for(A=o;A!==null;)i=A,c=i.child,i.tag===22&&i.memoizedState!==null?Zu(o):c!==null?(c.return=i,A=c):Zu(o);for(;s!==null;)A=s,Jp(s),s=s.sibling;A=o,ns=l,Ie=d}qu(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,A=s):qu(e)}}function qu(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||gi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Du(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Du(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&so(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ie||t.flags&512&&ya(t)}catch(h){pe(t,t.return,h)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Ju(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Zu(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gi(4,t)}catch(c){pe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){pe(t,o,c)}}var s=t.return;try{ya(t)}catch(c){pe(t,s,c)}break;case 5:var i=t.return;try{ya(t)}catch(c){pe(t,i,c)}}}catch(c){pe(t,t.return,c)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var ax=Math.ceil,Qs=Bt.ReactCurrentDispatcher,xc=Bt.ReactCurrentOwner,it=Bt.ReactCurrentBatchConfig,V=0,Ee=null,ve=null,je=0,Ke=0,rr=hn(0),we=0,vo=null,In=0,vi=0,wc=0,Qr=null,Ue=null,Sc=0,yr=1/0,At=null,qs=!1,Sa=null,ln=null,rs=!1,Zt=null,Js=0,qr=0,Ca=null,Cs=-1,_s=0;function $e(){return V&6?he():Cs!==-1?Cs:Cs=he()}function an(e){return e.mode&1?V&2&&je!==0?je&-je:Hy.transition!==null?(_s===0&&(_s=Of()),_s):(e=J,e!==0||(e=window.event,e=e===void 0?16:Bf(e.type)),e):1}function xt(e,t,n,r){if(50<qr)throw qr=0,Ca=null,Error(P(185));Eo(e,n,r),(!(V&2)||e!==Ee)&&(e===Ee&&(!(V&2)&&(vi|=n),we===4&&qt(e,je)),Ge(e,r),n===1&&V===0&&!(t.mode&1)&&(yr=he()+500,pi&&mn()))}function Ge(e,t){var n=e.callbackNode;Hv(e,t);var r=Ds(e,e===Ee?je:0);if(r===0)n!==null&&au(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&au(n),t===1)e.tag===0?Vy(ed.bind(null,e)):ap(ed.bind(null,e)),zy(function(){!(V&6)&&mn()}),n=null;else{switch(Lf(r)){case 1:n=Ka;break;case 4:n=Af;break;case 16:n=As;break;case 536870912:n=Df;break;default:n=As}n=ih(n,Zp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zp(e,t){if(Cs=-1,_s=0,V&6)throw Error(P(327));var n=e.callbackNode;if(cr()&&e.callbackNode!==n)return null;var r=Ds(e,e===Ee?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zs(e,r);else{t=r;var o=V;V|=2;var s=th();(Ee!==e||je!==t)&&(At=null,yr=he()+500,En(e,t));do try{dx();break}catch(l){eh(e,l)}while(!0);ic(),Qs.current=s,V=o,ve!==null?t=0:(Ee=null,je=0,t=we)}if(t!==0){if(t===2&&(o=Xl(e),o!==0&&(r=o,t=_a(e,o))),t===1)throw n=vo,En(e,0),qt(e,r),Ge(e,he()),n;if(t===6)qt(e,r);else{if(o=e.current.alternate,!(r&30)&&!cx(o)&&(t=Zs(e,r),t===2&&(s=Xl(e),s!==0&&(r=s,t=_a(e,s))),t===1))throw n=vo,En(e,0),qt(e,r),Ge(e,he()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:yn(e,Ue,At);break;case 3:if(qt(e,r),(r&130023424)===r&&(t=Sc+500-he(),10<t)){if(Ds(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ra(yn.bind(null,e,Ue,At),t);break}yn(e,Ue,At);break;case 4:if(qt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-yt(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ax(r/1960))-r,10<r){e.timeoutHandle=ra(yn.bind(null,e,Ue,At),r);break}yn(e,Ue,At);break;case 5:yn(e,Ue,At);break;default:throw Error(P(329))}}}return Ge(e,he()),e.callbackNode===n?Zp.bind(null,e):null}function _a(e,t){var n=Qr;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=Zs(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Ea(t)),e}function Ea(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function cx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!wt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~wc,t&=~vi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),r=1<<n;e[n]=-1,t&=~r}}function ed(e){if(V&6)throw Error(P(327));cr();var t=Ds(e,0);if(!(t&1))return Ge(e,he()),null;var n=Zs(e,t);if(e.tag!==0&&n===2){var r=Xl(e);r!==0&&(t=r,n=_a(e,r))}if(n===1)throw n=vo,En(e,0),qt(e,t),Ge(e,he()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,Ue,At),Ge(e,he()),null}function Cc(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(yr=he()+500,pi&&mn())}}function Mn(e){Zt!==null&&Zt.tag===0&&!(V&6)&&cr();var t=V;V|=1;var n=it.transition,r=J;try{if(it.transition=null,J=1,e)return e()}finally{J=r,it.transition=n,V=t,!(V&6)&&mn()}}function _c(){Ke=rr.current,ie(rr)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Fy(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(rc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zs();break;case 3:gr(),ie(Ve),ie(Ae),fc();break;case 5:dc(r);break;case 4:gr();break;case 13:ie(ce);break;case 19:ie(ce);break;case 10:lc(r.type._context);break;case 22:case 23:_c()}n=n.return}if(Ee=e,ve=e=cn(e.current,null),je=Ke=t,we=0,vo=null,wc=vi=In=0,Ue=Qr=null,wn!==null){for(t=0;t<wn.length;t++)if(n=wn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}wn=null}return e}function eh(e,t){do{var n=ve;try{if(ic(),xs.current=Xs,Ys){for(var r=de.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ys=!1}if(Tn=0,Ce=xe=de=null,Yr=!1,ho=0,xc.current=null,n===null||n.return===null){we=1,vo=t,ve=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=je,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=l,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=Wu(i);if(y!==null){y.flags&=-257,Uu(y,i,l,s,t),y.mode&1&&zu(s,d,t),t=y,c=d;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){zu(s,d,t),Ec();break e}c=Error(P(426))}}else if(le&&l.mode&1){var S=Wu(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Uu(S,i,l,s,t),oc(vr(c,l));break e}}s=c=vr(c,l),we!==4&&(we=2),Qr===null?Qr=[s]:Qr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Lp(s,c,t);Au(s,m);break e;case 1:l=c;var g=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ln===null||!ln.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=$p(s,l,t);Au(s,C);break e}}s=s.return}while(s!==null)}rh(n)}catch(N){t=N,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function th(){var e=Qs.current;return Qs.current=Xs,e===null?Xs:e}function Ec(){(we===0||we===3||we===2)&&(we=4),Ee===null||!(In&268435455)&&!(vi&268435455)||qt(Ee,je)}function Zs(e,t){var n=V;V|=2;var r=th();(Ee!==e||je!==t)&&(At=null,En(e,t));do try{ux();break}catch(o){eh(e,o)}while(!0);if(ic(),V=n,Qs.current=r,ve!==null)throw Error(P(261));return Ee=null,je=0,we}function ux(){for(;ve!==null;)nh(ve)}function dx(){for(;ve!==null&&!Ov();)nh(ve)}function nh(e){var t=sh(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?rh(e):ve=t,xc.current=null}function rh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ox(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ve=null;return}}else if(n=rx(n,t,Ke),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);we===0&&(we=5)}function yn(e,t,n){var r=J,o=it.transition;try{it.transition=null,J=1,fx(e,t,n,r)}finally{it.transition=o,J=r}return null}function fx(e,t,n,r){do cr();while(Zt!==null);if(V&6)throw Error(P(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Gv(e,s),e===Ee&&(ve=Ee=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rs||(rs=!0,ih(As,function(){return cr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=it.transition,it.transition=null;var i=J;J=1;var l=V;V|=4,xc.current=null,ix(e,n),qp(n,e),Iy(ta),Os=!!ea,ta=ea=null,e.current=n,lx(n),Lv(),V=l,J=i,it.transition=s}else e.current=n;if(rs&&(rs=!1,Zt=e,Js=o),s=e.pendingLanes,s===0&&(ln=null),zv(n.stateNode),Ge(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(qs)throw qs=!1,e=Sa,Sa=null,e;return Js&1&&e.tag!==0&&cr(),s=e.pendingLanes,s&1?e===Ca?qr++:(qr=0,Ca=e):qr=0,mn(),null}function cr(){if(Zt!==null){var e=Lf(Js),t=it.transition,n=J;try{if(it.transition=null,J=16>e?16:e,Zt===null)var r=!1;else{if(e=Zt,Zt=null,Js=0,V&6)throw Error(P(331));var o=V;for(V|=4,A=e.current;A!==null;){var s=A,i=s.child;if(A.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(A=d;A!==null;){var p=A;switch(p.tag){case 0:case 11:case 15:Xr(8,p,s)}var f=p.child;if(f!==null)f.return=p,A=f;else for(;A!==null;){p=A;var h=p.sibling,y=p.return;if(Yp(p),p===d){A=null;break}if(h!==null){h.return=y,A=h;break}A=y}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}A=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,A=i;else e:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xr(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,A=m;break e}A=s.return}}var g=e.current;for(A=g;A!==null;){i=A;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,A=x;else e:for(i=g;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gi(9,l)}}catch(N){pe(l,l.return,N)}if(l===i){A=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,A=C;break e}A=l.return}}if(V=o,mn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(ai,e)}catch{}r=!0}return r}finally{J=n,it.transition=t}}return!1}function td(e,t,n){t=vr(n,t),t=Lp(e,t,1),e=sn(e,t,1),t=$e(),e!==null&&(Eo(e,1,t),Ge(e,t))}function pe(e,t,n){if(e.tag===3)td(e,e,n);else for(;t!==null;){if(t.tag===3){td(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ln===null||!ln.has(r))){e=vr(n,e),e=$p(t,e,1),t=sn(t,e,1),e=$e(),t!==null&&(Eo(t,1,e),Ge(t,e));break}}t=t.return}}function px(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(je&n)===n&&(we===4||we===3&&(je&130023424)===je&&500>he()-Sc?En(e,0):wc|=n),Ge(e,t)}function oh(e,t){t===0&&(e.mode&1?(t=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):t=1);var n=$e();e=Wt(e,t),e!==null&&(Eo(e,t,n),Ge(e,n))}function hx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),oh(e,n)}function mx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),oh(e,n)}var sh;sh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,nx(e,t,n);Be=!!(e.flags&131072)}else Be=!1,le&&t.flags&1048576&&cp(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ss(e,t),e=t.pendingProps;var o=pr(t,Ae.current);ar(t,n),o=hc(null,t,r,e,o,n);var s=mc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(r)?(s=!0,Ws(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,cc(t),o.updater=mi,t.stateNode=o,o._reactInternals=t,ua(t,r,e,n),t=pa(null,t,r,!0,s,n)):(t.tag=0,le&&s&&nc(t),Oe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ss(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=vx(r),e=pt(r,e),o){case 0:t=fa(null,t,r,e,n);break e;case 1:t=Hu(null,t,r,e,n);break e;case 11:t=Bu(null,t,r,e,n);break e;case 14:t=Vu(null,t,r,pt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pt(r,o),fa(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pt(r,o),Hu(e,t,r,o,n);case 3:e:{if(Up(t),e===null)throw Error(P(387));r=t.pendingProps,s=t.memoizedState,o=s.element,mp(e,t),Gs(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=vr(Error(P(423)),t),t=Gu(e,t,r,n,o);break e}else if(r!==o){o=vr(Error(P(424)),t),t=Gu(e,t,r,n,o);break e}else for(Qe=on(t.stateNode.containerInfo.firstChild),Je=t,le=!0,gt=null,n=pp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),r===o){t=Ut(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return gp(t),e===null&&la(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,na(r,o)?i=null:s!==null&&na(r,s)&&(t.flags|=32),Wp(e,t),Oe(e,t,i,n),t.child;case 6:return e===null&&la(t),null;case 13:return Bp(e,t,n);case 4:return uc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pt(r,o),Bu(e,t,r,o,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,re(Vs,r._currentValue),r._currentValue=i,s!==null)if(wt(s.value,i)){if(s.children===o.children&&!Ve.current){t=Ut(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=$t(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),aa(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(P(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),aa(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Oe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ar(t,n),o=lt(o),r=r(o),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,o=pt(r,t.pendingProps),o=pt(r.type,o),Vu(e,t,r,o,n);case 15:return Fp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pt(r,o),Ss(e,t),t.tag=1,He(r)?(e=!0,Ws(t)):e=!1,ar(t,n),Op(t,r,o),ua(t,r,o,n),pa(null,t,r,!0,e,n);case 19:return Vp(e,t,n);case 22:return zp(e,t,n)}throw Error(P(156,t.tag))};function ih(e,t){return Mf(e,t)}function gx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,r){return new gx(e,t,n,r)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vx(e){if(typeof e=="function")return bc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Va)return 11;if(e===Ha)return 14}return 2}function cn(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Es(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")bc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Kn:return bn(n.children,o,s,t);case Ba:i=8,o|=8;break;case Al:return e=st(12,n,t,o|2),e.elementType=Al,e.lanes=s,e;case Dl:return e=st(13,n,t,o),e.elementType=Dl,e.lanes=s,e;case Ol:return e=st(19,n,t,o),e.elementType=Ol,e.lanes=s,e;case gf:return yi(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hf:i=10;break e;case mf:i=9;break e;case Va:i=11;break e;case Ha:i=14;break e;case Yt:i=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=st(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function bn(e,t,n,r){return e=st(7,e,r,t),e.lanes=n,e}function yi(e,t,n,r){return e=st(22,e,r,t),e.elementType=gf,e.lanes=n,e.stateNode={isHidden:!1},e}function pl(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function hl(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yx(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function kc(e,t,n,r,o,s,i,l,c){return e=new yx(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=st(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(s),e}function xx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lh(e){if(!e)return fn;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(He(n))return lp(e,n,t)}return t}function ah(e,t,n,r,o,s,i,l,c){return e=kc(n,r,!0,e,o,s,i,l,c),e.context=lh(null),n=e.current,r=$e(),o=an(n),s=$t(r,o),s.callback=t??null,sn(n,s,o),e.current.lanes=o,Eo(e,o,r),Ge(e,r),e}function xi(e,t,n,r){var o=t.current,s=$e(),i=an(o);return n=lh(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sn(o,t,i),e!==null&&(xt(e,o,i,s),ys(e,o,i)),i}function ei(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nc(e,t){nd(e,t),(e=e.alternate)&&nd(e,t)}function wx(){return null}var ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}wi.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));xi(e,t,null,null)};wi.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mn(function(){xi(null,e,null,null)}),t[zt]=null}};function wi(e){this._internalRoot=e}wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=zf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qt.length&&t!==0&&t<Qt[n].priority;n++);Qt.splice(n,0,e),n===0&&Uf(e)}};function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rd(){}function Sx(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var d=ei(i);s.call(d)}}var i=ah(t,r,e,0,null,!1,!1,"",rd);return e._reactRootContainer=i,e[zt]=i.current,ao(e.nodeType===8?e.parentNode:e),Mn(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var d=ei(c);l.call(d)}}var c=kc(e,0,!1,null,null,!1,!1,"",rd);return e._reactRootContainer=c,e[zt]=c.current,ao(e.nodeType===8?e.parentNode:e),Mn(function(){xi(t,c,n,r)}),c}function Ci(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var l=o;o=function(){var c=ei(i);l.call(c)}}xi(t,i,e,o)}else i=Sx(n,t,e,o,r);return ei(i)}$f=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zr(t.pendingLanes);n!==0&&(Ya(t,n|1),Ge(t,he()),!(V&6)&&(yr=he()+500,mn()))}break;case 13:Mn(function(){var r=Wt(e,1);if(r!==null){var o=$e();xt(r,e,1,o)}}),Nc(e,1)}};Xa=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=$e();xt(t,e,134217728,n)}Nc(e,134217728)}};Ff=function(e){if(e.tag===13){var t=an(e),n=Wt(e,t);if(n!==null){var r=$e();xt(n,e,t,r)}Nc(e,t)}};zf=function(){return J};Wf=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Gl=function(e,t,n){switch(t){case"input":if(Fl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=fi(r);if(!o)throw Error(P(90));yf(r),Fl(r,o)}}}break;case"textarea":wf(e,n);break;case"select":t=n.value,t!=null&&or(e,!!n.multiple,t,!1)}};Nf=Cc;jf=Mn;var Cx={usingClientEntryPoint:!1,Events:[ko,qn,fi,bf,kf,Cc]},Dr={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_x={bundleType:Dr.bundleType,version:Dr.version,rendererPackageName:Dr.rendererPackageName,rendererConfig:Dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tf(e),e===null?null:e.stateNode},findFiberByHostInstance:Dr.findFiberByHostInstance||wx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!os.isDisabled&&os.supportsFiber)try{ai=os.inject(_x),Pt=os}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cx;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(t))throw Error(P(200));return xx(e,t,null,n)};et.createRoot=function(e,t){if(!Pc(e))throw Error(P(299));var n=!1,r="",o=ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=kc(e,1,!1,null,null,n,!1,r,o),e[zt]=t.current,ao(e.nodeType===8?e.parentNode:e),new jc(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Tf(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Mn(e)};et.hydrate=function(e,t,n){if(!Si(t))throw Error(P(200));return Ci(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!Pc(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=ch;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ah(t,null,e,1,n??null,o,!1,s,i),e[zt]=t.current,ao(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new wi(t)};et.render=function(e,t,n){if(!Si(t))throw Error(P(200));return Ci(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!Si(e))throw Error(P(40));return e._reactRootContainer?(Mn(function(){Ci(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};et.unstable_batchedUpdates=Cc;et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Si(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Ci(e,t,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(e){console.error(e)}}uh(),uf.exports=et;var jo=uf.exports;const Ex=Da(jo);var od=jo;Il.createRoot=od.createRoot,Il.hydrateRoot=od.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(this,arguments)}var en;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(en||(en={}));const sd="popstate";function bx(e){e===void 0&&(e={});function t(r,o){let{pathname:s,search:i,hash:l}=r.location;return ba("",{pathname:s,search:i,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:dh(o)}return Nx(t,n,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kx(){return Math.random().toString(36).substr(2,8)}function id(e,t){return{usr:e.state,key:e.key,idx:t}}function ba(e,t,n,r){return n===void 0&&(n=null),yo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Er(t):t,{state:n,key:t&&t.key||r||kx()})}function dh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Nx(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,i=o.history,l=en.Pop,c=null,d=p();d==null&&(d=0,i.replaceState(yo({},i.state,{idx:d}),""));function p(){return(i.state||{idx:null}).idx}function f(){l=en.Pop;let S=p(),m=S==null?null:S-d;d=S,c&&c({action:l,location:v.location,delta:m})}function h(S,m){l=en.Push;let g=ba(v.location,S,m);d=p()+1;let x=id(g,d),C=v.createHref(g);try{i.pushState(x,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(C)}s&&c&&c({action:l,location:v.location,delta:1})}function y(S,m){l=en.Replace;let g=ba(v.location,S,m);d=p();let x=id(g,d),C=v.createHref(g);i.replaceState(x,"",C),s&&c&&c({action:l,location:v.location,delta:0})}function w(S){let m=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof S=="string"?S:dh(S);return g=g.replace(/ $/,"%20"),Se(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let v={get action(){return l},get location(){return e(o,i)},listen(S){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(sd,f),c=S,()=>{o.removeEventListener(sd,f),c=null}},createHref(S){return t(o,S)},createURL:w,encodeLocation(S){let m=w(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:y,go(S){return i.go(S)}};return v}var ld;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ld||(ld={}));function jx(e,t,n){return n===void 0&&(n="/"),Px(e,t,n)}function Px(e,t,n,r){let o=typeof t=="string"?Er(t):t,s=hh(o.pathname||"/",n);if(s==null)return null;let i=fh(e);Rx(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=Ux(s);l=Fx(i[c],d)}return l}function fh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Se(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=kn([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),fh(s.children,t,p,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:Lx(d,s.index),routesMeta:p})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))o(s,i);else for(let c of ph(s.path))o(s,i,c)}),t}function ph(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let i=ph(r.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),o&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Rx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$x(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Tx=/^:[\w-]+$/,Ix=3,Mx=2,Ax=1,Dx=10,Ox=-2,ad=e=>e==="*";function Lx(e,t){let n=e.split("/"),r=n.length;return n.some(ad)&&(r+=Ox),t&&(r+=Mx),n.filter(o=>!ad(o)).reduce((o,s)=>o+(Tx.test(s)?Ix:s===""?Ax:Dx),r)}function $x(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Fx(e,t,n){let{routesMeta:r}=e,o={},s="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",f=zx({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),h=c.route;if(!f)return null;Object.assign(o,f.params),i.push({params:o,pathname:kn([s,f.pathname]),pathnameBase:Xx(kn([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=kn([s,f.pathnameBase]))}return i}function zx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Wx(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((d,p,f)=>{let{paramName:h,isOptional:y}=p;if(h==="*"){let v=l[f]||"";i=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[f];return y&&!w?d[h]=void 0:d[h]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:i,pattern:e}}function Wx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Rc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Ux(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Bx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vx=e=>Bx.test(e);function Hx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Er(e):e,s;if(n)if(Vx(n))s=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Rc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?s=cd(n.substring(1),"/"):s=cd(n,t)}else s=t;return{pathname:s,search:Qx(r),hash:qx(o)}}function cd(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ml(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Kx(e,t){let n=Gx(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yx(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Er(e):(o=yo({},e),Se(!o.pathname||!o.pathname.includes("?"),ml("?","pathname","search",o)),Se(!o.pathname||!o.pathname.includes("#"),ml("#","pathname","hash",o)),Se(!o.search||!o.search.includes("#"),ml("#","search","hash",o)));let s=e===""||o.pathname==="",i=s?"/":o.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;o.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Hx(o,l),d=i&&i!=="/"&&i.endsWith("/"),p=(s||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const kn=e=>e.join("/").replace(/\/\/+/g,"/"),Xx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mh=["post","put","patch","delete"];new Set(mh);const Zx=["get",...mh];new Set(Zx);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(this,arguments)}const Tc=u.createContext(null),ew=u.createContext(null),_i=u.createContext(null),Ei=u.createContext(null),$n=u.createContext({outlet:null,matches:[],isDataRoute:!1}),gh=u.createContext(null);function bi(){return u.useContext(Ei)!=null}function vh(){return bi()||Se(!1),u.useContext(Ei).location}function yh(e){u.useContext(_i).static||u.useLayoutEffect(e)}function br(){let{isDataRoute:e}=u.useContext($n);return e?pw():tw()}function tw(){bi()||Se(!1);let e=u.useContext(Tc),{basename:t,future:n,navigator:r}=u.useContext(_i),{matches:o}=u.useContext($n),{pathname:s}=vh(),i=JSON.stringify(Kx(o,n.v7_relativeSplatPath)),l=u.useRef(!1);return yh(()=>{l.current=!0}),u.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=Yx(d,JSON.parse(i),s,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:kn([t,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[t,r,i,s,e])}function ki(){let{matches:e}=u.useContext($n),t=e[e.length-1];return t?t.params:{}}function nw(e,t){return rw(e,t)}function rw(e,t,n,r){bi()||Se(!1);let{navigator:o}=u.useContext(_i),{matches:s}=u.useContext($n),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=vh(),p;if(t){var f;let S=typeof t=="string"?Er(t):t;c==="/"||(f=S.pathname)!=null&&f.startsWith(c)||Se(!1),p=S}else p=d;let h=p.pathname||"/",y=h;if(c!=="/"){let S=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=jx(e,{pathname:y}),v=aw(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:kn([c,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:kn([c,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return t&&v?u.createElement(Ei.Provider,{value:{location:xo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:en.Pop}},v):v}function ow(){let e=fw(),t=Jx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),n?u.createElement("pre",{style:o},n):null,null)}const sw=u.createElement(ow,null);class iw extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?u.createElement($n.Provider,{value:this.props.routeContext},u.createElement(gh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lw(e){let{routeContext:t,match:n,children:r}=e,o=u.useContext(Tc);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),u.createElement($n.Provider,{value:t},r)}function aw(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(o=n)==null?void 0:o.errors;if(l!=null){let p=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);p>=0||Se(!1),i=i.slice(0,Math.min(i.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<i.length;p++){let f=i[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=p),f.route.id){let{loaderData:h,errors:y}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((p,f,h)=>{let y,w=!1,v=null,S=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||sw,c&&(d<0&&h===0?(hw("route-fallback"),w=!0,S=null):d===h&&(w=!0,S=f.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,h+1)),g=()=>{let x;return y?x=v:w?x=S:f.route.Component?x=u.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=p,u.createElement(lw,{match:f,routeContext:{outlet:p,matches:m,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?u.createElement(iw,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var xh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xh||{}),wh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wh||{});function cw(e){let t=u.useContext(Tc);return t||Se(!1),t}function uw(e){let t=u.useContext(ew);return t||Se(!1),t}function dw(e){let t=u.useContext($n);return t||Se(!1),t}function Sh(e){let t=dw(),n=t.matches[t.matches.length-1];return n.route.id||Se(!1),n.route.id}function fw(){var e;let t=u.useContext(gh),n=uw(),r=Sh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function pw(){let{router:e}=cw(xh.UseNavigateStable),t=Sh(wh.UseNavigateStable),n=u.useRef(!1);return yh(()=>{n.current=!0}),u.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,xo({fromRouteId:t},s)))},[e,t])}const ud={};function hw(e,t,n){ud[e]||(ud[e]=!0)}function mw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Hn(e){Se(!1)}function gw(e){let{basename:t="/",children:n=null,location:r,navigationType:o=en.Pop,navigator:s,static:i=!1,future:l}=e;bi()&&Se(!1);let c=t.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:s,static:i,future:xo({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof r=="string"&&(r=Er(r));let{pathname:p="/",search:f="",hash:h="",state:y=null,key:w="default"}=r,v=u.useMemo(()=>{let S=hh(p,c);return S==null?null:{location:{pathname:S,search:f,hash:h,state:y,key:w},navigationType:o}},[c,p,f,h,y,w,o]);return v==null?null:u.createElement(_i.Provider,{value:d},u.createElement(Ei.Provider,{children:n,value:v}))}function vw(e){let{children:t,location:n}=e;return nw(ka(t),n)}new Promise(()=>{});function ka(e,t){t===void 0&&(t=[]);let n=[];return u.Children.forEach(e,(r,o)=>{if(!u.isValidElement(r))return;let s=[...t,o];if(r.type===u.Fragment){n.push.apply(n,ka(r.props.children,s));return}r.type!==Hn&&Se(!1),!r.props.index||!r.props.children||Se(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ka(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const yw="6";try{window.__reactRouterVersion=yw}catch{}const xw="startTransition",dd=li[xw];function ww(e){let{basename:t,children:n,future:r,window:o}=e,s=u.useRef();s.current==null&&(s.current=bx({window:o,v5Compat:!0}));let i=s.current,[l,c]=u.useState({action:i.action,location:i.location}),{v7_startTransition:d}=r||{},p=u.useCallback(f=>{d&&dd?dd(()=>c(f)):c(f)},[c,d]);return u.useLayoutEffect(()=>i.listen(p),[i,p]),u.useEffect(()=>mw(r),[r]),u.createElement(gw,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}var fd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fd||(fd={}));var pd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pd||(pd={}));class Sw{constructor(){De(this,"baseUrl","");De(this,"authToken",null)}async initialize(){try{const r=(await(await fetch("/api/config")).json()).signalrUrl;this.baseUrl=r.replace("/gamehub",""),console.log("[ApiService] Initialized with base URL:",this.baseUrl)}catch(t){console.error("[ApiService] Failed to fetch config, using default:",t),this.baseUrl="http://localhost:5000"}}setAuthToken(t){this.authToken=t}getAuthToken(){return this.authToken}async request(t,n={}){const r=`${this.baseUrl}${t}`,o={"Content-Type":"application/json",...n.headers};this.authToken&&(o.Authorization=`Bearer ${this.authToken}`);try{const s=await fetch(r,{...n,headers:o});return s.ok?{success:!0,data:await s.json()}:{success:!1,error:await s.text()||`HTTP ${s.status}: ${s.statusText}`}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async getProfile(t){return this.request(`/api/users/${t}/profile`)}async updateProfile(t){return this.request("/api/users/me/profile",{method:"PUT",body:JSON.stringify(t)})}async getFriends(){return this.request("/api/friends")}async getFriendRequests(){return this.request("/api/friends/requests")}async sendFriendRequest(t){return this.request("/api/friends/request",{method:"POST",body:JSON.stringify({username:t})})}async acceptFriendRequest(t){return this.request(`/api/friends/${t}/accept`,{method:"POST"})}async declineFriendRequest(t){return this.request(`/api/friends/${t}/decline`,{method:"POST"})}async removeFriend(t){return this.request(`/api/friends/${t}`,{method:"DELETE"})}async getMatch(t){return this.request(`/api/matches/${t}`)}async getActiveMatches(){return this.request("/api/matches/active")}}const Wn=new Sw,gl="auth_token",vl="auth_user",hd="playerId";class Cw{constructor(){De(this,"baseUrl","")}async initialize(){await Wn.initialize(),this.baseUrl=Wn.baseUrl}async login(t){try{const n=await fetch(`${this.baseUrl}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const o=await n.text();throw new Error(o||"Login failed")}const r=await n.json();return this.setToken(r.token),this.setUser({userId:r.userId,username:r.username,email:null,createdAt:new Date().toISOString()}),Wn.setAuthToken(r.token),r}catch(n){throw console.error("[AuthService] Login failed:",n),n}}async register(t){try{const n=await fetch(`${this.baseUrl}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const o=await n.text();throw new Error(o||"Registration failed")}const r=await n.json();return this.setToken(r.token),this.setUser({userId:r.userId,username:r.username,email:t.email||null,createdAt:new Date().toISOString()}),Wn.setAuthToken(r.token),r}catch(n){throw console.error("[AuthService] Registration failed:",n),n}}logout(){localStorage.removeItem(gl),localStorage.removeItem(vl),Wn.setAuthToken(null)}getToken(){return localStorage.getItem(gl)}setToken(t){localStorage.setItem(gl,t)}getUser(){const t=localStorage.getItem(vl);return t?JSON.parse(t):null}setUser(t){localStorage.setItem(vl,JSON.stringify(t))}isAuthenticated(){return!!this.getToken()}getOrCreatePlayerId(){let t=localStorage.getItem(hd);return t||(t=this.generatePlayerId(),localStorage.setItem(hd,t)),t}getEffectivePlayerId(){const t=this.getUser();return(t==null?void 0:t.userId)||this.getOrCreatePlayerId()}getDisplayName(){const t=this.getUser();return(t==null?void 0:t.username)||null}generatePlayerId(){return`player_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async restoreSession(){const t=this.getToken();t&&Wn.setAuthToken(t)}}const Ye=new Cw,Ch=u.createContext(void 0),Ni=()=>{const e=u.useContext(Ch);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},_w=({children:e})=>{const[t,n]=u.useState(null),[r,o]=u.useState(null),[s,i]=u.useState(!0);u.useEffect(()=>{(async()=>{try{await Ye.initialize(),await Ye.restoreSession();const y=Ye.getUser(),w=Ye.getToken();y&&w&&(n(y),o(w))}catch(y){console.error("[AuthContext] Failed to initialize:",y)}finally{i(!1)}})()},[]);const f={user:t,token:r,isAuthenticated:!!r,isLoading:s,login:async h=>{try{const y=await Ye.login(h);if(y){const w={userId:y.userId,username:y.username,email:null,createdAt:new Date().toISOString()};n(w),o(y.token)}}catch(y){throw console.error("[AuthContext] Login failed:",y),y}},register:async h=>{try{const y=await Ye.register(h);if(y){const w={userId:y.userId,username:y.username,email:h.email||null,createdAt:new Date().toISOString()};n(w),o(y.token)}}catch(y){throw console.error("[AuthContext] Registration failed:",y),y}},logout:()=>{Ye.logout(),n(null),o(null)},getEffectivePlayerId:()=>Ye.getEffectivePlayerId()};return a.jsx(Ch.Provider,{value:f,children:e})};class Nn extends Error{constructor(t,n){const r=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class Ic extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class vt extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class Ew extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class bw extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class kw extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class md extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class Nw extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=r}}class _h{constructor(t,n,r){this.statusCode=t,this.statusText=n,this.content=r}}class ji{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}var k;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(k||(k={}));class wo{constructor(){}log(t,n){}}wo.instance=new wo;const jw="8.0.17";class ge{static isRequired(t,n){if(t==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,r){if(!(t in n))throw new Error(`Unknown ${r} value: ${t}.`)}}class ue{static get isBrowser(){return!ue.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!ue.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!ue.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function So(e,t){let n="";return An(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${Pw(e)}'`)):typeof e=="string"&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function Pw(e){const t=new Uint8Array(e);let n="";return t.forEach(r=>{const o=r<16?"0":"";n+=`0x${o}${r.toString(16)} `}),n.substr(0,n.length-1)}function An(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function Eh(e,t,n,r,o,s){const i={},[l,c]=xr();i[l]=c,e.log(k.Trace,`(${t} transport) sending data. ${So(o,s.logMessageContent)}.`);const d=An(o)?"arraybuffer":"text",p=await n.post(r,{content:o,headers:{...i,...s.headers},responseType:d,timeout:s.timeout,withCredentials:s.withCredentials});e.log(k.Trace,`(${t} transport) request complete. Response status: ${p.statusCode}.`)}function Rw(e){return e===void 0?new ti(k.Information):e===null?wo.instance:e.log!==void 0?e:new ti(e)}class Tw{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class ti{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const r=`[${new Date().toISOString()}] ${k[t]}: ${n}`;switch(t){case k.Critical:case k.Error:this.out.error(r);break;case k.Warning:this.out.warn(r);break;case k.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function xr(){let e="X-SignalR-User-Agent";return ue.isNode&&(e="User-Agent"),[e,Iw(jw,Mw(),Dw(),Aw())]}function Iw(e,t,n,r){let o="Microsoft SignalR/";const s=e.split(".");return o+=`${s[0]}.${s[1]}`,o+=` (${e}; `,t&&t!==""?o+=`${t}; `:o+="Unknown OS; ",o+=`${n}`,r?o+=`; ${r}`:o+="; Unknown Runtime Version",o+=")",o}function Mw(){if(ue.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Aw(){if(ue.isNode)return process.versions.node}function Dw(){return ue.isNode?"NodeJS":"Browser"}function yl(e){return e.stack?e.stack:e.message?e.message:`${e}`}function Ow(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class Lw extends ji{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||ue.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Ow());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new vt;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),r=new vt});let o=null;if(t.timeout){const c=t.timeout;o=setTimeout(()=>{n.abort(),this._logger.log(k.Warning,"Timeout from HTTP request."),r=new Ic},c)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},An(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let s;try{s=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(c){throw r||(this._logger.log(k.Warning,`Error from HTTP request. ${c}.`),c)}finally{o&&clearTimeout(o),t.abortSignal&&(t.abortSignal.onabort=null)}if(!s.ok){const c=await gd(s,"text");throw new Nn(c||s.statusText,s.status)}const l=await gd(s,t.responseType);return new _h(s.status,s.statusText,l)}getCookieString(t){let n="";return ue.isNode&&this._jar&&this._jar.getCookies(t,(r,o)=>n=o.join("; ")),n}}function gd(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:n=e.text();break}return n}class $w extends ji{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new vt):t.method?t.url?new Promise((n,r)=>{const o=new XMLHttpRequest;o.open(t.method,t.url,!0),o.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(An(t.content)?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const s=t.headers;s&&Object.keys(s).forEach(i=>{o.setRequestHeader(i,s[i])}),t.responseType&&(o.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{o.abort(),r(new vt)}),t.timeout&&(o.timeout=t.timeout),o.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),o.status>=200&&o.status<300?n(new _h(o.status,o.statusText,o.response||o.responseText)):r(new Nn(o.response||o.responseText||o.statusText,o.status))},o.onerror=()=>{this._logger.log(k.Warning,`Error from HTTP request. ${o.status}: ${o.statusText}.`),r(new Nn(o.statusText,o.status))},o.ontimeout=()=>{this._logger.log(k.Warning,"Timeout from HTTP request."),r(new Ic)},o.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Fw extends ji{constructor(t){if(super(),typeof fetch<"u"||ue.isNode)this._httpClient=new Lw(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new $w(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new vt):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class qe{static write(t){return`${t}${qe.RecordSeparator}`}static parse(t){if(t[t.length-1]!==qe.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(qe.RecordSeparator);return n.pop(),n}}qe.RecordSeparatorCode=30;qe.RecordSeparator=String.fromCharCode(qe.RecordSeparatorCode);class zw{writeHandshakeRequest(t){return qe.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,r;if(An(t)){const l=new Uint8Array(t),c=l.indexOf(qe.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const d=c+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,d))),r=l.byteLength>d?l.slice(d).buffer:null}else{const l=t,c=l.indexOf(qe.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const d=c+1;n=l.substring(0,d),r=l.length>d?l.substring(d):null}const o=qe.parse(n),s=JSON.parse(o[0]);if(s.type)throw new Error("Expected a handshake response from the server.");return[r,s]}}var z;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(z||(z={}));class Ww{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new Tw(this,t)}}class Uw{constructor(t,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=r}async _send(t){const n=this._protocol.writeMessage(t);let r=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let o=()=>{},s=()=>{};An(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((i,l)=>{o=i,s=l})),this._messages.push(new Bw(n,this._totalMessageCount,o,s))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(t){let n=-1;for(let r=0;r<this._messages.length;r++){const o=this._messages[r];if(o._id<=t.sequenceId)n=r,An(o._message)?this._bufferedByteCount-=o._message.byteLength:this._bufferedByteCount-=o._message.length,o._resolver();else if(this._bufferedByteCount<this._bufferSize)o._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==z.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:z.Sequence,sequenceId:t}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case z.Invocation:case z.StreamItem:case z.Completion:case z.StreamInvocation:case z.CancelInvocation:return!0;case z.Close:case z.Sequence:case z.Ping:case z.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:z.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class Bw{constructor(t,n,r,o){this._message=t,this._id=n,this._resolver=r,this._rejector=o}}const Vw=30*1e3,Hw=15*1e3,Gw=1e5;var te;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(te||(te={}));class Mc{static create(t,n,r,o,s,i,l){return new Mc(t,n,r,o,s,i,l)}constructor(t,n,r,o,s,i,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(k.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ge.isRequired(t,"connection"),ge.isRequired(n,"logger"),ge.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=s??Vw,this.keepAliveIntervalInMilliseconds=i??Hw,this._statefulReconnectBufferSize=l??Gw,this._logger=n,this._protocol=r,this.connection=t,this._reconnectPolicy=o,this._handshakeProtocol=new zw,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=te.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:z.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==te.Disconnected&&this._connectionState!==te.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==te.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=te.Connecting,this._logger.log(k.Debug,"Starting HubConnection.");try{await this._startInternal(),ue.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=te.Connected,this._connectionStarted=!0,this._logger.log(k.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=te.Disconnected,this._logger.log(k.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(k.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(k.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Uw(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(k.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===te.Disconnected)return this._logger.log(k.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===te.Disconnecting)return this._logger.log(k.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=te.Disconnecting,this._logger.log(k.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(k.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===te.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new vt("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...n){const[r,o]=this._replaceStreamingParams(n),s=this._createStreamInvocation(t,n,o);let i;const l=new Ww;return l.cancelCallback=()=>{const c=this._createCancelInvocation(s.invocationId);return delete this._callbacks[s.invocationId],i.then(()=>this._sendWithProtocol(c))},this._callbacks[s.invocationId]=(c,d)=>{if(d){l.error(d);return}else c&&(c.type===z.Completion?c.error?l.error(new Error(c.error)):l.complete():l.next(c.item))},i=this._sendWithProtocol(s).catch(c=>{l.error(c),delete this._callbacks[s.invocationId]}),this._launchStreams(r,i),l}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[r,o]=this._replaceStreamingParams(n),s=this._sendWithProtocol(this._createInvocation(t,n,!0,o));return this._launchStreams(r,s),s}invoke(t,...n){const[r,o]=this._replaceStreamingParams(n),s=this._createInvocation(t,n,!1,o);return new Promise((l,c)=>{this._callbacks[s.invocationId]=(p,f)=>{if(f){c(f);return}else p&&(p.type===z.Completion?p.error?c(new Error(p.error)):l(p.result):c(new Error(`Unexpected message type: ${p.type}`)))};const d=this._sendWithProtocol(s).catch(p=>{c(p),delete this._callbacks[s.invocationId]});this._launchStreams(r,d)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(n)===-1&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const r=this._methods[t];if(r)if(n){const o=r.indexOf(n);o!==-1&&(r.splice(o,1),r.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case z.Invocation:this._invokeClientMethod(r).catch(o=>{this._logger.log(k.Error,`Invoke client method threw error: ${yl(o)}`)});break;case z.StreamItem:case z.Completion:{const o=this._callbacks[r.invocationId];if(o){r.type===z.Completion&&delete this._callbacks[r.invocationId];try{o(r)}catch(s){this._logger.log(k.Error,`Stream callback threw error: ${yl(s)}`)}}break}case z.Ping:break;case z.Close:{this._logger.log(k.Information,"Close message received from server.");const o=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(o):this._stopPromise=this._stopInternal(o);break}case z.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case z.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(k.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(o){const s="Error parsing handshake response: "+o;this._logger.log(k.Error,s);const i=new Error(s);throw this._handshakeRejecter(i),i}if(n.error){const o="Server returned handshake error: "+n.error;this._logger.log(k.Error,o);const s=new Error(o);throw this._handshakeRejecter(s),s}else this._logger.log(k.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===te.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const n=t.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(k.Warning,`No client method with the name '${n}' found.`),t.invocationId&&(this._logger.log(k.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const o=r.slice(),s=!!t.invocationId;let i,l,c;for(const d of o)try{const p=i;i=await d.apply(this,t.arguments),s&&i&&p&&(this._logger.log(k.Error,`Multiple results provided for '${n}'. Sending error to server.`),c=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),l=void 0}catch(p){l=p,this._logger.log(k.Error,`A callback for the method '${n}' threw error '${p}'.`)}c?await this._sendWithProtocol(c):s?(l?c=this._createCompletionMessage(t.invocationId,`${l}`,null):i!==void 0?c=this._createCompletionMessage(t.invocationId,null,i):(this._logger.log(k.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),c=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):i&&this._logger.log(k.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(k.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new vt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===te.Disconnecting?this._completeClose(t):this._connectionState===te.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===te.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=te.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),ue.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(k.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}async _reconnect(t){const n=Date.now();let r=0,o=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),s=this._getNextRetryDelay(r++,0,o);if(s===null){this._logger.log(k.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=te.Reconnecting,t?this._logger.log(k.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(k.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(i=>i.apply(this,[t]))}catch(i){this._logger.log(k.Error,`An onreconnecting callback called with error '${t}' threw error '${i}'.`)}if(this._connectionState!==te.Reconnecting){this._logger.log(k.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;s!==null;){if(this._logger.log(k.Information,`Reconnect attempt number ${r} will start in ${s} ms.`),await new Promise(i=>{this._reconnectDelayHandle=setTimeout(i,s)}),this._reconnectDelayHandle=void 0,this._connectionState!==te.Reconnecting){this._logger.log(k.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=te.Connected,this._logger.log(k.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(i=>i.apply(this,[this.connection.connectionId]))}catch(i){this._logger.log(k.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${i}'.`)}return}catch(i){if(this._logger.log(k.Information,`Reconnect attempt failed because of error '${i}'.`),this._connectionState!==te.Reconnecting){this._logger.log(k.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===te.Disconnecting&&this._completeClose();return}o=i instanceof Error?i:new Error(i.toString()),s=this._getNextRetryDelay(r++,Date.now()-n,o)}}this._logger.log(k.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:r})}catch(o){return this._logger.log(k.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${o}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const o=n[r];try{o(null,t)}catch(s){this._logger.log(k.Error,`Stream 'error' callback called with '${t}' threw error: ${yl(s)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,r,o){if(r)return o.length!==0?{arguments:n,streamIds:o,target:t,type:z.Invocation}:{arguments:n,target:t,type:z.Invocation};{const s=this._invocationId;return this._invocationId++,o.length!==0?{arguments:n,invocationId:s.toString(),streamIds:o,target:t,type:z.Invocation}:{arguments:n,invocationId:s.toString(),target:t,type:z.Invocation}}}_launchStreams(t,n){if(t.length!==0){n||(n=Promise.resolve());for(const r in t)t[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:o=>{let s;o instanceof Error?s=o.message:o&&o.toString?s=o.toString():s="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,s)))},next:o=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,o)))}})}}_replaceStreamingParams(t){const n=[],r=[];for(let o=0;o<t.length;o++){const s=t[o];if(this._isObservable(s)){const i=this._invocationId;this._invocationId++,n[i]=s,r.push(i.toString()),t.splice(o,1)}}return[n,r]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,n,r){const o=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:o.toString(),streamIds:r,target:t,type:z.StreamInvocation}:{arguments:n,invocationId:o.toString(),target:t,type:z.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:z.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:z.StreamItem}}_createCompletionMessage(t,n,r){return n?{error:n,invocationId:t,type:z.Completion}:{invocationId:t,result:r,type:z.Completion}}_createCloseMessage(){return{type:z.Close}}}const Kw=[0,2e3,1e4,3e4,null];class vd{constructor(t){this._retryDelays=t!==void 0?[...t,null]:Kw}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class jn{}jn.Authorization="Authorization";jn.Cookie="Cookie";class Yw extends ji{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}async send(t){let n=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const r=await this._innerClient.send(t);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):r}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[jn.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[jn.Authorization]&&delete t.headers[jn.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var ye;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(ye||(ye={}));var Me;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(Me||(Me={}));let Xw=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class yd{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,r){this._httpClient=t,this._logger=n,this._pollAbort=new Xw,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,n){if(ge.isRequired(t,"url"),ge.isRequired(n,"transferFormat"),ge.isIn(n,Me,"transferFormat"),this._url=t,this._logger.log(k.Trace,"(LongPolling transport) Connecting."),n===Me.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,o]=xr(),s={[r]:o,...this._options.headers},i={abortSignal:this._pollAbort.signal,headers:s,timeout:1e5,withCredentials:this._options.withCredentials};n===Me.Binary&&(i.responseType="arraybuffer");const l=`${t}&_=${Date.now()}`;this._logger.log(k.Trace,`(LongPolling transport) polling: ${l}.`);const c=await this._httpClient.get(l,i);c.statusCode!==200?(this._logger.log(k.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new Nn(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,i)}async _poll(t,n){try{for(;this._running;)try{const r=`${t}&_=${Date.now()}`;this._logger.log(k.Trace,`(LongPolling transport) polling: ${r}.`);const o=await this._httpClient.get(r,n);o.statusCode===204?(this._logger.log(k.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):o.statusCode!==200?(this._logger.log(k.Error,`(LongPolling transport) Unexpected response code: ${o.statusCode}.`),this._closeError=new Nn(o.statusText||"",o.statusCode),this._running=!1):o.content?(this._logger.log(k.Trace,`(LongPolling transport) data received. ${So(o.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(o.content)):this._logger.log(k.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof Ic?this._logger.log(k.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(k.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(k.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?Eh(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(k.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(k.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,r]=xr();t[n]=r;const o={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let s;try{await this._httpClient.delete(this._url,o)}catch(i){s=i}s?s instanceof Nn&&(s.statusCode===404?this._logger.log(k.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(k.Trace,`(LongPolling transport) Error sending a DELETE request: ${s}`)):this._logger.log(k.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(k.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(k.Trace,t),this.onclose(this._closeError)}}}class Qw{constructor(t,n,r,o){this._httpClient=t,this._accessToken=n,this._logger=r,this._options=o,this.onreceive=null,this.onclose=null}async connect(t,n){return ge.isRequired(t,"url"),ge.isRequired(n,"transferFormat"),ge.isIn(n,Me,"transferFormat"),this._logger.log(k.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,o)=>{let s=!1;if(n!==Me.Text){o(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let i;if(ue.isBrowser||ue.isWebWorker)i=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(t),c={};c.Cookie=l;const[d,p]=xr();c[d]=p,i=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{i.onmessage=l=>{if(this.onreceive)try{this._logger.log(k.Trace,`(SSE transport) data received. ${So(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(c){this._close(c);return}},i.onerror=l=>{s?this._close():o(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},i.onopen=()=>{this._logger.log(k.Information,`SSE connected to ${this._url}`),this._eventSource=i,s=!0,r()}}catch(l){o(l);return}})}async send(t){return this._eventSource?Eh(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class qw{constructor(t,n,r,o,s,i){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=o,this._webSocketConstructor=s,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=i}async connect(t,n){ge.isRequired(t,"url"),ge.isRequired(n,"transferFormat"),ge.isIn(n,Me,"transferFormat"),this._logger.log(k.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((o,s)=>{t=t.replace(/^http/,"ws");let i;const l=this._httpClient.getCookieString(t);let c=!1;if(ue.isNode||ue.isReactNative){const d={},[p,f]=xr();d[p]=f,r&&(d[jn.Authorization]=`Bearer ${r}`),l&&(d[jn.Cookie]=l),i=new this._webSocketConstructor(t,void 0,{headers:{...d,...this._headers}})}else r&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);i||(i=new this._webSocketConstructor(t)),n===Me.Binary&&(i.binaryType="arraybuffer"),i.onopen=d=>{this._logger.log(k.Information,`WebSocket connected to ${t}.`),this._webSocket=i,c=!0,o()},i.onerror=d=>{let p=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?p=d.error:p="There was an error with the transport",this._logger.log(k.Information,`(WebSockets transport) ${p}.`)},i.onmessage=d=>{if(this._logger.log(k.Trace,`(WebSockets transport) data received. ${So(d.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(d.data)}catch(p){this._close(p);return}},i.onclose=d=>{if(c)this._close(d);else{let p=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?p=d.error:p="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",s(new Error(p))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(k.Trace,`(WebSockets transport) sending data. ${So(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(k.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const xd=100;class Jw{constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ge.isRequired(t,"url"),this._logger=Rw(n.logger),this.baseUrl=this._resolveUrl(t),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,o=null;if(ue.isNode&&typeof require<"u"){const s=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=s("ws"),o=s("eventsource")}!ue.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:ue.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!ue.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:ue.isNode&&!n.EventSource&&typeof o<"u"&&(n.EventSource=o),this._httpClient=new Yw(n.httpClient||new Fw(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(t){if(t=t||Me.Binary,ge.isIn(t,Me,"transferFormat"),this._logger.log(k.Debug,`Starting connection with transfer format '${Me[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(k.Error,n),await this._stopPromise,Promise.reject(new vt(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(k.Error,n),Promise.reject(new vt(n))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Ac(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(k.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(k.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(k.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(k.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===ye.WebSockets)this.transport=this._constructTransport(ye.WebSockets),await this._startTransport(n,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,o=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new vt("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const s=r.accessToken;this._accessTokenFactory=()=>s,this._httpClient._accessToken=s,this._httpClient._accessTokenFactory=void 0}o++}while(r.url&&o<xd);if(o===xd&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,t)}this.transport instanceof yd&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(k.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(k.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(t){const n={},[r,o]=xr();n[r]=o;const s=this._resolveNegotiateUrl(t);this._logger.log(k.Debug,`Sending negotiation request: ${s}.`);try{const i=await this._httpClient.post(s,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(i.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${i.statusCode}'`));const l=JSON.parse(i.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new md("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(i){let l="Failed to complete negotiation with the server: "+i;return i instanceof Nn&&i.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(k.Error,l),Promise.reject(new md(l))}}_createConnectUrl(t,n){return n?t+(t.indexOf("?")===-1?"?":"&")+`id=${n}`:t}async _createTransport(t,n,r,o){let s=this._createConnectUrl(t,r.connectionToken);if(this._isITransport(n)){this._logger.log(k.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(s,o),this.connectionId=r.connectionId;return}const i=[],l=r.availableTransports||[];let c=r;for(const d of l){const p=this._resolveTransportOrError(d,n,o,(c==null?void 0:c.useStatefulReconnect)===!0);if(p instanceof Error)i.push(`${d.transport} failed:`),i.push(p);else if(this._isITransport(p)){if(this.transport=p,!c){try{c=await this._getNegotiationResponse(t)}catch(f){return Promise.reject(f)}s=this._createConnectUrl(t,c.connectionToken)}try{await this._startTransport(s,o),this.connectionId=c.connectionId;return}catch(f){if(this._logger.log(k.Error,`Failed to start the transport '${d.transport}': ${f}`),c=void 0,i.push(new kw(`${d.transport} failed: ${f}`,ye[d.transport])),this._connectionState!=="Connecting"){const h="Failed to select transport before stop() was called.";return this._logger.log(k.Debug,h),Promise.reject(new vt(h))}}}}return i.length>0?Promise.reject(new Nw(`Unable to connect to the server with any of the available transports. ${i.join(" ")}`,i)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case ye.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new qw(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case ye.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Qw(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case ye.LongPolling:return new yd(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let o=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,n),await this.features.resend()}catch{o=!0}else{this._stopConnection(r);return}o&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(t,n)}_resolveTransportOrError(t,n,r,o){const s=ye[t.transport];if(s==null)return this._logger.log(k.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(Zw(n,s))if(t.transferFormats.map(l=>Me[l]).indexOf(r)>=0){if(s===ye.WebSockets&&!this._options.WebSocket||s===ye.ServerSentEvents&&!this._options.EventSource)return this._logger.log(k.Debug,`Skipping transport '${ye[s]}' because it is not supported in your environment.'`),new Ew(`'${ye[s]}' is not supported in your environment.`,s);this._logger.log(k.Debug,`Selecting transport '${ye[s]}'.`);try{return this.features.reconnect=s===ye.WebSockets?o:void 0,this._constructTransport(s)}catch(l){return l}}else return this._logger.log(k.Debug,`Skipping transport '${ye[s]}' because it does not support the requested transfer format '${Me[r]}'.`),new Error(`'${ye[s]}' does not support ${Me[r]}.`);else return this._logger.log(k.Debug,`Skipping transport '${ye[s]}' because it was disabled by the client.`),new bw(`'${ye[s]}' is disabled by the client.`,s)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(k.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(k.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(k.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(k.Error,`Connection disconnected with error '${t}'.`):this._logger.log(k.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(k.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(k.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!ue.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(k.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function Zw(e,t){return!e||(t&e)!==0}class Ac{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new ss,this._transportResult=new ss,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new ss),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new ss;const t=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):Ac._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(r){t.reject(r)}}}static _concatBuffers(t){const n=t.map(s=>s.byteLength).reduce((s,i)=>s+i),r=new Uint8Array(n);let o=0;for(const s of t)r.set(new Uint8Array(s),o),o+=s.byteLength;return r.buffer}}class ss{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const eS="json";class tS{constructor(){this.name=eS,this.version=2,this.transferFormat=Me.Text}parseMessages(t,n){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];n===null&&(n=wo.instance);const r=qe.parse(t),o=[];for(const s of r){const i=JSON.parse(s);if(typeof i.type!="number")throw new Error("Invalid payload.");switch(i.type){case z.Invocation:this._isInvocationMessage(i);break;case z.StreamItem:this._isStreamItemMessage(i);break;case z.Completion:this._isCompletionMessage(i);break;case z.Ping:break;case z.Close:break;case z.Ack:this._isAckMessage(i);break;case z.Sequence:this._isSequenceMessage(i);break;default:n.log(k.Information,"Unknown message type '"+i.type+"' ignored.");continue}o.push(i)}return o}writeMessage(t){return qe.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if(typeof t!="string"||t==="")throw new Error(n)}}const nS={trace:k.Trace,debug:k.Debug,info:k.Information,information:k.Information,warn:k.Warning,warning:k.Warning,error:k.Error,critical:k.Critical,none:k.None};function rS(e){const t=nS[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class oS{configureLogging(t){if(ge.isRequired(t,"logging"),sS(t))this.logger=t;else if(typeof t=="string"){const n=rS(t);this.logger=new ti(n)}else this.logger=new ti(t);return this}withUrl(t,n){return ge.isRequired(t,"url"),ge.isNotEmpty(t,"url"),this.url=t,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return ge.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new vd(t):this.reconnectPolicy=t:this.reconnectPolicy=new vd,this}withServerTimeout(t){return ge.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return ge.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t==null?void 0:t.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new Jw(this.url,t);return Mc.create(n,this.logger||wo.instance,this.protocol||new tS,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function sS(e){return e.log!==void 0}class iS{constructor(){De(this,"connection",null);De(this,"serverUrl","");De(this,"reconnectAttempts",0);De(this,"maxReconnectAttempts",6)}async initialize(){try{const r=await(await fetch("/api/config")).json();this.serverUrl=r.signalrUrl,console.log("[SignalR] Server URL from config:",this.serverUrl)}catch(n){console.error("[SignalR] Failed to fetch config, using fallback:",n),this.serverUrl="http://localhost:5000/gamehub"}const t=new oS().withUrl(this.serverUrl,{accessTokenFactory:()=>Ye.getToken()||"",withCredentials:!1}).withAutomaticReconnect({nextRetryDelayInMilliseconds:n=>{const r=[0,1e3,2e3,5e3,1e4,3e4],o=r[Math.min(n.previousRetryCount,r.length-1)];return console.log(`[SignalR] Reconnect attempt ${n.previousRetryCount+1}, delay: ${o}ms`),o}}).configureLogging(k.Information);return this.connection=t.build(),this.connection.serverTimeoutInMilliseconds=6e4,this.connection.keepAliveIntervalInMilliseconds=15e3,this.setupConnectionHandlers(),this.connection}setupConnectionHandlers(){this.connection&&(this.connection.onreconnecting(t=>{console.warn("[SignalR] Connection lost, reconnecting...",t),this.reconnectAttempts++}),this.connection.onreconnected(t=>{console.log("[SignalR] Reconnected successfully!",t),this.reconnectAttempts=0}),this.connection.onclose(t=>{console.error("[SignalR] Connection closed",t),this.reconnectAttempts<this.maxReconnectAttempts?(console.log("[SignalR] Attempting manual reconnect..."),setTimeout(()=>this.start(),5e3)):console.error("[SignalR] Max reconnect attempts reached")}))}async start(){if(!this.connection)throw new Error("[SignalR] Connection not initialized. Call initialize() first.");if(this.connection.state===te.Connected){console.log("[SignalR] Already connected");return}try{await this.connection.start(),console.log("[SignalR] Connected successfully!"),this.reconnectAttempts=0}catch(t){throw console.error("[SignalR] Failed to connect:",t),t}}async stop(){this.connection&&this.connection.state===te.Connected&&(await this.connection.stop(),console.log("[SignalR] Connection stopped"))}getConnection(){return this.connection}isConnected(){var t;return((t=this.connection)==null?void 0:t.state)===te.Connected}getConnectionState(){var t;return((t=this.connection)==null?void 0:t.state)||"Disconnected"}async invoke(t,...n){if(!this.connection||!this.isConnected())throw console.error("[SignalR] Cannot invoke method - not connected"),new Error("SignalR connection not available");try{console.log(`[SignalR] Invoking ${t}`,n);const r=await this.connection.invoke(t,...n);return console.log(`[SignalR] ${t} completed`,r),r}catch(r){throw console.error(`[SignalR] Error invoking ${t}:`,r),r}}on(t,n){if(!this.connection){console.warn("[SignalR] Cannot register event handler - connection not initialized");return}this.connection.on(t,n),console.log(`[SignalR] Registered handler for event: ${t}`)}off(t,n){this.connection&&(n?this.connection.off(t,n):this.connection.off(t),console.log(`[SignalR] Unregistered handler for event: ${t}`))}}const is=new iS,jt={CreateGame:"CreateGame",CreateAiGame:"CreateAiGame",JoinGame:"JoinGame",GetGameState:"GetGameState",SpectateGame:"SpectateGame",RollDice:"RollDice",MakeMove:"MakeMove",EndTurn:"EndTurn",UndoLastMove:"UndoLastMove",OfferDouble:"OfferDouble",RespondToDouble:"RespondToDouble",AbandonGame:"AbandonGame",LeaveGame:"LeaveGame",CreateMatchWithConfig:"CreateMatchWithConfig",CreateMatchLobby:"CreateMatchLobby",JoinMatchLobby:"JoinMatchLobby",StartMatchFromLobby:"StartMatchFromLobby",LeaveMatchLobby:"LeaveMatchLobby",SendChatMessage:"SendChatMessage",CreateAnalysisGame:"CreateAnalysisGame",ImportPosition:"ImportPosition"},Z={GameUpdate:"GameUpdate",GameStart:"GameStart",GameOver:"GameOver",WaitingForOpponent:"WaitingForOpponent",OpponentJoined:"OpponentJoined",OpponentLeft:"OpponentLeft",DoubleOffered:"DoubleOffered",DoubleAccepted:"DoubleAccepted",ReceiveChatMessage:"ReceiveChatMessage",SpectatorJoined:"SpectatorJoined",Error:"Error",Info:"Info",MatchLobbyCreated:"MatchLobbyCreated",MatchGameStarting:"MatchGameStarting"};var Xe=(e=>(e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Reconnecting="Reconnecting",e.Failed="Failed",e))(Xe||{});const bh=u.createContext(void 0),ct=()=>{const e=u.useContext(bh);if(!e)throw new Error("useSignalR must be used within a SignalRProvider");return e},lS=({children:e})=>{const[t,n]=u.useState(null),[r,o]=u.useState(Xe.Disconnected);u.useEffect(()=>((async()=>{try{o(Xe.Connecting);const c=await is.initialize();n(c),c.onreconnecting(()=>{console.log("[SignalRContext] Reconnecting..."),o(Xe.Reconnecting)}),c.onreconnected(()=>{console.log("[SignalRContext] Reconnected"),o(Xe.Connected)}),c.onclose(()=>{console.log("[SignalRContext] Connection closed"),o(Xe.Disconnected)}),await is.start(),o(Xe.Connected),console.log("[SignalRContext] Connection established")}catch(c){console.error("[SignalRContext] Failed to initialize connection:",c),o(Xe.Failed)}})(),()=>{is.stop()}),[]);const s=async(l,...c)=>{try{return await is.invoke(l,...c)}catch(d){throw console.error(`[SignalRContext] Failed to invoke ${l}:`,d),d}},i={connection:t,connectionState:r,isConnected:r===Xe.Connected,invoke:s};return a.jsx(bh.Provider,{value:i,children:e})},aS=u.createContext(void 0),cS=({children:e})=>{const[t,n]=u.useState(null),[r,o]=u.useState(null),s={currentMatch:t,currentMatchLobby:r,setCurrentMatch:n,setCurrentMatchLobby:o};return a.jsx(aS.Provider,{value:s,children:e})},uS={},wd=e=>{let t;const n=new Set,r=(p,f)=>{const h=typeof p=="function"?p(t):p;if(!Object.is(h,t)){const y=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(w=>w(t,y))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(uS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,o,c);return c},dS=e=>e?wd(e):wd;var kh={exports:{}},Nh={},jh={exports:{}},Ph={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr=u;function fS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pS=typeof Object.is=="function"?Object.is:fS,hS=wr.useState,mS=wr.useEffect,gS=wr.useLayoutEffect,vS=wr.useDebugValue;function yS(e,t){var n=t(),r=hS({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return gS(function(){o.value=n,o.getSnapshot=t,xl(o)&&s({inst:o})},[e,n,t]),mS(function(){return xl(o)&&s({inst:o}),e(function(){xl(o)&&s({inst:o})})},[e]),vS(n),n}function xl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pS(e,n)}catch{return!0}}function xS(e,t){return t()}var wS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xS:yS;Ph.useSyncExternalStore=wr.useSyncExternalStore!==void 0?wr.useSyncExternalStore:wS;jh.exports=Ph;var Rh=jh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi=u,SS=Rh;function CS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _S=typeof Object.is=="function"?Object.is:CS,ES=SS.useSyncExternalStore,bS=Pi.useRef,kS=Pi.useEffect,NS=Pi.useMemo,jS=Pi.useDebugValue;Nh.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=bS(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=NS(function(){function c(y){if(!d){if(d=!0,p=y,y=r(y),o!==void 0&&i.hasValue){var w=i.value;if(o(w,y))return f=w}return f=y}if(w=f,_S(p,y))return w;var v=r(y);return o!==void 0&&o(w,v)?(p=y,w):(p=y,f=v)}var d=!1,p,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,o]);var l=ES(e,s[0],s[1]);return kS(function(){i.hasValue=!0,i.value=l},[l]),jS(l),l};kh.exports=Nh;var PS=kh.exports;const RS=Da(PS),Th={},{useDebugValue:TS}=ht,{useSyncExternalStoreWithSelector:IS}=RS;let Sd=!1;const MS=e=>e;function AS(e,t=MS,n){(Th?"production":void 0)!=="production"&&n&&!Sd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Sd=!0);const r=IS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return TS(r),r}const Cd=e=>{(Th?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?dS(e):e,n=(r,o)=>AS(t,r,o);return Object.assign(n,t),n},Ih=e=>e?Cd(e):Cd,Po=Ih(e=>({currentGameState:null,myColor:null,currentGameId:null,isSpectator:!1,isAnalysisMode:!1,selectedChecker:null,validDestinations:[],validSources:[],isBoardFlipped:!1,chatMessages:[],showChat:!1,setGameState:t=>{var r;const n=t.isYourTurn&&t.validMoves?Array.from(new Set(t.validMoves.map(o=>o.from))):[];console.log("[GameStore] setGameState:",{isYourTurn:t.isYourTurn,validMovesCount:((r=t.validMoves)==null?void 0:r.length)||0,validSources:n,dice:t.dice}),e({currentGameState:t,isAnalysisMode:t.isAnalysisMode,validSources:n})},setMyColor:t=>e({myColor:t}),setCurrentGameId:t=>e({currentGameId:t}),setIsSpectator:t=>e({isSpectator:t}),selectChecker:t=>e({selectedChecker:t}),setValidDestinations:t=>e({validDestinations:t}),setValidSources:t=>e({validSources:t}),toggleBoardFlip:()=>e(t=>({isBoardFlipped:!t.isBoardFlipped})),setBoardFlipped:t=>e({isBoardFlipped:t}),addChatMessage:t=>e(n=>({chatMessages:[...n.chatMessages,t]})),clearChatMessages:()=>e({chatMessages:[]}),toggleChat:()=>e(t=>({showChat:!t.showChat})),resetGame:()=>e({currentGameState:null,myColor:null,currentGameId:null,isSpectator:!1,isAnalysisMode:!1,selectedChecker:null,validDestinations:[],validSources:[],chatMessages:[],showChat:!1})}));class DS{constructor(){De(this,"initialized",!1);De(this,"audioEnabled",!0);De(this,"masterVolume",.7);De(this,"soundCache",new Map);De(this,"audioContext",null);De(this,"SOUNDS",{"dice-roll":"/sounds/dice-roll.mp3","checker-move":"/sounds/checker-move.mp3","checker-hit":"/sounds/checker-hit.mp3","bear-off":"/sounds/bear-off.mp3","double-offer":"/sounds/double-offer.mp3","game-won":"/sounds/game-won.mp3","game-lost":"/sounds/game-lost.mp3","chat-message":"/sounds/chat-message.mp3","turn-change":"/sounds/turn-change.mp3"});De(this,"STORAGE_KEYS",{enabled:"backgammon_audio_enabled",volume:"backgammon_audio_volume"})}loadSettings(){try{const t=localStorage.getItem(this.STORAGE_KEYS.enabled),n=localStorage.getItem(this.STORAGE_KEYS.volume);this.audioEnabled=t===null?!0:t==="true",this.masterVolume=n?parseFloat(n):.7,console.log("[AudioService] Settings loaded:",{audioEnabled:this.audioEnabled,masterVolume:this.masterVolume})}catch(t){console.error("[AudioService] Failed to load settings:",t)}}saveSettings(){try{localStorage.setItem(this.STORAGE_KEYS.enabled,String(this.audioEnabled)),localStorage.setItem(this.STORAGE_KEYS.volume,String(this.masterVolume)),console.log("[AudioService] Settings saved:",{audioEnabled:this.audioEnabled,masterVolume:this.masterVolume})}catch(t){console.error("[AudioService] Failed to save settings:",t)}}preloadSound(t,n){try{const r=new Audio(n);r.preload="auto",r.volume=this.masterVolume,this.soundCache.set(t,r),console.log(`[AudioService] Preloaded sound: ${t}`)}catch(r){console.error(`[AudioService] Failed to preload sound ${t}:`,r)}}init(){if(this.initialized){console.log("[AudioService] Already initialized");return}console.log("[AudioService] Initializing..."),this.loadSettings(),Object.entries(this.SOUNDS).forEach(([n,r])=>{this.preloadSound(n,r)});const t=()=>{if(!this.audioContext)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),console.log("[AudioService] Audio context created")}catch(n){console.error("[AudioService] Failed to create audio context:",n)}document.removeEventListener("click",t)};document.addEventListener("click",t,{once:!0}),this.initialized=!0,console.log("[AudioService] Initialization complete")}playSound(t){if(this.audioEnabled){if(!this.SOUNDS[t]){console.warn(`[AudioService] Unknown sound: ${t}`);return}try{let n=this.soundCache.get(t);n||(n=new Audio(this.SOUNDS[t]),this.soundCache.set(t,n)),n.currentTime>0&&!n.paused&&(n.pause(),n.currentTime=0),n.volume=this.masterVolume;const r=n.play();r!==void 0&&r.catch(o=>{o.name!=="NotAllowedError"&&console.error(`[AudioService] Failed to play sound ${t}:`,o)})}catch(n){console.error(`[AudioService] Error playing sound ${t}:`,n)}}}setEnabled(t){this.audioEnabled=t,this.saveSettings(),console.log(`[AudioService] Audio ${this.audioEnabled?"enabled":"disabled"}`)}setVolume(t){this.masterVolume=Math.max(0,Math.min(1,t)),this.soundCache.forEach(n=>{n.volume=this.masterVolume}),this.saveSettings(),console.log(`[AudioService] Volume set to ${Math.round(this.masterVolume*100)}%`)}isEnabled(){return this.audioEnabled}getVolume(){return this.masterVolume}getSettings(){return{enabled:this.audioEnabled,volume:this.masterVolume}}}const Mt=new DS,OS=()=>{const e=br(),{connection:t}=ct(),{setGameState:n,setIsSpectator:r,setCurrentGameId:o,addChatMessage:s}=Po(),i=u.useRef(null),l=u.useRef(e);return u.useEffect(()=>{l.current=e},[e]),u.useEffect(()=>{if(t)return console.log("[useSignalREvents] Registering event handlers"),t.on(Z.SpectatorJoined,c=>{console.log("[SignalR] SpectatorJoined",c.gameId),n(c),r(!0),o(c.gameId),i.current=c,l.current(`/game/${c.gameId}`)}),t.on(Z.GameUpdate,c=>{console.log("[SignalR] GameUpdate",{gameId:c.gameId,currentPlayer:c.currentPlayer,isYourTurn:c.isYourTurn});const d=window.location.pathname,f=d.startsWith("/game/")?d.split("/game/")[1]:null;if(f&&f!==c.gameId){console.log("[SignalR] Ignoring GameUpdate for old game:",c.gameId,"current game:",f);return}const h=i.current;if(h){h.currentPlayer!==c.currentPlayer&&Mt.playSound("turn-change");const y=h.whiteBornOff+h.redBornOff,w=c.whiteBornOff+c.redBornOff,v=h.whiteCheckersOnBar+h.redCheckersOnBar,S=c.whiteCheckersOnBar+c.redCheckersOnBar;w>y?Mt.playSound("bear-off"):S>v?Mt.playSound("checker-hit"):(y!==w||v!==S)&&Mt.playSound("checker-move")}n(c),o(c.gameId),i.current=c}),t.on(Z.GameStart,c=>{console.log("[SignalR] GameStart",c.gameId);const d=window.location.pathname,p=d.startsWith("/game/"),f=p?d.split("/game/")[1]:null;if(f&&f!==c.gameId){console.log("[SignalR] Ignoring GameStart for old game:",c.gameId,"current game:",f);return}n(c),o(c.gameId),i.current=c,p||l.current(`/game/${c.gameId}`)}),t.on(Z.GameOver,(c,d,p)=>{console.log("[SignalR] GameOver",{winner:c,points:d}),p.yourColor===c?Mt.playSound("game-won"):Mt.playSound("game-lost"),n(p),i.current=p}),t.on(Z.WaitingForOpponent,c=>{console.log("[SignalR] WaitingForOpponent",c),o(c),l.current(`/game/${c}`)}),t.on(Z.OpponentJoined,c=>{console.log("[SignalR] OpponentJoined",c)}),t.on(Z.OpponentLeft,()=>{console.log("[SignalR] OpponentLeft")}),t.on(Z.DoubleOffered,(c,d)=>{console.log("[SignalR] DoubleOffered",{currentStakes:c,newStakes:d}),Mt.playSound("double-offer")}),t.on(Z.DoubleAccepted,c=>{console.log("[SignalR] DoubleAccepted",c.doublingCubeValue),n(c)}),t.on(Z.ReceiveChatMessage,(c,d,p)=>{const f=p===t.connectionId,h=f?"You":c;f||Mt.playSound("chat-message"),s({senderName:h,message:d,timestamp:new Date,isOwn:f})}),t.on(Z.Error,c=>{console.error("[SignalR] Error:",c)}),t.on(Z.Info,c=>{console.log("[SignalR] Info:",c)}),t.on(Z.MatchLobbyCreated,c=>{console.log("[SignalR] MatchLobbyCreated",c.matchId)}),t.on(Z.MatchGameStarting,c=>{console.log("[SignalR] MatchGameStarting",{matchId:c.matchId,gameId:c.gameId}),o(c.gameId),l.current(`/game/${c.gameId}`,{replace:!0})}),()=>{console.log("[useSignalREvents] Cleaning up event handlers"),t.off(Z.SpectatorJoined),t.off(Z.GameUpdate),t.off(Z.GameStart),t.off(Z.GameOver),t.off(Z.WaitingForOpponent),t.off(Z.OpponentJoined),t.off(Z.OpponentLeft),t.off(Z.DoubleOffered),t.off(Z.DoubleAccepted),t.off(Z.ReceiveChatMessage),t.off(Z.Error),t.off(Z.Info),t.off(Z.MatchLobbyCreated),t.off(Z.MatchGameStarting)}},[t,n,r,o,s]),{connection:t}};function _d(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ut(...e){return t=>{let n=!1;const r=e.map(o=>{const s=_d(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():_d(e[o],null)}}}}function Fe(...e){return u.useCallback(ut(...e),e)}var LS=Symbol.for("react.lazy"),ni=li[" use ".trim().toString()];function $S(e){return typeof e=="object"&&e!==null&&"then"in e}function Mh(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===LS&&"_payload"in e&&$S(e._payload)}function Ah(e){const t=zS(e),n=u.forwardRef((r,o)=>{let{children:s,...i}=r;Mh(s)&&typeof ni=="function"&&(s=ni(s._payload));const l=u.Children.toArray(s),c=l.find(US);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var FS=Ah("Slot");function zS(e){const t=u.forwardRef((n,r)=>{let{children:o,...s}=n;if(Mh(o)&&typeof ni=="function"&&(o=ni(o._payload)),u.isValidElement(o)){const i=VS(o),l=BS(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WS=Symbol("radix.slottable");function US(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WS}function BS(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function VS(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Dh(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Dh(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Oh(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Dh(e))&&(r&&(r+=" "),r+=t);return r}const Ed=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bd=Oh,Ro=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return bd(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(d=>{const p=n==null?void 0:n[d],f=s==null?void 0:s[d];if(p===null)return null;const h=Ed(p)||Ed(f);return o[d][h]}),l=n&&Object.entries(n).reduce((d,p)=>{let[f,h]=p;return h===void 0||(d[f]=h),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:f,className:h,...y}=p;return Object.entries(y).every(w=>{let[v,S]=w;return Array.isArray(S)?S.includes({...s,...l}[v]):{...s,...l}[v]===S})?[...d,f,h]:d},[]);return bd(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Dc="-",HS=e=>{const t=KS(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Dc);return l[0]===""&&l.length!==1&&l.shift(),Lh(l,t)||GS(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},Lh=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Lh(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(Dc);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},kd=/^\[(.+)\]$/,GS=e=>{if(kd.test(e)){const t=kd.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},KS=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return XS(Object.entries(e.classGroups),n).forEach(([s,i])=>{Na(i,r,s,t)}),r},Na=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Nd(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(YS(o)){Na(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{Na(i,Nd(t,s),n,r)})})},Nd=(e,t)=>{let n=e;return t.split(Dc).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},YS=e=>e.isThemeGetter,XS=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[n,o]}):e,QS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},$h="!",qS=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=l=>{const c=[];let d=0,p=0,f;for(let S=0;S<l.length;S++){let m=l[S];if(d===0){if(m===o&&(r||l.slice(S,S+s)===t)){c.push(l.slice(p,S)),p=S+s;continue}if(m==="/"){f=S;continue}}m==="["?d++:m==="]"&&d--}const h=c.length===0?l:l.substring(p),y=h.startsWith($h),w=y?h.substring(1):h,v=f&&f>p?f-p:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:i}):i},JS=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},ZS=e=>({cache:QS(e.cacheSize),parseClassName:qS(e),...HS(e)}),e0=/\s+/,t0=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(e0);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:p,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:y}=n(d);let w=!!y,v=r(w?h.substring(0,y):h);if(!v){if(!w){l=d+(l.length>0?" "+l:l);continue}if(v=r(h),!v){l=d+(l.length>0?" "+l:l);continue}w=!1}const S=JS(p).join(":"),m=f?S+$h:S,g=m+v;if(s.includes(g))continue;s.push(g);const x=o(v,w);for(let C=0;C<x.length;++C){const N=x[C];s.push(m+N)}l=d+(l.length>0?" "+l:l)}return l};function n0(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Fh(t))&&(r&&(r+=" "),r+=n);return r}const Fh=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Fh(e[r]))&&(n&&(n+=" "),n+=t);return n};function r0(e,...t){let n,r,o,s=i;function i(c){const d=t.reduce((p,f)=>f(p),e());return n=ZS(d),r=n.cache.get,o=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const p=t0(c,n);return o(c,p),p}return function(){return s(n0.apply(null,arguments))}}const oe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},zh=/^\[(?:([a-z-]+):)?(.+)\]$/i,o0=/^\d+\/\d+$/,s0=new Set(["px","full","screen"]),i0=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l0=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,a0=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,c0=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u0=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,It=e=>ur(e)||s0.has(e)||o0.test(e),Ht=e=>kr(e,"length",y0),ur=e=>!!e&&!Number.isNaN(Number(e)),wl=e=>kr(e,"number",ur),Or=e=>!!e&&Number.isInteger(Number(e)),d0=e=>e.endsWith("%")&&ur(e.slice(0,-1)),W=e=>zh.test(e),Gt=e=>i0.test(e),f0=new Set(["length","size","percentage"]),p0=e=>kr(e,f0,Wh),h0=e=>kr(e,"position",Wh),m0=new Set(["image","url"]),g0=e=>kr(e,m0,w0),v0=e=>kr(e,"",x0),Lr=()=>!0,kr=(e,t,n)=>{const r=zh.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},y0=e=>l0.test(e)&&!a0.test(e),Wh=()=>!1,x0=e=>c0.test(e),w0=e=>u0.test(e),S0=()=>{const e=oe("colors"),t=oe("spacing"),n=oe("blur"),r=oe("brightness"),o=oe("borderColor"),s=oe("borderRadius"),i=oe("borderSpacing"),l=oe("borderWidth"),c=oe("contrast"),d=oe("grayscale"),p=oe("hueRotate"),f=oe("invert"),h=oe("gap"),y=oe("gradientColorStops"),w=oe("gradientColorStopPositions"),v=oe("inset"),S=oe("margin"),m=oe("opacity"),g=oe("padding"),x=oe("saturate"),C=oe("scale"),N=oe("sepia"),b=oe("skew"),_=oe("space"),E=oe("translate"),I=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",W,t],T=()=>[W,t],H=()=>["",It,Ht],D=()=>["auto",ur,W],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",W],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[ur,W];return{cacheSize:500,separator:":",theme:{colors:[Lr],spacing:[It,Ht],blur:["none","",Gt,W],brightness:F(),borderColor:[e],borderRadius:["none","","full",Gt,W],borderSpacing:T(),borderWidth:H(),contrast:F(),grayscale:O(),hueRotate:F(),invert:O(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[d0,Ht],inset:M(),margin:M(),opacity:F(),padding:T(),saturate:F(),scale:F(),sepia:O(),skew:F(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",W]}],container:["container"],columns:[{columns:[Gt]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),W]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Or,W]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",W]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Or,W]}],"grid-cols":[{"grid-cols":[Lr]}],"col-start-end":[{col:["auto",{span:["full",Or,W]},W]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Lr]}],"row-start-end":[{row:["auto",{span:[Or,W]},W]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",W]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",W]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",W,t]}],"min-w":[{"min-w":[W,t,"min","max","fit"]}],"max-w":[{"max-w":[W,t,"none","full","min","max","fit","prose",{screen:[Gt]},Gt]}],h:[{h:[W,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[W,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[W,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[W,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Gt,Ht]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wl]}],"font-family":[{font:[Lr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",W]}],"line-clamp":[{"line-clamp":["none",ur,wl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",It,W]}],"list-image":[{"list-image":["none",W]}],"list-style-type":[{list:["none","disc","decimal",W]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",It,Ht]}],"underline-offset":[{"underline-offset":["auto",It,W]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",W]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",W]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),h0]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",p0]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},g0]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:G()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[It,W]}],"outline-w":[{outline:[It,Ht]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[It,Ht]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gt,v0]}],"shadow-color":[{shadow:[Lr]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Gt,W]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",W]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",W]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",W]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Or,W]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",W]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",W]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",W]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[It,Ht,wl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},C0=r0(S0);function B(...e){return C0(Oh(e))}const _0=Ro("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=u.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?FS:"button";return a.jsx(i,{className:B(_0({variant:t,size:n,className:e})),ref:s,...o})});X.displayName="Button";const E0=Ro("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _e({className:e,variant:t,...n}){return a.jsx("div",{className:B(E0({variant:t}),e),...n})}const b0=({onLoginClick:e,onSignupClick:t,onDebugToggle:n})=>{const r=br(),{user:o,isAuthenticated:s,logout:i}=Ni(),{connectionState:l}=ct(),c=()=>{r("/")},d=()=>{o!=null&&o.username&&r(`/profile/${o.username}`)},p=()=>{i(),r("/")},f=()=>{switch(l){case Xe.Connected:return a.jsx(_e,{variant:"default",className:"bg-green-500",children:"Connected"});case Xe.Connecting:return a.jsx(_e,{variant:"secondary",children:"Connecting..."});case Xe.Reconnecting:return a.jsx(_e,{variant:"secondary",children:"Reconnecting..."});case Xe.Failed:return a.jsx(_e,{variant:"destructive",children:"Disconnected"});default:return a.jsx(_e,{variant:"secondary",children:"Disconnected"})}};return a.jsx("header",{className:"bg-card border-b sticky top-0 z-50 shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-4 cursor-pointer",onClick:c,children:a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Backgammon Online"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(X,{variant:"ghost",size:"sm",onClick:n,title:"Toggle Debug Panel",children:""}),f(),s?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-foreground",children:o==null?void 0:o.username}),a.jsx(X,{variant:"ghost",size:"sm",onClick:d,children:"Profile"}),a.jsx(X,{variant:"destructive",size:"sm",onClick:p,children:"Logout"})]}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:e,children:"Login"}),a.jsx(X,{variant:"default",size:"sm",onClick:t,children:"Sign Up"})]})]})]})})},Y=u.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:B("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Y.displayName="Card";const ke=u.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:B("flex flex-col space-y-1.5 p-6",e),...t}));ke.displayName="CardHeader";const Ne=u.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:B("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ne.displayName="CardTitle";const un=u.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:B("text-sm text-muted-foreground",e),...t}));un.displayName="CardDescription";const q=u.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:B("p-6 pt-0",e),...t}));q.displayName="CardContent";const k0=u.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:B("flex items-center p-6 pt-0",e),...t}));k0.displayName="CardFooter";const N0=({isVisible:e})=>{var f,h,y;const{connectionState:t,connection:n}=ct(),{user:r,isAuthenticated:o,getEffectivePlayerId:s}=Ni(),{currentGameState:i,myColor:l,currentGameId:c}=Po(),[d,p]=u.useState(!0);return e?a.jsx("div",{className:"fixed bottom-4 right-4 w-96 max-h-96 overflow-hidden z-50",children:a.jsxs(Y,{className:"bg-background/95 backdrop-blur",children:[a.jsx(ke,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ne,{className:"text-sm",children:"Debug Panel"}),a.jsx(_e,{variant:"secondary",className:"text-xs",children:t})]})}),a.jsxs(q,{className:"space-y-3 text-xs",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-muted-foreground mb-1",children:"Connection"}),a.jsxs("div",{className:"space-y-1 font-mono text-xs",children:[a.jsxs("div",{children:["State: ",t]}),a.jsxs("div",{children:["ID: ",((f=n==null?void 0:n.connectionId)==null?void 0:f.substring(0,8))||"N/A"]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-muted-foreground mb-1",children:"Auth"}),a.jsxs("div",{className:"space-y-1 font-mono text-xs",children:[a.jsxs("div",{children:["Status: ",o?"Authenticated":"Anonymous"]}),a.jsxs("div",{children:["User: ",(r==null?void 0:r.username)||"Anonymous"]}),a.jsxs("div",{children:["Player ID: ",s().substring(0,12),"..."]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-muted-foreground mb-1",children:"Game"}),a.jsxs("div",{className:"space-y-1 font-mono text-xs",children:[a.jsxs("div",{children:["Game ID: ",(c==null?void 0:c.substring(0,8))||"None"]}),a.jsxs("div",{children:["My Color: ",l!==null?l===0?"White":"Red":"None"]}),a.jsxs("div",{children:["Turn: ",i!=null&&i.isYourTurn?"Yours":"Opponent"]}),a.jsxs("div",{children:["Dice: ",((h=i==null?void 0:i.dice)==null?void 0:h.join(", "))||"None"]}),a.jsxs("div",{children:["Moves Left: ",((y=i==null?void 0:i.remainingMoves)==null?void 0:y.length)||0]})]})]}),a.jsx("div",{className:"pt-2 border-t border-border",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:w=>p(w.target.checked),className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:"Auto-scroll"})]})})]})]})}):null},j0=({children:e,onLoginClick:t,onSignupClick:n})=>{const[r,o]=u.useState(!1),s=()=>{o(i=>!i)};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(b0,{onLoginClick:t,onSignupClick:n,onDebugToggle:s}),a.jsx("main",{children:e}),a.jsx(N0,{isVisible:r})]})};function Q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function P0(e,t){const n=u.createContext(t),r=s=>{const{children:i,...l}=s,c=u.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function o(s){const i=u.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function R0(e,t=[]){let n=[];function r(s,i){const l=u.createContext(i),c=n.length;n=[...n,i];const d=f=>{var m;const{scope:h,children:y,...w}=f,v=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,S=u.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:S,children:y})};d.displayName=s+"Provider";function p(f,h){var v;const y=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=u.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,p]}const o=()=>{const s=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,T0(o,...t)]}function T0(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Tt=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},I0=li[" useId ".trim().toString()]||(()=>{}),M0=0;function Jr(e){const[t,n]=u.useState(I0());return Tt(()=>{n(r=>r??String(M0++))},[e]),t?`radix-${t}`:""}var A0=li[" useInsertionEffect ".trim().toString()]||Tt;function To({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,s,i]=D0({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:o;{const p=u.useRef(e!==void 0);u.useEffect(()=>{const f=p.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,r])}const d=u.useCallback(p=>{var f;if(l){const h=O0(p)?p(e):p;h!==e&&((f=i.current)==null||f.call(i,h))}else s(p)},[l,e,s,i]);return[c,d]}function D0({defaultProp:e,onChange:t}){const[n,r]=u.useState(e),o=u.useRef(n),s=u.useRef(t);return A0(()=>{s.current=t},[t]),u.useEffect(()=>{var i;o.current!==n&&((i=s.current)==null||i.call(s,n),o.current=n)},[n,o]),[n,r,s]}function O0(e){return typeof e=="function"}function L0(e){const t=$0(e),n=u.forwardRef((r,o)=>{const{children:s,...i}=r,l=u.Children.toArray(s),c=l.find(z0);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function $0(e){const t=u.forwardRef((n,r)=>{const{children:o,...s}=n;if(u.isValidElement(o)){const i=U0(o),l=W0(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var F0=Symbol("radix.slottable");function z0(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===F0}function W0(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function U0(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var B0=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Uh=B0.reduce((e,t)=>{const n=L0(`Primitive.${t}`),r=u.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function V0(e,t){e&&jo.flushSync(()=>e.dispatchEvent(t))}function St(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function H0(e,t=globalThis==null?void 0:globalThis.document){const n=St(e);u.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var G0="DismissableLayer",ja="dismissableLayer.update",K0="dismissableLayer.pointerDownOutside",Y0="dismissableLayer.focusOutside",jd,Bh=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oc=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,d=u.useContext(Bh),[p,f]=u.useState(null),h=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=u.useState({}),w=Fe(t,_=>f(_)),v=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),m=v.indexOf(S),g=p?v.indexOf(p):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,C=g>=m,N=Q0(_=>{const E=_.target,I=[...d.branches].some(j=>j.contains(E));!C||I||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},h),b=q0(_=>{const E=_.target;[...d.branches].some(j=>j.contains(E))||(s==null||s(_),i==null||i(_),_.defaultPrevented||l==null||l())},h);return H0(_=>{g===d.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),u.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(jd=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),Pd(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=jd)}},[p,h,n,d]),u.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),Pd())},[p,d]),u.useEffect(()=>{const _=()=>y({});return document.addEventListener(ja,_),()=>document.removeEventListener(ja,_)},[]),a.jsx(Uh.div,{...c,ref:w,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,b.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,N.onPointerDownCapture)})});Oc.displayName=G0;var X0="DismissableLayerBranch",Vh=u.forwardRef((e,t)=>{const n=u.useContext(Bh),r=u.useRef(null),o=Fe(t,r);return u.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(Uh.div,{...e,ref:o})});Vh.displayName=X0;function Q0(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=u.useRef(!1),o=u.useRef(()=>{});return u.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){Hh(K0,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function q0(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=u.useRef(!1);return u.useEffect(()=>{const o=s=>{s.target&&!r.current&&Hh(Y0,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Pd(){const e=new CustomEvent(ja);document.dispatchEvent(e)}function Hh(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?V0(o,s):o.dispatchEvent(s)}var J0=Oc,Z0=Vh;function eC(e){const t=tC(e),n=u.forwardRef((r,o)=>{const{children:s,...i}=r,l=u.Children.toArray(s),c=l.find(rC);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function tC(e){const t=u.forwardRef((n,r)=>{const{children:o,...s}=n;if(u.isValidElement(o)){const i=sC(o),l=oC(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nC=Symbol("radix.slottable");function rC(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nC}function oC(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function sC(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var iC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lC=iC.reduce((e,t)=>{const n=eC(`Primitive.${t}`),r=u.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Sl="focusScope.autoFocusOnMount",Cl="focusScope.autoFocusOnUnmount",Rd={bubbles:!1,cancelable:!0},aC="FocusScope",Gh=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[l,c]=u.useState(null),d=St(o),p=St(s),f=u.useRef(null),h=Fe(t,v=>c(v)),y=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(r){let v=function(x){if(y.paused||!l)return;const C=x.target;l.contains(C)?f.current=C:Kt(f.current,{select:!0})},S=function(x){if(y.paused||!l)return;const C=x.relatedTarget;C!==null&&(l.contains(C)||Kt(f.current,{select:!0}))},m=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Kt(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",S);const g=new MutationObserver(m);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),g.disconnect()}}},[r,l,y.paused]),u.useEffect(()=>{if(l){Id.add(y);const v=document.activeElement;if(!l.contains(v)){const m=new CustomEvent(Sl,Rd);l.addEventListener(Sl,d),l.dispatchEvent(m),m.defaultPrevented||(cC(hC(Kh(l)),{select:!0}),document.activeElement===v&&Kt(l))}return()=>{l.removeEventListener(Sl,d),setTimeout(()=>{const m=new CustomEvent(Cl,Rd);l.addEventListener(Cl,p),l.dispatchEvent(m),m.defaultPrevented||Kt(v??document.body,{select:!0}),l.removeEventListener(Cl,p),Id.remove(y)},0)}}},[l,d,p,y]);const w=u.useCallback(v=>{if(!n&&!r||y.paused)return;const S=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,m=document.activeElement;if(S&&m){const g=v.currentTarget,[x,C]=uC(g);x&&C?!v.shiftKey&&m===C?(v.preventDefault(),n&&Kt(x,{select:!0})):v.shiftKey&&m===x&&(v.preventDefault(),n&&Kt(C,{select:!0})):m===g&&v.preventDefault()}},[n,r,y.paused]);return a.jsx(lC.div,{tabIndex:-1,...i,ref:h,onKeyDown:w})});Gh.displayName=aC;function cC(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Kt(r,{select:t}),document.activeElement!==n)return}function uC(e){const t=Kh(e),n=Td(t,e),r=Td(t.reverse(),e);return[n,r]}function Kh(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Td(e,t){for(const n of e)if(!dC(n,{upTo:t}))return n}function dC(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fC(e){return e instanceof HTMLInputElement&&"select"in e}function Kt(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&fC(e)&&t&&e.select()}}var Id=pC();function pC(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Md(e,t),e.unshift(t)},remove(t){var n;e=Md(e,t),(n=e[0])==null||n.resume()}}}function Md(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function hC(e){return e.filter(t=>t.tagName!=="A")}function mC(e){const t=gC(e),n=u.forwardRef((r,o)=>{const{children:s,...i}=r,l=u.Children.toArray(s),c=l.find(yC);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function gC(e){const t=u.forwardRef((n,r)=>{const{children:o,...s}=n;if(u.isValidElement(o)){const i=wC(o),l=xC(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vC=Symbol("radix.slottable");function yC(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vC}function xC(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function wC(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var SC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CC=SC.reduce((e,t)=>{const n=mC(`Primitive.${t}`),r=u.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),_C="Portal",Lc=u.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,s]=u.useState(!1);Tt(()=>s(!0),[]);const i=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Ex.createPortal(a.jsx(CC.div,{...r,ref:t}),i):null});Lc.displayName=_C;function EC(e,t){return u.useReducer((n,r)=>t[n][r]??n,e)}var Fn=e=>{const{present:t,children:n}=e,r=bC(t),o=typeof n=="function"?n({present:r.isPresent}):u.Children.only(n),s=Fe(r.ref,kC(o));return typeof n=="function"||r.isPresent?u.cloneElement(o,{ref:s}):null};Fn.displayName="Presence";function bC(e){const[t,n]=u.useState(),r=u.useRef(null),o=u.useRef(e),s=u.useRef("none"),i=e?"mounted":"unmounted",[l,c]=EC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=ls(r.current);s.current=l==="mounted"?d:"none"},[l]),Tt(()=>{const d=r.current,p=o.current;if(p!==e){const h=s.current,y=ls(d);e?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(p&&h!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),Tt(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,f=y=>{const v=ls(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&v&&(c("ANIMATION_END"),!o.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},h=y=>{y.target===t&&(s.current=ls(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function ls(e){return(e==null?void 0:e.animationName)||"none"}function kC(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Yh(e){const t=NC(e),n=u.forwardRef((r,o)=>{const{children:s,...i}=r,l=u.Children.toArray(s),c=l.find(PC);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function NC(e){const t=u.forwardRef((n,r)=>{const{children:o,...s}=n;if(u.isValidElement(o)){const i=TC(o),l=RC(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jC=Symbol("radix.slottable");function PC(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jC}function RC(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function TC(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var IC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Io=IC.reduce((e,t)=>{const n=Yh(`Primitive.${t}`),r=u.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),_l=0;function MC(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ad()),document.body.insertAdjacentElement("beforeend",e[1]??Ad()),_l++,()=>{_l===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_l--}},[])}function Ad(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nt=function(){return Nt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Nt.apply(this,arguments)};function Xh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function AC(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var bs="right-scroll-bar-position",ks="width-before-scroll-bar",DC="with-scroll-bars-hidden",OC="--removed-body-scroll-bar-size";function El(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function LC(e,t){var n=u.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var $C=typeof window<"u"?u.useLayoutEffect:u.useEffect,Dd=new WeakMap;function FC(e,t){var n=LC(null,function(r){return e.forEach(function(o){return El(o,r)})});return $C(function(){var r=Dd.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(l){s.has(l)||El(l,null)}),s.forEach(function(l){o.has(l)||El(l,i)})}Dd.set(n,e)},[e]),n}function zC(e){return e}function WC(e,t){t===void 0&&(t=zC);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(s),i=n}var c=function(){var p=i;i=[],p.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(p){i.push(p),d()},filter:function(p){return i=i.filter(p),n}}}};return o}function UC(e){e===void 0&&(e={});var t=WC(null);return t.options=Nt({async:!0,ssr:!1},e),t}var Qh=function(e){var t=e.sideCar,n=Xh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return u.createElement(r,Nt({},n))};Qh.isSideCarExport=!0;function BC(e,t){return e.useMedium(t),Qh}var qh=UC(),bl=function(){},Ri=u.forwardRef(function(e,t){var n=u.useRef(null),r=u.useState({onScrollCapture:bl,onWheelCapture:bl,onTouchMoveCapture:bl}),o=r[0],s=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,p=e.enabled,f=e.shards,h=e.sideCar,y=e.noRelative,w=e.noIsolation,v=e.inert,S=e.allowPinchZoom,m=e.as,g=m===void 0?"div":m,x=e.gapMode,C=Xh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,b=FC([n,t]),_=Nt(Nt({},C),o);return u.createElement(u.Fragment,null,p&&u.createElement(N,{sideCar:qh,removeScrollBar:d,shards:f,noRelative:y,noIsolation:w,inert:v,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:x}),i?u.cloneElement(u.Children.only(l),Nt(Nt({},_),{ref:b})):u.createElement(g,Nt({},_,{className:c,ref:b}),l))});Ri.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ri.classNames={fullWidth:ks,zeroRight:bs};var VC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HC(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VC();return t&&e.setAttribute("nonce",t),e}function GC(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KC(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YC=function(){var e=0,t=null;return{add:function(n){e==0&&(t=HC())&&(GC(t,n),KC(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XC=function(){var e=YC();return function(t,n){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Jh=function(){var e=XC(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},QC={left:0,top:0,right:0,gap:0},kl=function(e){return parseInt(e||"",10)||0},qC=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[kl(n),kl(r),kl(o)]},JC=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QC;var t=qC(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ZC=Jh(),dr="data-scroll-locked",e_=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(DC,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(dr,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bs,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ks,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(bs," .").concat(bs,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ks," .").concat(ks,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dr,`] {
    `).concat(OC,": ").concat(l,`px;
  }
`)},Od=function(){var e=parseInt(document.body.getAttribute(dr)||"0",10);return isFinite(e)?e:0},t_=function(){u.useEffect(function(){return document.body.setAttribute(dr,(Od()+1).toString()),function(){var e=Od()-1;e<=0?document.body.removeAttribute(dr):document.body.setAttribute(dr,e.toString())}},[])},n_=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;t_();var s=u.useMemo(function(){return JC(o)},[o]);return u.createElement(ZC,{styles:e_(s,!t,o,n?"":"!important")})},Pa=!1;if(typeof window<"u")try{var as=Object.defineProperty({},"passive",{get:function(){return Pa=!0,!0}});window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Pa=!1}var Un=Pa?{passive:!1}:!1,r_=function(e){return e.tagName==="TEXTAREA"},Zh=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!r_(e)&&n[t]==="visible")},o_=function(e){return Zh(e,"overflowY")},s_=function(e){return Zh(e,"overflowX")},Ld=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=em(e,r);if(o){var s=tm(e,r),i=s[1],l=s[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},i_=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},l_=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},em=function(e,t){return e==="v"?o_(t):s_(t)},tm=function(e,t){return e==="v"?i_(t):l_(t)},a_=function(e,t){return e==="h"&&t==="rtl"?-1:1},c_=function(e,t,n,r,o){var s=a_(e,window.getComputedStyle(t).direction),i=s*r,l=n.target,c=t.contains(l),d=!1,p=i>0,f=0,h=0;do{if(!l)break;var y=tm(e,l),w=y[0],v=y[1],S=y[2],m=v-S-s*w;(w||m)&&em(e,l)&&(f+=m,h+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(p&&Math.abs(f)<1||!p&&Math.abs(h)<1)&&(d=!0),d},cs=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$d=function(e){return[e.deltaX,e.deltaY]},Fd=function(e){return e&&"current"in e?e.current:e},u_=function(e,t){return e[0]===t[0]&&e[1]===t[1]},d_=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},f_=0,Bn=[];function p_(e){var t=u.useRef([]),n=u.useRef([0,0]),r=u.useRef(),o=u.useState(f_++)[0],s=u.useState(Jh)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=AC([e.lockRef.current],(e.shards||[]).map(Fd),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var m=cs(v),g=n.current,x="deltaX"in v?v.deltaX:g[0]-m[0],C="deltaY"in v?v.deltaY:g[1]-m[1],N,b=v.target,_=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in v&&_==="h"&&b.type==="range")return!1;var E=window.getSelection(),I=E&&E.anchorNode,j=I?I===b||I.contains(b):!1;if(j)return!1;var M=Ld(_,b);if(!M)return!0;if(M?N=_:(N=_==="v"?"h":"v",M=Ld(_,b)),!M)return!1;if(!r.current&&"changedTouches"in v&&(x||C)&&(r.current=N),!N)return!0;var T=r.current||N;return c_(T,S,v,T==="h"?x:C)},[]),c=u.useCallback(function(v){var S=v;if(!(!Bn.length||Bn[Bn.length-1]!==s)){var m="deltaY"in S?$d(S):cs(S),g=t.current.filter(function(N){return N.name===S.type&&(N.target===S.target||S.target===N.shadowParent)&&u_(N.delta,m)})[0];if(g&&g.should){S.cancelable&&S.preventDefault();return}if(!g){var x=(i.current.shards||[]).map(Fd).filter(Boolean).filter(function(N){return N.contains(S.target)}),C=x.length>0?l(S,x[0]):!i.current.noIsolation;C&&S.cancelable&&S.preventDefault()}}},[]),d=u.useCallback(function(v,S,m,g){var x={name:v,delta:S,target:m,should:g,shadowParent:h_(m)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),p=u.useCallback(function(v){n.current=cs(v),r.current=void 0},[]),f=u.useCallback(function(v){d(v.type,$d(v),v.target,l(v,e.lockRef.current))},[]),h=u.useCallback(function(v){d(v.type,cs(v),v.target,l(v,e.lockRef.current))},[]);u.useEffect(function(){return Bn.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Un),document.addEventListener("touchmove",c,Un),document.addEventListener("touchstart",p,Un),function(){Bn=Bn.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,Un),document.removeEventListener("touchmove",c,Un),document.removeEventListener("touchstart",p,Un)}},[]);var y=e.removeScrollBar,w=e.inert;return u.createElement(u.Fragment,null,w?u.createElement(s,{styles:d_(o)}):null,y?u.createElement(n_,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function h_(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const m_=BC(qh,p_);var nm=u.forwardRef(function(e,t){return u.createElement(Ri,Nt({},e,{ref:t,sideCar:m_}))});nm.classNames=Ri.classNames;var g_=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vn=new WeakMap,us=new WeakMap,ds={},Nl=0,rm=function(e){return e&&(e.host||rm(e.parentNode))},v_=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=rm(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},y_=function(e,t,n,r){var o=v_(t,Array.isArray(e)?e:[e]);ds[n]||(ds[n]=new WeakMap);var s=ds[n],i=[],l=new Set,c=new Set(o),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};o.forEach(d);var p=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))p(h);else try{var y=h.getAttribute(r),w=y!==null&&y!=="false",v=(Vn.get(h)||0)+1,S=(s.get(h)||0)+1;Vn.set(h,v),s.set(h,S),i.push(h),v===1&&w&&us.set(h,!0),S===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return p(t),l.clear(),Nl++,function(){i.forEach(function(f){var h=Vn.get(f)-1,y=s.get(f)-1;Vn.set(f,h),s.set(f,y),h||(us.has(f)||f.removeAttribute(r),us.delete(f)),y||f.removeAttribute(n)}),Nl--,Nl||(Vn=new WeakMap,Vn=new WeakMap,us=new WeakMap,ds={})}},x_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=g_(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),y_(r,o,n,"aria-hidden")):function(){return null}},Ti="Dialog",[om]=R0(Ti),[w_,Ct]=om(Ti),sm=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,l=u.useRef(null),c=u.useRef(null),[d,p]=To({prop:r,defaultProp:o??!1,onChange:s,caller:Ti});return a.jsx(w_,{scope:t,triggerRef:l,contentRef:c,contentId:Jr(),titleId:Jr(),descriptionId:Jr(),open:d,onOpenChange:p,onOpenToggle:u.useCallback(()=>p(f=>!f),[p]),modal:i,children:n})};sm.displayName=Ti;var im="DialogTrigger",S_=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ct(im,n),s=Fe(t,o.triggerRef);return a.jsx(Io.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":zc(o.open),...r,ref:s,onClick:Q(e.onClick,o.onOpenToggle)})});S_.displayName=im;var $c="DialogPortal",[C_,lm]=om($c,{forceMount:void 0}),am=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=Ct($c,t);return a.jsx(C_,{scope:t,forceMount:n,children:u.Children.map(r,i=>a.jsx(Fn,{present:n||s.open,children:a.jsx(Lc,{asChild:!0,container:o,children:i})}))})};am.displayName=$c;var ri="DialogOverlay",cm=u.forwardRef((e,t)=>{const n=lm(ri,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Ct(ri,e.__scopeDialog);return s.modal?a.jsx(Fn,{present:r||s.open,children:a.jsx(E_,{...o,ref:t})}):null});cm.displayName=ri;var __=Yh("DialogOverlay.RemoveScroll"),E_=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ct(ri,n);return a.jsx(nm,{as:__,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(Io.div,{"data-state":zc(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Dn="DialogContent",um=u.forwardRef((e,t)=>{const n=lm(Dn,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Ct(Dn,e.__scopeDialog);return a.jsx(Fn,{present:r||s.open,children:s.modal?a.jsx(b_,{...o,ref:t}):a.jsx(k_,{...o,ref:t})})});um.displayName=Dn;var b_=u.forwardRef((e,t)=>{const n=Ct(Dn,e.__scopeDialog),r=u.useRef(null),o=Fe(t,n.contentRef,r);return u.useEffect(()=>{const s=r.current;if(s)return x_(s)},[]),a.jsx(dm,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,s=>s.preventDefault())})}),k_=u.forwardRef((e,t)=>{const n=Ct(Dn,e.__scopeDialog),r=u.useRef(!1),o=u.useRef(!1);return a.jsx(dm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),dm=u.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,l=Ct(Dn,n),c=u.useRef(null),d=Fe(t,c);return MC(),a.jsxs(a.Fragment,{children:[a.jsx(Gh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:a.jsx(Oc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zc(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(N_,{titleId:l.titleId}),a.jsx(P_,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Fc="DialogTitle",fm=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ct(Fc,n);return a.jsx(Io.h2,{id:o.titleId,...r,ref:t})});fm.displayName=Fc;var pm="DialogDescription",hm=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ct(pm,n);return a.jsx(Io.p,{id:o.descriptionId,...r,ref:t})});hm.displayName=pm;var mm="DialogClose",gm=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ct(mm,n);return a.jsx(Io.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,()=>o.onOpenChange(!1))})});gm.displayName=mm;function zc(e){return e?"open":"closed"}var vm="DialogTitleWarning",[b1,ym]=P0(vm,{contentName:Dn,titleName:Fc,docsSlug:"dialog"}),N_=({titleId:e})=>{const t=ym(vm),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},j_="DialogDescriptionWarning",P_=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ym(j_).contentName}}.`;return u.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},R_=sm,T_=am,xm=cm,wm=um,Sm=fm,Cm=hm,I_=gm;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(e,t)=>{const n=u.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,...d},p)=>u.createElement("svg",{ref:p,...M_,width:o,height:o,stroke:r,strokeWidth:i?Number(s)*24/Number(o):s,className:["lucide",`lucide-${A_(e)}`,l].join(" "),...d},[...t.map(([f,h])=>u.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=me("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=me("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=me("Dice1",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=me("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=me("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=me("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mi=R_,V_=T_,Nm=u.forwardRef(({className:e,...t},n)=>a.jsx(xm,{ref:n,className:B("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Nm.displayName=xm.displayName;const Mo=u.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(V_,{children:[a.jsx(Nm,{}),a.jsxs(wm,{ref:r,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(I_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(km,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mo.displayName=wm.displayName;const Ao=({className:e,...t})=>a.jsx("div",{className:B("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ao.displayName="DialogHeader";const Wc=({className:e,...t})=>a.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wc.displayName="DialogFooter";const Do=u.forwardRef(({className:e,...t},n)=>a.jsx(Sm,{ref:n,className:B("text-lg font-semibold leading-none tracking-tight",e),...t}));Do.displayName=Sm.displayName;const Oo=u.forwardRef(({className:e,...t},n)=>a.jsx(Cm,{ref:n,className:B("text-sm text-muted-foreground",e),...t}));Oo.displayName=Cm.displayName;const Cn=u.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:B("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Cn.displayName="Input";var H_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lo=H_.reduce((e,t)=>{const n=Ah(`Primitive.${t}`),r=u.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),G_="Label",jm=u.forwardRef((e,t)=>a.jsx(Lo.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jm.displayName=G_;var Pm=jm;const K_=Ro("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ot=u.forwardRef(({className:e,...t},n)=>a.jsx(Pm,{ref:n,className:B(K_(),e),...t}));ot.displayName=Pm.displayName;const Y_=Ro("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ai=u.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:B(Y_({variant:t}),e),...n}));Ai.displayName="Alert";const X_=u.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:B("mb-1 font-medium leading-none tracking-tight",e),...t}));X_.displayName="AlertTitle";const Di=u.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:B("text-sm [&_p]:leading-relaxed",e),...t}));Di.displayName="AlertDescription";const Q_=({isOpen:e,onClose:t,onSwitchToSignup:n})=>{const{login:r}=Ni(),[o,s]=u.useState(""),[i,l]=u.useState(""),[c,d]=u.useState(null),[p,f]=u.useState(!1),h=async y=>{y.preventDefault(),d(null),f(!0);try{await r({username:o,password:i}),t(),s(""),l("")}catch(w){d(w instanceof Error?w.message:"Login failed")}finally{f(!1)}};return a.jsx(Mi,{open:e,onOpenChange:t,children:a.jsxs(Mo,{children:[a.jsxs(Ao,{children:[a.jsx(Do,{children:"Login"}),a.jsx(Oo,{children:"Enter your credentials to access your account"})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c&&a.jsx(Ai,{variant:"destructive",children:a.jsx(Di,{children:c})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"username",children:"Username"}),a.jsx(Cn,{id:"username",type:"text",value:o,onChange:y=>s(y.target.value),placeholder:"Enter your username",required:!0,autoFocus:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"password",children:"Password"}),a.jsx(Cn,{id:"password",type:"password",value:i,onChange:y=>l(y.target.value),placeholder:"Enter your password",required:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsx(X,{type:"button",variant:"link",onClick:n,className:"px-0",children:"Don't have an account? Sign up"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{type:"button",variant:"outline",onClick:t,disabled:p,children:"Cancel"}),a.jsx(X,{type:"submit",disabled:p,children:p?"Logging in...":"Login"})]})]})]})]})})},q_=({isOpen:e,onClose:t,onSwitchToLogin:n})=>{const{register:r}=Ni(),[o,s]=u.useState(""),[i,l]=u.useState(""),[c,d]=u.useState(""),[p,f]=u.useState(""),[h,y]=u.useState(null),[w,v]=u.useState(!1),S=async m=>{if(m.preventDefault(),y(null),c!==p){y("Passwords do not match");return}if(c.length<6){y("Password must be at least 6 characters");return}v(!0);try{await r({username:o,email:i||void 0,password:c}),t(),s(""),l(""),d(""),f("")}catch(g){y(g instanceof Error?g.message:"Registration failed")}finally{v(!1)}};return a.jsx(Mi,{open:e,onOpenChange:t,children:a.jsxs(Mo,{children:[a.jsxs(Ao,{children:[a.jsx(Do,{children:"Sign Up"}),a.jsx(Oo,{children:"Create a new account to save your progress"})]}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[h&&a.jsx(Ai,{variant:"destructive",children:a.jsx(Di,{children:h})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"register-username",children:"Username"}),a.jsx(Cn,{id:"register-username",type:"text",value:o,onChange:m=>s(m.target.value),placeholder:"Choose a username",required:!0,autoFocus:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ot,{htmlFor:"register-email",children:["Email ",a.jsx("span",{className:"text-muted-foreground text-xs",children:"(optional)"})]}),a.jsx(Cn,{id:"register-email",type:"email",value:i,onChange:m=>l(m.target.value),placeholder:"your@email.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"register-password",children:"Password"}),a.jsx(Cn,{id:"register-password",type:"password",value:c,onChange:m=>d(m.target.value),placeholder:"At least 6 characters",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"register-confirm-password",children:"Confirm Password"}),a.jsx(Cn,{id:"register-confirm-password",type:"password",value:p,onChange:m=>f(m.target.value),placeholder:"Re-enter your password",required:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsx(X,{type:"button",variant:"link",onClick:n,className:"px-0",children:"Already have an account? Login"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{type:"button",variant:"outline",onClick:t,disabled:w,children:"Cancel"}),a.jsx(X,{type:"submit",disabled:w,children:w?"Creating account...":"Sign Up"})]})]})]})]})})};function Rm(e,t=[]){let n=[];function r(s,i){const l=u.createContext(i),c=n.length;n=[...n,i];const d=f=>{var m;const{scope:h,children:y,...w}=f,v=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,S=u.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:S,children:y})};d.displayName=s+"Provider";function p(f,h){var v;const y=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=u.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,p]}const o=()=>{const s=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,J_(o,...t)]}function J_(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Z_(e){const t=eE(e),n=u.forwardRef((r,o)=>{const{children:s,...i}=r,l=u.Children.toArray(s),c=l.find(nE);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function eE(e){const t=u.forwardRef((n,r)=>{const{children:o,...s}=n;if(u.isValidElement(o)){const i=oE(o),l=rE(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tE=Symbol("radix.slottable");function nE(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tE}function rE(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function oE(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var sE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oi=sE.reduce((e,t)=>{const n=Z_(`Primitive.${t}`),r=u.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function iE(e,t=[]){let n=[];function r(s,i){const l=u.createContext(i),c=n.length;n=[...n,i];const d=f=>{var m;const{scope:h,children:y,...w}=f,v=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,S=u.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:S,children:y})};d.displayName=s+"Provider";function p(f,h){var v;const y=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=u.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,p]}const o=()=>{const s=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,lE(o,...t)]}function lE(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Gd(e){const t=aE(e),n=u.forwardRef((r,o)=>{const{children:s,...i}=r,l=u.Children.toArray(s),c=l.find(uE);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function aE(e){const t=u.forwardRef((n,r)=>{const{children:o,...s}=n;if(u.isValidElement(o)){const i=fE(o),l=dE(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cE=Symbol("radix.slottable");function uE(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cE}function dE(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function fE(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Tm(e){const t=e+"CollectionProvider",[n,r]=iE(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:S,children:m}=v,g=ht.useRef(null),x=ht.useRef(new Map).current;return a.jsx(o,{scope:S,itemMap:x,collectionRef:g,children:m})};i.displayName=t;const l=e+"CollectionSlot",c=Gd(l),d=ht.forwardRef((v,S)=>{const{scope:m,children:g}=v,x=s(l,m),C=Fe(S,x.collectionRef);return a.jsx(c,{ref:C,children:g})});d.displayName=l;const p=e+"CollectionItemSlot",f="data-radix-collection-item",h=Gd(p),y=ht.forwardRef((v,S)=>{const{scope:m,children:g,...x}=v,C=ht.useRef(null),N=Fe(S,C),b=s(p,m);return ht.useEffect(()=>(b.itemMap.set(C,{ref:C,...x}),()=>void b.itemMap.delete(C))),a.jsx(h,{[f]:"",ref:N,children:g})});y.displayName=p;function w(v){const S=s(e+"CollectionConsumer",v);return ht.useCallback(()=>{const g=S.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((b,_)=>x.indexOf(b.ref.current)-x.indexOf(_.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:d,ItemSlot:y},w,r]}function pE(e,t=[]){let n=[];function r(s,i){const l=u.createContext(i),c=n.length;n=[...n,i];const d=f=>{var m;const{scope:h,children:y,...w}=f,v=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,S=u.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:S,children:y})};d.displayName=s+"Provider";function p(f,h){var v;const y=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=u.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,p]}const o=()=>{const s=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,hE(o,...t)]}function hE(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function mE(e){const t=gE(e),n=u.forwardRef((r,o)=>{const{children:s,...i}=r,l=u.Children.toArray(s),c=l.find(yE);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function gE(e){const t=u.forwardRef((n,r)=>{const{children:o,...s}=n;if(u.isValidElement(o)){const i=wE(o),l=xE(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vE=Symbol("radix.slottable");function yE(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vE}function xE(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function wE(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var SE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Im=SE.reduce((e,t)=>{const n=mE(`Primitive.${t}`),r=u.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),CE=u.createContext(void 0);function Uc(e){const t=u.useContext(CE);return e||t||"ltr"}var jl="rovingFocusGroup.onEntryFocus",_E={bubbles:!1,cancelable:!0},$o="RovingFocusGroup",[Ta,Mm,EE]=Tm($o),[bE,Li]=pE($o,[EE]),[kE,NE]=bE($o),Am=u.forwardRef((e,t)=>a.jsx(Ta.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Ta.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(jE,{...e,ref:t})})}));Am.displayName=$o;var jE=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...f}=e,h=u.useRef(null),y=Fe(t,h),w=Uc(s),[v,S]=To({prop:i,defaultProp:l??null,onChange:c,caller:$o}),[m,g]=u.useState(!1),x=St(d),C=Mm(n),N=u.useRef(!1),[b,_]=u.useState(0);return u.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(jl,x),()=>E.removeEventListener(jl,x)},[x]),a.jsx(kE,{scope:n,orientation:r,dir:w,loop:o,currentTabStopId:v,onItemFocus:u.useCallback(E=>S(E),[S]),onItemShiftTab:u.useCallback(()=>g(!0),[]),onFocusableItemAdd:u.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:u.useCallback(()=>_(E=>E-1),[]),children:a.jsx(Im.div,{tabIndex:m||b===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{N.current=!0}),onFocus:Q(e.onFocus,E=>{const I=!N.current;if(E.target===E.currentTarget&&I&&!m){const j=new CustomEvent(jl,_E);if(E.currentTarget.dispatchEvent(j),!j.defaultPrevented){const M=C().filter(G=>G.focusable),T=M.find(G=>G.active),H=M.find(G=>G.id===v),K=[T,H,...M].filter(Boolean).map(G=>G.ref.current);Lm(K,p)}}N.current=!1}),onBlur:Q(e.onBlur,()=>g(!1))})})}),Dm="RovingFocusGroupItem",Om=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:i,...l}=e,c=Jr(),d=s||c,p=NE(Dm,n),f=p.currentTabStopId===d,h=Mm(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:v}=p;return u.useEffect(()=>{if(r)return y(),()=>w()},[r,y,w]),a.jsx(Ta.ItemSlot,{scope:n,id:d,focusable:r,active:o,children:a.jsx(Im.span,{tabIndex:f?0:-1,"data-orientation":p.orientation,...l,ref:t,onMouseDown:Q(e.onMouseDown,S=>{r?p.onItemFocus(d):S.preventDefault()}),onFocus:Q(e.onFocus,()=>p.onItemFocus(d)),onKeyDown:Q(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const m=TE(S,p.orientation,p.dir);if(m!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let x=h().filter(C=>C.focusable).map(C=>C.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const C=x.indexOf(S.currentTarget);x=p.loop?IE(x,C+1):x.slice(C+1)}setTimeout(()=>Lm(x))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});Om.displayName=Dm;var PE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RE(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function TE(e,t,n){const r=RE(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return PE[r]}function Lm(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function IE(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var $m=Am,Fm=Om;function ME(e){const[t,n]=u.useState(void 0);return Tt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function AE(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Bc="Radio",[DE,zm]=Rm(Bc),[OE,LE]=DE(Bc),Wm=u.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:s,disabled:i,value:l="on",onCheck:c,form:d,...p}=e,[f,h]=u.useState(null),y=Fe(t,S=>h(S)),w=u.useRef(!1),v=f?d||!!f.closest("form"):!0;return a.jsxs(OE,{scope:n,checked:o,disabled:i,children:[a.jsx(Oi.button,{type:"button",role:"radio","aria-checked":o,"data-state":Hm(o),"data-disabled":i?"":void 0,disabled:i,value:l,...p,ref:y,onClick:Q(e.onClick,S=>{o||c==null||c(),v&&(w.current=S.isPropagationStopped(),w.current||S.stopPropagation())})}),v&&a.jsx(Vm,{control:f,bubbles:!w.current,name:r,value:l,checked:o,required:s,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});Wm.displayName=Bc;var Um="RadioIndicator",Bm=u.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,s=LE(Um,n);return a.jsx(Fn,{present:r||s.checked,children:a.jsx(Oi.span,{"data-state":Hm(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:t})})});Bm.displayName=Um;var $E="RadioBubbleInput",Vm=u.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...o},s)=>{const i=u.useRef(null),l=Fe(i,s),c=AE(n),d=ME(t);return u.useEffect(()=>{const p=i.current;if(!p)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const w=new Event("click",{bubbles:r});y.call(p,n),p.dispatchEvent(w)}},[c,n,r]),a.jsx(Oi.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:l,style:{...o.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vm.displayName=$E;function Hm(e){return e?"checked":"unchecked"}var FE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$i="RadioGroup",[zE]=Rm($i,[Li,zm]),Gm=Li(),Km=zm(),[WE,UE]=zE($i),Ym=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:s,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:p=!0,onValueChange:f,...h}=e,y=Gm(n),w=Uc(d),[v,S]=To({prop:s,defaultProp:o??null,onChange:f,caller:$i});return a.jsx(WE,{scope:n,name:r,required:i,disabled:l,value:v,onValueChange:S,children:a.jsx($m,{asChild:!0,...y,orientation:c,dir:w,loop:p,children:a.jsx(Oi.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...h,ref:t})})})});Ym.displayName=$i;var Xm="RadioGroupItem",Qm=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,s=UE(Xm,n),i=s.disabled||r,l=Gm(n),c=Km(n),d=u.useRef(null),p=Fe(t,d),f=s.value===o.value,h=u.useRef(!1);return u.useEffect(()=>{const y=v=>{FE.includes(v.key)&&(h.current=!0)},w=()=>h.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),a.jsx(Fm,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(Wm,{disabled:i,required:s.required,checked:f,...c,...o,name:s.name,ref:p,onCheck:()=>s.onValueChange(o.value),onKeyDown:Q(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Q(o.onFocus,()=>{var y;h.current&&((y=d.current)==null||y.click())})})})});Qm.displayName=Xm;var BE="RadioGroupIndicator",qm=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=Km(n);return a.jsx(Bm,{...o,...r,ref:t})});qm.displayName=BE;var Jm=Ym,Zm=Qm,VE=qm;const eg=u.forwardRef(({className:e,...t},n)=>a.jsx(Jm,{className:B("grid gap-2",e),...t,ref:n}));eg.displayName=Jm.displayName;const Ur=u.forwardRef(({className:e,...t},n)=>a.jsx(Zm,{ref:n,className:B("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(VE,{className:"flex items-center justify-center",children:a.jsx($_,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ur.displayName=Zm.displayName;const HE=({isOpen:e,onClose:t,defaultOpponentType:n="AI"})=>{const{invoke:r}=ct(),[o,s]=u.useState(n),[i,l]=u.useState(1),[c,d]=u.useState(!1);ht.useEffect(()=>{e&&(s(n),l(1))},[e,n]);const p=async()=>{d(!0);try{const f={OpponentType:o,TargetScore:i,DisplayName:Ye.getDisplayName()||"Player"};console.log("[CreateMatchModal] Invoking CreateMatchWithConfig",f),await r(jt.CreateMatchWithConfig,f),console.log("[CreateMatchModal] CreateMatchWithConfig completed"),t()}catch(f){console.error("[CreateMatchModal] Failed to create match:",f)}finally{d(!1)}};return a.jsx(Mi,{open:e,onOpenChange:t,children:a.jsxs(Mo,{children:[a.jsxs(Ao,{children:[a.jsx(Do,{children:o==="AI"?"Play vs Computer":"Play Online"}),a.jsx(Oo,{children:"Choose match length"})]}),a.jsx("div",{className:"space-y-6 py-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(ot,{children:"Match Length"}),a.jsxs(eg,{value:String(i),onValueChange:f=>l(Number(f)),children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{value:"1",id:"score-1"}),a.jsx(ot,{htmlFor:"score-1",className:"font-normal cursor-pointer",children:"1 point (Single Game)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{value:"3",id:"score-3"}),a.jsx(ot,{htmlFor:"score-3",className:"font-normal cursor-pointer",children:"3 points (Short Match)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{value:"5",id:"score-5"}),a.jsx(ot,{htmlFor:"score-5",className:"font-normal cursor-pointer",children:"5 points (Medium Match)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{value:"7",id:"score-7"}),a.jsx(ot,{htmlFor:"score-7",className:"font-normal cursor-pointer",children:"7 points (Long Match)"})]})]})]})}),a.jsxs(Wc,{className:"gap-2",children:[a.jsx(X,{variant:"outline",onClick:t,disabled:c,children:"Cancel"}),a.jsx(X,{onClick:p,disabled:c,children:c?"Creating...":"Create Game"})]})]})})};var Le=(e=>(e[e.White=0]="White",e[e.Red=1]="Red",e))(Le||{});const GE="http://www.w3.org/2000/svg",L={viewBox:{width:1020,height:500},sidebarWidth:0,margin:10,barWidth:70,pointWidth:72,pointHeight:200,padding:25,checkerRadius:20,checkerSpacing:38,bearoffWidth:50};L.boardStartX=L.sidebarWidth+L.margin;L.barX=L.boardStartX+6*L.pointWidth;const ae={boardBackground:"hsl(0 0% 14%)",boardBorder:"hsl(0 0% 22%)",pointLight:"hsl(0 0% 32%)",pointDark:"hsl(0 0% 20%)",bar:"hsl(0 0% 11%)",bearoff:"hsl(0 0% 11%)",checkerWhite:"hsl(0 0% 98%)",checkerWhiteStroke:"hsl(0 0% 72%)",checkerRed:"hsl(0 84.2% 60.2%)",checkerRedStroke:"hsl(0 72.2% 50.6%)",highlightSource:"hsla(47.9 95.8% 53.1% / 0.6)",highlightSelected:"hsla(142.1 76.2% 36.3% / 0.7)",highlightDest:"hsla(221.2 83.2% 53.3% / 0.6)",highlightCapture:"hsla(0 84.2% 60.2% / 0.6)",textLight:"hsla(0 0% 98% / 0.5)",textDark:"hsla(0 0% 9% / 0.7)"},_n={};function KE(){const e=L.barX+L.barWidth;for(let t=0;t<6;t++){const n=13+t;_n[n]={x:L.boardStartX+t*L.pointWidth,y:L.padding,direction:1}}for(let t=0;t<6;t++){const n=19+t;_n[n]={x:e+t*L.pointWidth,y:L.padding,direction:1}}for(let t=0;t<6;t++){const n=12-t;_n[n]={x:L.boardStartX+t*L.pointWidth,y:L.viewBox.height-L.padding,direction:-1}}for(let t=0;t<6;t++){const n=6-t;_n[n]={x:e+t*L.pointWidth,y:L.viewBox.height-L.padding,direction:-1}}}KE();const YE=({gameState:e})=>{const t=u.useRef(null),n=u.useRef(null),r=u.useRef(null),{selectedChecker:o,validSources:s,isBoardFlipped:i}=Po(),{invoke:l}=ct(),c=u.useRef({isDragging:!1,sourcePoint:null,draggedChecker:null,ghostChecker:null,draggedCheckerOriginalPos:null,offset:null}),[d,p]=u.useState({sources:[],source:null,destinations:[],captures:[]}),f=(b,_={})=>{const E=document.createElementNS(GE,b);return Object.entries(_).forEach(([I,j])=>{E.setAttribute(I,String(j))}),E},h=b=>{const _=_n[b],{x:E,y:I,direction:j}=_,M=L.pointWidth,T=L.pointHeight*j,H=`${E},${I} ${E+M/2},${I+T} ${E+M},${I}`,D=b%2===0?ae.pointLight:ae.pointDark;return f("polygon",{points:H,fill:D,stroke:"none",class:`point point-${b}`})},y=(b,_,E,I,j)=>{const M=_n[b],{x:T,y:H,direction:D}=M,K=T+L.pointWidth/2,G=H+L.checkerSpacing*_*D,ee=E===Le.White?ae.checkerWhite:ae.checkerRed,R=E===Le.White?ae.checkerWhiteStroke:ae.checkerRedStroke,O=f("circle",{cx:K,cy:G,r:L.checkerRadius,fill:ee,stroke:R,"stroke-width":2,class:`checker ${j?"draggable":""}`,"data-point":b,"data-color":E});return I&&(O.setAttribute("stroke",ae.highlightSelected),O.setAttribute("stroke-width","4")),j&&(O.addEventListener("mousedown",$=>{$.preventDefault(),x($,O,$.clientX,$.clientY)}),O.addEventListener("touchstart",$=>{$.preventDefault();const F=$.touches[0];x($,O,F.clientX,F.clientY)})),O},w=u.useCallback(b=>{if(!(e!=null&&e.validMoves))return{destinations:[],captures:[]};const _=e.validMoves.filter(j=>j.from===b),E=[],I=[];return _.forEach(j=>{if(!E.includes(j.to)&&!I.includes(j.to)){const M=e.board[j.to-1],T=e.currentPlayer;M&&M.count===1&&M.color!==null&&M.color!==T?I.push(j.to):E.push(j.to)}}),{destinations:E,captures:I}},[e]),v=u.useCallback(()=>{if(!r.current)return;if(r.current.querySelectorAll("polygon.point").forEach(_=>{var j,M;const I=parseInt(((M=(j=_.getAttribute("class"))==null?void 0:j.match(/point-(\d+)/))==null?void 0:M[1])||"0")%2===0?ae.pointLight:ae.pointDark;_.setAttribute("fill",I)}),d.sources.forEach(_=>{const E=r.current.querySelector(`.point-${_}`);E&&E.setAttribute("fill",ae.highlightSource)}),d.source!==null){const _=r.current.querySelector(`.point-${d.source}`);_&&_.setAttribute("fill",ae.highlightSelected)}d.destinations.forEach(_=>{const E=r.current.querySelector(`.point-${_}`);E&&E.setAttribute("fill",ae.highlightDest)}),d.captures.forEach(_=>{const E=r.current.querySelector(`.point-${_}`);E&&E.setAttribute("fill",ae.highlightCapture)})},[d]);u.useEffect(()=>{v()},[v]),u.useEffect(()=>{p(b=>({...b,sources:s}))},[s]);const S=u.useCallback((b,_)=>{if(!t.current)return null;const E=t.current.getBoundingClientRect(),I=E.width/E.height,j=L.viewBox.width/L.viewBox.height;let M=E.width,T=E.height,H=0,D=0;I>j?(M=E.height*j,H=(E.width-M)/2):I<j&&(T=E.width/j,D=(E.height-T)/2);const K=L.viewBox.width/M,G=L.viewBox.height/T;let ee=(b-E.left-H)*K,R=(_-E.top-D)*G;if(i&&(ee=L.viewBox.width-ee,R=L.viewBox.height-R),ee>=L.barX&&ee<=L.barX+L.barWidth)return 0;if(ee>=L.viewBox.width-L.bearoffWidth-10)return 25;const O=R<L.viewBox.height/2,$=ee<L.barX;let F;if($){if(F=Math.floor((ee-L.boardStartX)/L.pointWidth),F<0||F>5)return null}else{const dt=L.barX+L.barWidth;if(F=Math.floor((ee-dt)/L.pointWidth),F<0||F>5)return null}let ne;return O?ne=$?13+F:19+F:ne=$?12-F:6-F,ne},[i]),m=u.useCallback(b=>{var H,D;const _=c.current;if(!_.isDragging||!_.ghostChecker)return;b.preventDefault();let E,I;if(b.type==="touchmove"){const K=b.touches[0];E=K.clientX,I=K.clientY}else E=b.clientX,I=b.clientY;if(!t.current)return;const j=t.current.createSVGPoint();j.x=E,j.y=I;const M=t.current.getScreenCTM();if(!M)return;const T=j.matrixTransform(M.inverse());_.ghostChecker.setAttribute("cx",String(T.x-(((H=_.offset)==null?void 0:H.x)||0))),_.ghostChecker.setAttribute("cy",String(T.y-(((D=_.offset)==null?void 0:D.y)||0)))},[]),g=u.useCallback(async b=>{const _=c.current;if(!_.isDragging)return;b.preventDefault();let E,I;if(b.type==="touchend"){const T=b.changedTouches[0];E=T.clientX,I=T.clientY}else E=b.clientX,I=b.clientY;const j=S(E,I);_.ghostChecker&&_.ghostChecker.remove(),_.draggedChecker&&(_.draggedChecker.style.opacity="1",_.draggedChecker.style.cursor="grab"),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",g);const M=_.sourcePoint;if(p(T=>({...T,source:null,destinations:[],captures:[]})),c.current={isDragging:!1,sourcePoint:null,draggedChecker:null,ghostChecker:null,draggedCheckerOriginalPos:null,offset:null},j!==null&&j!==M&&M!==null)try{await l(jt.MakeMove,M,j)}catch(T){console.error("Failed to execute move:",T)}},[S,l,m]),x=u.useCallback((b,_,E,I)=>{const j=parseInt(_.getAttribute("data-point")||"0"),M=parseInt(_.getAttribute("data-color")||"0");if(!t.current||!n.current)return;const T=t.current.createSVGPoint();T.x=E,T.y=I;const H=t.current.getScreenCTM();if(!H)return;const D=T.matrixTransform(H.inverse()),K=parseFloat(_.getAttribute("cx")||"0"),G=parseFloat(_.getAttribute("cy")||"0"),ee={x:D.x-K,y:D.y-G},R=f("circle",{class:`checker ${M===Le.White?"checker-white":"checker-red"} dragging`,cx:D.x-ee.x,cy:D.y-ee.y,r:L.checkerRadius,opacity:"0.7","pointer-events":"none",fill:M===Le.White?ae.checkerWhite:ae.checkerRed,stroke:M===Le.White?ae.checkerWhiteStroke:ae.checkerRedStroke,"stroke-width":2});n.current.appendChild(R),_.style.opacity="0.3",_.style.cursor="grabbing",c.current={isDragging:!0,sourcePoint:j,draggedChecker:_,ghostChecker:R,draggedCheckerOriginalPos:{cx:K,cy:G},offset:ee};const{destinations:O,captures:$}=w(j);p(F=>({...F,source:j,destinations:O,captures:$})),document.addEventListener("mousemove",m),document.addEventListener("mouseup",g),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("touchend",g)},[m,g,w]),C=u.useCallback(()=>{if(!t.current)return;t.current.innerHTML="";const b=f("rect",{x:0,y:0,width:L.viewBox.width,height:L.viewBox.height,fill:ae.boardBackground,stroke:ae.boardBorder,"stroke-width":4});t.current.appendChild(b);const _=f("g",{id:"points"});for(let D=1;D<=24;D++){const K=h(D);_.appendChild(K)}t.current.appendChild(_),r.current=_;const E=f("g",{id:"bar"}),I=f("rect",{x:L.barX,y:L.padding,width:L.barWidth,height:L.viewBox.height-2*L.padding,fill:ae.bar});E.appendChild(I),t.current.appendChild(E);const j=f("g",{id:"bearoff"}),M=f("rect",{x:L.barX+L.barWidth+6*L.pointWidth,y:L.padding,width:L.bearoffWidth,height:L.viewBox.height-2*L.padding,fill:ae.bearoff});j.appendChild(M),t.current.appendChild(j);const T=f("g",{id:"checkers"});t.current.appendChild(T),n.current=T;const H=f("g",{id:"dice"});t.current.appendChild(H)},[]),N=u.useCallback(()=>{!n.current||!(e!=null&&e.board)||(n.current.innerHTML="",e.board.forEach((b,_)=>{const E=_+1;if(b.color!==null&&b.count>0){const I=Math.min(b.count,5);for(let j=0;j<I;j++){const M=j===I-1,T=(o==null?void 0:o.point)===E&&M,H=M&&s.includes(E),D=y(E,j,b.color,T,H);n.current.appendChild(D)}if(b.count>5){const j=_n[E],M=b.color===Le.White?ae.textDark:ae.textLight,T=f("text",{x:j.x+L.pointWidth/2,y:j.y+L.checkerSpacing*4*j.direction,"text-anchor":"middle","dominant-baseline":"middle",fill:M,"font-size":16,"font-weight":"bold"});T.textContent=String(b.count),n.current.appendChild(T)}}}))},[e,o,s,x]);return u.useEffect(()=>{C()},[C]),u.useEffect(()=>{N()},[N]),a.jsx("svg",{ref:t,viewBox:`0 0 ${L.viewBox.width} ${L.viewBox.height}`,className:`board-svg w-full h-auto ${i?"rotate-180":""}`,style:{transition:"transform 0.6s"}})},Kd=({playerName:e,username:t,color:n,isYourTurn:r,isYou:o,pipCount:s,checkersOnBar:i,bornOff:l})=>{const c=n===Le.White?"bg-gray-100 text-gray-900":"bg-red-600 text-white";return a.jsx(Y,{className:B("transition-all",r&&"ring-2 ring-blue-500 shadow-lg animate-subtle-pulse"),children:a.jsxs(q,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:B("w-6 h-6 rounded-full",c)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:e}),t&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["@",t]})]})]}),o&&a.jsx(_e,{variant:"secondary",children:"You"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mt-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-muted-foreground text-xs",children:"Pip Count"}),a.jsx("div",{className:"font-semibold",children:s||0})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-muted-foreground text-xs",children:"On Bar"}),a.jsx("div",{className:"font-semibold",children:i||0})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-muted-foreground text-xs",children:"Born Off"}),a.jsx("div",{className:"font-semibold",children:l||0})]})]})]})})},XE=({isOpen:e,onClose:t})=>{const{invoke:n}=ct(),r=async()=>{try{await n(jt.AbandonGame),t()}catch(o){console.error("Failed to abandon game:",o)}};return a.jsx(Mi,{open:e,onOpenChange:t,children:a.jsxs(Mo,{children:[a.jsxs(Ao,{children:[a.jsx(Do,{children:"Abandon Game?"}),a.jsx(Oo,{children:"Are you sure you want to forfeit this game?"})]}),a.jsx(Ai,{variant:"destructive",children:a.jsx(Di,{children:"This action cannot be undone. You will lose the game and your opponent will be declared the winner."})}),a.jsxs(Wc,{className:"gap-2",children:[a.jsx(X,{variant:"outline",onClick:t,children:"Cancel"}),a.jsx(X,{variant:"destructive",onClick:r,children:"Abandon Game"})]})]})})},QE=({gameState:e,isSpectator:t=!1})=>{const{invoke:n}=ct(),{toggleBoardFlip:r}=Po(),[o,s]=u.useState(!1);if(!e)return null;const i=e.isYourTurn,l=e.dice&&e.dice.length>0&&e.dice.some(S=>S>0),c=e.remainingMoves&&e.remainingMoves.length>0,d=i&&!l,p=i&&l&&!c,f=i&&!l&&e.doublingCubeOwner===e.yourColor,h=async()=>{try{await n(jt.RollDice)}catch(S){console.error("Failed to roll dice:",S)}},y=async()=>{try{await n(jt.EndTurn)}catch(S){console.error("Failed to end turn:",S)}},w=async()=>{try{await n(jt.UndoLastMove)}catch(S){console.error("Failed to undo:",S)}},v=async()=>{try{await n(jt.OfferDouble)}catch(S){console.error("Failed to offer double:",S)}};return t?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-center text-muted-foreground text-sm mb-4",children:"Spectating - controls disabled"}),a.jsx(X,{variant:"outline",size:"sm",onClick:r,className:"w-full",children:a.jsx(Vd,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(X,{variant:"default",size:"lg",onClick:h,disabled:!d,className:"h-16",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Wd,{className:"h-6 w-6 mx-auto mb-1"}),a.jsx("div",{className:"text-sm",children:"Roll Dice"})]})}),a.jsx(X,{variant:"default",size:"lg",onClick:y,disabled:!p,className:"h-16",children:a.jsxs("div",{className:"text-center",children:[a.jsx(L_,{className:"h-6 w-6 mx-auto mb-1"}),a.jsx("div",{className:"text-sm",children:"End Turn"})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(X,{variant:"outline",size:"lg",onClick:w,disabled:!i||!l,className:"h-16",children:a.jsxs("div",{className:"text-center",children:[a.jsx(U_,{className:"h-6 w-6 mx-auto mb-1"}),a.jsx("div",{className:"text-sm",children:"Undo"})]})}),a.jsx(X,{variant:"outline",size:"lg",onClick:v,disabled:!f,className:"h-16 bg-yellow-500/10 hover:bg-yellow-500/20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Wd,{className:"h-6 w-6 mx-auto mb-1"}),a.jsx("div",{className:"text-sm",children:"Double"})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:r,className:"w-full",children:a.jsx(Vd,{className:"h-4 w-4"})}),a.jsx(X,{variant:"destructive",size:"sm",onClick:()=>s(!0),className:"w-full",children:a.jsx(z_,{className:"h-4 w-4"})})]}),a.jsx(XE,{isOpen:o,onClose:()=>s(!1)})]})},qE=({targetScore:e,player1Score:t,player2Score:n,isCrawfordGame:r,player1Name:o,player2Name:s})=>a.jsxs(Y,{children:[a.jsx(ke,{className:"pb-3",children:a.jsxs(Ne,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ii,{className:"h-4 w-4"}),"Match to ",e]})}),a.jsxs(q,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:o}),a.jsx(_e,{variant:"outline",className:"font-mono",children:t})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:s}),a.jsx(_e,{variant:"outline",className:"font-mono",children:n})]}),r&&a.jsx(_e,{variant:"secondary",className:"w-full justify-center",children:"Crawford Game"})]})]}),JE=()=>{const{gameId:e}=ki(),t=br(),{invoke:n}=ct(),{currentGameState:r,isSpectator:o,setCurrentGameId:s,resetGame:i}=Po(),[l,c]=u.useState(!0),[d,p]=u.useState(null);u.useEffect(()=>{(async()=>{if(!e){t("/");return}if(d===e){console.log("[GamePage] Already joined game:",e);return}console.log("[GamePage] New game detected, resetting state"),i(),s(e),c(!0),p(e);try{const v=Ye.getOrCreatePlayerId();console.log("[GamePage] Joining game:",e),await n(jt.JoinGame,v,e),c(!1)}catch(v){console.error("[GamePage] Failed to join game:",v),c(!1)}})()},[e,t,s,n,i,d]);const f=async()=>{try{console.log("[GamePage] Leaving game:",e),await n(jt.LeaveGame),i(),p(null),t("/")}catch(w){console.error("[GamePage] Failed to leave game:",w),i(),p(null),t("/")}};if(l)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(Y,{children:a.jsx(q,{className:"p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold mb-2",children:"Loading game..."}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Game ID: ",e]})]})})})});if(!r)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(Y,{children:a.jsx(q,{className:"p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold mb-2",children:"Waiting for game data..."}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Game ID: ",e]})]})})})});const h={playerName:r.whitePlayerName||"White",username:r.whiteUsername,color:Le.White,isYourTurn:r.currentPlayer===Le.White,isYou:r.yourColor===Le.White,checkersOnBar:r.whiteCheckersOnBar,bornOff:r.whiteBornOff},y={playerName:r.redPlayerName||"Red",username:r.redUsername,color:Le.Red,isYourTurn:r.currentPlayer===Le.Red,isYou:r.yourColor===Le.Red,checkersOnBar:r.redCheckersOnBar,bornOff:r.redBornOff};return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsx("div",{className:"max-w-[1920px] mx-auto px-2 py-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx(X,{variant:"outline",onClick:f,className:"bg-white/10 hover:bg-white/20",children:" Leave Game"})}),o&&a.jsxs(_e,{variant:"secondary",className:"w-full justify-center py-2",children:[a.jsx(F_,{className:"h-4 w-4 mr-2"}),"Spectating"]}),a.jsx(Kd,{...h}),r.isMatchGame&&r.targetScore&&r.player1Score!==void 0&&r.player2Score!==void 0&&a.jsx(qE,{targetScore:r.targetScore,player1Score:r.player1Score,player2Score:r.player2Score,isCrawfordGame:r.isCrawfordGame??!1,player1Name:r.whitePlayerName,player2Name:r.redPlayerName}),a.jsx(Kd,{...y}),r.doublingCubeValue>1&&a.jsx(Y,{children:a.jsxs(q,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Stakes"}),a.jsxs("div",{className:"text-3xl font-bold text-yellow-500",children:[r.doublingCubeValue,"x"]}),r.doublingCubeOwner!==null&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Owned by"," ",r.doublingCubeOwner===Le.White?"White":"Red"]})]})}),a.jsx(QE,{gameState:r,isSpectator:o})]}),a.jsx("div",{children:a.jsx(Y,{children:a.jsxs(q,{className:"p-2",children:[r.isAnalysisMode&&a.jsxs(_e,{variant:"secondary",className:"mb-4",children:[a.jsx(_m,{className:"h-4 w-4 mr-2"}),"Analysis Mode"]}),a.jsx(YE,{gameState:r}),r.dice&&r.dice.length>0&&r.dice.some(w=>w>0)&&a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("div",{className:"inline-flex gap-2 bg-white/10 p-3 rounded-lg",children:r.dice.map((w,v)=>a.jsx("div",{className:"w-12 h-12 bg-white rounded flex items-center justify-center text-2xl font-bold text-gray-800 shadow-lg",children:w},v))}),r.remainingMoves&&a.jsxs("div",{className:"text-sm text-white/70 mt-2",children:[r.remainingMoves.length," moves remaining"]})]})]})})})]})})})};function ZE(e,t=[]){let n=[];function r(s,i){const l=u.createContext(i),c=n.length;n=[...n,i];const d=f=>{var m;const{scope:h,children:y,...w}=f,v=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,S=u.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:S,children:y})};d.displayName=s+"Provider";function p(f,h){var v;const y=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=u.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,p]}const o=()=>{const s=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,eb(o,...t)]}function eb(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function tb(e){const t=nb(e),n=u.forwardRef((r,o)=>{const{children:s,...i}=r,l=u.Children.toArray(s),c=l.find(ob);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function nb(e){const t=u.forwardRef((n,r)=>{const{children:o,...s}=n;if(u.isValidElement(o)){const i=ib(o),l=sb(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rb=Symbol("radix.slottable");function ob(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rb}function sb(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function ib(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fi=lb.reduce((e,t)=>{const n=tb(`Primitive.${t}`),r=u.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),zi="Tabs",[ab]=ZE(zi,[Li]),tg=Li(),[cb,Vc]=ab(zi),ng=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,p=Uc(l),[f,h]=To({prop:r,onChange:o,defaultProp:s??"",caller:zi});return a.jsx(cb,{scope:n,baseId:Jr(),value:f,onValueChange:h,orientation:i,dir:p,activationMode:c,children:a.jsx(Fi.div,{dir:p,"data-orientation":i,...d,ref:t})})});ng.displayName=zi;var rg="TabsList",og=u.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,s=Vc(rg,n),i=tg(n);return a.jsx($m,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(Fi.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});og.displayName=rg;var sg="TabsTrigger",ig=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...s}=e,i=Vc(sg,n),l=tg(n),c=cg(i.baseId,r),d=ug(i.baseId,r),p=r===i.value;return a.jsx(Fm,{asChild:!0,...l,focusable:!o,active:p,children:a.jsx(Fi.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":d,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...s,ref:t,onMouseDown:Q(e.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Q(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Q(e.onFocus,()=>{const f=i.activationMode!=="manual";!p&&!o&&f&&i.onValueChange(r)})})})});ig.displayName=sg;var lg="TabsContent",ag=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:s,...i}=e,l=Vc(lg,n),c=cg(l.baseId,r),d=ug(l.baseId,r),p=r===l.value,f=u.useRef(p);return u.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Fn,{present:o||p,children:({present:h})=>a.jsx(Fi.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});ag.displayName=lg;function cg(e,t){return`${e}-trigger-${t}`}function ug(e,t){return`${e}-content-${t}`}var ub=ng,dg=og,fg=ig,pg=ag;const db=ub,hg=u.forwardRef(({className:e,...t},n)=>a.jsx(dg,{ref:n,className:B("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));hg.displayName=dg.displayName;const Ns=u.forwardRef(({className:e,...t},n)=>a.jsx(fg,{ref:n,className:B("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ns.displayName=fg.displayName;const js=u.forwardRef(({className:e,...t},n)=>a.jsx(pg,{ref:n,className:B("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));js.displayName=pg.displayName;function fb(e,t=[]){let n=[];function r(s,i){const l=u.createContext(i);l.displayName=s+"Context";const c=n.length;n=[...n,i];const d=f=>{var m;const{scope:h,children:y,...w}=f,v=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,S=u.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:S,children:y})};d.displayName=s+"Provider";function p(f,h){var v;const y=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=u.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,p]}const o=()=>{const s=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,pb(o,...t)]}function pb(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function hb(){return Rh.useSyncExternalStore(mb,()=>!0,()=>!1)}function mb(){return()=>{}}var Hc="Avatar",[gb]=fb(Hc),[vb,mg]=gb(Hc),gg=u.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=u.useState("idle");return a.jsx(vb,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:a.jsx(Lo.span,{...r,ref:t})})});gg.displayName=Hc;var vg="AvatarImage",yg=u.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=mg(vg,n),l=yb(r,s),c=St(d=>{o(d),i.onImageLoadingStatusChange(d)});return Tt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(Lo.img,{...s,ref:t,src:r}):null});yg.displayName=vg;var xg="AvatarFallback",wg=u.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=mg(xg,n),[i,l]=u.useState(r===void 0);return u.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&s.imageLoadingStatus!=="loaded"?a.jsx(Lo.span,{...o,ref:t}):null});wg.displayName=xg;function Yd(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yb(e,{referrerPolicy:t,crossOrigin:n}){const r=hb(),o=u.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[i,l]=u.useState(()=>Yd(s,e));return Tt(()=>{l(Yd(s,e))},[s,e]),Tt(()=>{const c=f=>()=>{l(f)};if(!s)return;const d=c("loaded"),p=c("error");return s.addEventListener("load",d),s.addEventListener("error",p),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",d),s.removeEventListener("error",p)}},[s,n,t]),i}var Sg=gg,Cg=yg,_g=wg;const oi=u.forwardRef(({className:e,...t},n)=>a.jsx(Sg,{ref:n,className:B("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));oi.displayName=Sg.displayName;const xb=u.forwardRef(({className:e,...t},n)=>a.jsx(Cg,{ref:n,className:B("aspect-square h-full w-full",e),...t}));xb.displayName=Cg.displayName;const si=u.forwardRef(({className:e,...t},n)=>a.jsx(_g,{ref:n,className:B("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));si.displayName=_g.displayName;var wb="Separator",Xd="horizontal",Sb=["horizontal","vertical"],Eg=u.forwardRef((e,t)=>{const{decorative:n,orientation:r=Xd,...o}=e,s=Cb(r)?r:Xd,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Lo.div,{"data-orientation":s,...l,...o,ref:t})});Eg.displayName=wb;function Cb(e){return Sb.includes(e)}var bg=Eg;const Co=u.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>a.jsx(bg,{ref:o,decorative:n,orientation:t,className:B("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Co.displayName=bg.displayName;const _b=1,Eb=1e6;let Pl=0;function bb(){return Pl=(Pl+1)%Number.MAX_SAFE_INTEGER,Pl.toString()}const Rl=new Map,Qd=e=>{if(Rl.has(e))return;const t=setTimeout(()=>{Rl.delete(e),Zr({type:"REMOVE_TOAST",toastId:e})},Eb);Rl.set(e,t)},kb=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_b)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Qd(n):e.toasts.forEach(r=>{Qd(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ps=[];let Rs={toasts:[]};function Zr(e){Rs=kb(Rs,e),Ps.forEach(t=>{t(Rs)})}function Nb({...e}){const t=bb(),n=o=>Zr({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Zr({type:"DISMISS_TOAST",toastId:t});return Zr({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Fo(){const[e,t]=u.useState(Rs);return u.useEffect(()=>(Ps.push(t),()=>{const n=Ps.indexOf(t);n>-1&&Ps.splice(n,1)}),[e]),{...e,toast:Nb,dismiss:n=>Zr({type:"DISMISS_TOAST",toastId:n})}}const jb=()=>{const{username:e}=ki(),t=br(),{invoke:n,isConnected:r}=ct(),{toast:o}=Fo(),[s,i]=u.useState(null),[l,c]=u.useState(!0),[d,p]=u.useState("overview");u.useEffect(()=>{if(!e){t("/");return}f()},[e,r]);const f=async()=>{if(!(!r||!e)){c(!0);try{const w=await n("GetPlayerProfile",e);w?i(w):(o({title:"Profile not found",description:`User ${e} does not exist`,variant:"destructive"}),t("/"))}catch(w){console.error("Failed to load profile:",w),o({title:"Error",description:"Failed to load profile",variant:"destructive"})}finally{c(!1)}}};if(l)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(Y,{children:a.jsx(q,{className:"p-8",children:a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"text-lg font-semibold",children:"Loading profile..."})})})})});if(!s)return null;const h=new Date(s.createdAt).toLocaleDateString(),y=s.displayName.charAt(0).toUpperCase();return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsx(X,{variant:"outline",onClick:()=>t("/"),className:"mb-6",children:" Back to Home"}),a.jsx(Y,{className:"mb-6",children:a.jsx(q,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx(oi,{className:"h-24 w-24",children:a.jsx(si,{className:"text-3xl",children:y})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:s.displayName}),s.isPrivate&&a.jsxs(_e,{variant:"secondary",children:[a.jsx(B_,{className:"h-3 w-3 mr-1"}),"Private"]})]}),a.jsxs("p",{className:"text-muted-foreground mb-2",children:["@",s.username]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(O_,{className:"h-4 w-4"}),a.jsxs("span",{children:["Joined ",h]})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs(Y,{children:[a.jsx(ke,{className:"pb-3",children:a.jsx(Ne,{className:"text-sm font-medium text-muted-foreground",children:"Games Played"})}),a.jsxs(q,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s.statistics.totalGamesPlayed}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.statistics.wins,"W - ",s.statistics.losses,"L"]})]})]}),a.jsxs(Y,{children:[a.jsx(ke,{className:"pb-3",children:a.jsx(Ne,{className:"text-sm font-medium text-muted-foreground",children:"Win Rate"})}),a.jsxs(q,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[(s.statistics.winRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx(bm,{className:"h-3 w-3 inline mr-1"}),"Single games"]})]})]}),a.jsxs(Y,{children:[a.jsx(ke,{className:"pb-3",children:a.jsx(Ne,{className:"text-sm font-medium text-muted-foreground",children:"Matches Won"})}),a.jsxs(q,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s.statistics.matchWins}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.statistics.totalMatchesPlayed," total matches"]})]})]}),a.jsxs(Y,{children:[a.jsx(ke,{className:"pb-3",children:a.jsx(Ne,{className:"text-sm font-medium text-muted-foreground",children:"Match Win Rate"})}),a.jsxs(q,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[(s.statistics.matchWinRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx(Ii,{className:"h-3 w-3 inline mr-1"}),"Multi-game matches"]})]})]})]}),a.jsxs(db,{value:d,onValueChange:p,children:[a.jsxs(hg,{className:"grid w-full grid-cols-3",children:[a.jsx(Ns,{value:"overview",children:"Overview"}),a.jsx(Ns,{value:"games",children:"Recent Games"}),a.jsx(Ns,{value:"stats",children:"Statistics"})]}),a.jsx(js,{value:"overview",className:"mt-6",children:a.jsxs(Y,{children:[a.jsxs(ke,{children:[a.jsx(Ne,{children:"Profile Overview"}),a.jsx(un,{children:"Performance summary and recent activity"})]}),a.jsx(q,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Career Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded-lg",children:[a.jsx("span",{className:"text-sm",children:"Total Games:"}),a.jsx("span",{className:"font-semibold",children:s.statistics.totalGamesPlayed})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded-lg",children:[a.jsx("span",{className:"text-sm",children:"Total Matches:"}),a.jsx("span",{className:"font-semibold",children:s.statistics.totalMatchesPlayed})]})]})]})})})]})}),a.jsx(js,{value:"games",className:"mt-6",children:a.jsxs(Y,{children:[a.jsxs(ke,{children:[a.jsx(Ne,{children:"Recent Games"}),a.jsx(un,{children:"Last 10 games played"})]}),a.jsx(q,{children:s.recentGames&&s.recentGames.length>0?a.jsx("div",{className:"space-y-2",children:s.recentGames.map((w,v)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-muted transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(_e,{variant:w.result==="won"?"default":"secondary",children:w.result==="won"?"Won":"Lost"}),a.jsxs("span",{className:"font-medium",children:["vs ",w.opponentName]}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["+",w.pointsScored," pts"]})]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(w.datePlayed).toLocaleDateString()})]}),v<s.recentGames.length-1&&a.jsx(Co,{})]},w.gameId||v))}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent games"})})]})}),a.jsx(js,{value:"stats",className:"mt-6",children:a.jsxs(Y,{children:[a.jsxs(ke,{children:[a.jsx(Ne,{children:"Detailed Statistics"}),a.jsx(un,{children:"Complete performance breakdown"})]}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Single Game Performance"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between p-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Games:"}),a.jsx("span",{className:"font-medium",children:s.statistics.totalGamesPlayed})]}),a.jsxs("div",{className:"flex justify-between p-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Wins:"}),a.jsx("span",{className:"font-medium text-green-600",children:s.statistics.wins})]}),a.jsxs("div",{className:"flex justify-between p-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Losses:"}),a.jsx("span",{className:"font-medium text-red-600",children:s.statistics.losses})]}),a.jsxs("div",{className:"flex justify-between p-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Win Rate:"}),a.jsxs("span",{className:"font-medium",children:[(s.statistics.winRate*100).toFixed(1),"%"]})]})]})]}),a.jsx(Co,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Match Performance"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between p-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Matches:"}),a.jsx("span",{className:"font-medium",children:s.statistics.totalMatchesPlayed})]}),a.jsxs("div",{className:"flex justify-between p-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Match Wins:"}),a.jsx("span",{className:"font-medium text-green-600",children:s.statistics.matchWins})]}),a.jsxs("div",{className:"flex justify-between p-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Match Losses:"}),a.jsx("span",{className:"font-medium text-red-600",children:s.statistics.matchLosses})]}),a.jsxs("div",{className:"flex justify-between p-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Match Win Rate:"}),a.jsxs("span",{className:"font-medium",children:[(s.statistics.matchWinRate*100).toFixed(1),"%"]})]})]})]})]})})]})})]})]})})},Pb=Ih(e=>({currentMatchId:null,setCurrentMatchId:t=>e({currentMatchId:t})})),Rb=()=>{var g;const{matchId:e}=ki(),t=br(),{invoke:n,isConnected:r,connection:o}=ct(),{toast:s}=Fo(),{setCurrentMatchId:i}=Pb(),[l,c]=u.useState(null),[d,p]=u.useState(!0),[f,h]=u.useState(!1);u.useEffect(()=>{if(!e){t("/");return}return w(),y(),()=>{o==null||o.off("MatchLobbyUpdate"),o==null||o.off("MatchStarted")}},[e,r]);const y=()=>{o&&(o.on("MatchLobbyUpdate",x=>{console.log("[MatchLobby] Lobby updated:",x),c(x)}),o.on("MatchStarted",x=>{console.log("[MatchLobby] Match started:",x),i(x.matchId),s({title:"Match starting!",description:"Navigating to game..."}),t(`/game/${x.gameId}`)}))},w=async()=>{if(!(!r||!e)){p(!0);try{const x=Ye.getDisplayName()||"Guest";await n("JoinMatchLobby",e,x)}catch(x){console.error("[MatchLobby] Failed to join lobby:",x),s({title:"Error",description:"Failed to join match lobby",variant:"destructive"}),t("/")}finally{p(!1)}}},v=async()=>{if(e)try{await n("StartMatchFromLobby",e)}catch(x){console.error("[MatchLobby] Failed to start match:",x),s({title:"Error",description:"Failed to start match",variant:"destructive"})}},S=async()=>{try{e&&await n("LeaveMatchLobby",e),t("/")}catch(x){console.error("[MatchLobby] Failed to leave lobby:",x),t("/")}};if(u.useEffect(()=>{if(l){const x=Ye.getOrCreatePlayerId();h(l.player1Id===x)}},[l]),d)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(Y,{children:a.jsx(q,{className:"p-8",children:a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"text-lg font-semibold",children:"Joining lobby..."})})})})});if(!l)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(Y,{children:a.jsx(q,{className:"p-8",children:a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"text-lg font-semibold",children:"Waiting for lobby data..."})})})})});const m=f&&l.player2Id!==null&&l.lobbyStatus==="Ready";return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsx(X,{variant:"outline",onClick:S,className:"mb-6",children:" Leave Lobby"}),a.jsx(Y,{className:"mb-6",children:a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ne,{className:"text-3xl mb-2",children:"Match Lobby"}),a.jsx(un,{children:"Waiting for players to join"})]}),a.jsx(_e,{variant:l.lobbyStatus==="Ready"?"default":"secondary",className:"text-lg px-4 py-2",children:l.lobbyStatus==="Ready"?a.jsxs(a.Fragment,{children:[a.jsx(Bd,{className:"h-4 w-4 mr-2"}),"Ready to Start"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Waiting"]})})]})})}),a.jsxs(Y,{className:"mb-6",children:[a.jsx(ke,{children:a.jsx(Ne,{children:"Match Settings"})}),a.jsx(q,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[a.jsx(Ii,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Target Score"}),a.jsx("div",{className:"text-2xl font-bold",children:l.targetScore})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[a.jsx(Em,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Opponent Type"}),a.jsx("div",{className:"text-2xl font-bold",children:l.opponentType})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[a.jsx(Hd,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Lobby Type"}),a.jsx("div",{className:"text-2xl font-bold",children:l.isOpenLobby?"Open":"Private"})]})]})]})})]}),a.jsxs(Y,{children:[a.jsxs(ke,{children:[a.jsx(Ne,{children:"Players"}),a.jsx(un,{children:"2 players needed to start"})]}),a.jsxs(q,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(oi,{className:"h-12 w-12",children:a.jsx(si,{children:l.player1Name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:l.player1Name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Player 1"})]})]}),a.jsx(_e,{children:"Host"})]}),a.jsx(Co,{}),l.player2Id?a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(oi,{className:"h-12 w-12",children:a.jsx(si,{children:((g=l.player2Name)==null?void 0:g.charAt(0).toUpperCase())||"?"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:l.player2Name||"Unknown"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Player 2"})]})]}),a.jsx(_e,{variant:"secondary",children:"Ready"})]}):a.jsx("div",{className:"flex items-center justify-center p-8 border-2 border-dashed rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Hd,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),a.jsx("div",{className:"font-semibold text-muted-foreground",children:"Waiting for opponent..."}),l.opponentType==="AI"&&a.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"AI opponent will join automatically"})]})})]}),f&&a.jsxs("div",{className:"mt-6",children:[a.jsx(X,{onClick:v,disabled:!m,className:"w-full",size:"lg",children:m?a.jsxs(a.Fragment,{children:[a.jsx(Bd,{className:"h-5 w-5 mr-2"}),"Start Match"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ra,{className:"h-5 w-5 mr-2"}),"Waiting for opponent..."]})}),!m&&l.player2Id&&a.jsx("p",{className:"text-sm text-muted-foreground text-center mt-2",children:"Waiting for all players to be ready"})]}),!f&&a.jsx("div",{className:"mt-6",children:a.jsx("div",{className:"p-4 bg-muted rounded-lg text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Waiting for host to start the match..."})})})]})]}),a.jsx(Y,{className:"mt-6",children:a.jsx(q,{className:"p-4",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Match ID:"})," ",l.matchId]}),a.jsxs("p",{className:"mt-1",children:[a.jsx("strong",{children:"Created:"})," ",new Date(l.createdAt).toLocaleString()]})]})})})]})})},Tb=()=>{const{matchId:e}=ki(),t=br(),{invoke:n,isConnected:r}=ct(),{toast:o}=Fo(),[s,i]=u.useState(null),[l,c]=u.useState(!0);u.useEffect(()=>{if(!e){t("/");return}d()},[e,r]);const d=async()=>{if(!(!r||!e)){c(!0);try{const h=await n("GetMatchResults",e);h?i(h):(o({title:"Match not found",description:"Unable to load match results",variant:"destructive"}),t("/"))}catch(h){console.error("[MatchResults] Failed to load match results:",h),o({title:"Error",description:"Failed to load match results",variant:"destructive"})}finally{c(!1)}}},p=h=>{const y=Math.floor(h/3600),w=Math.floor(h%3600/60);return y>0?`${y}h ${w}m`:`${w}m`};if(l)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(Y,{children:a.jsx(q,{className:"p-8",children:a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"text-lg font-semibold",children:"Loading results..."})})})})});if(!s)return null;const f=s.winnerId===s.player1Id;return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[a.jsxs(X,{variant:"outline",onClick:()=>t("/"),className:"mb-6",children:[a.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsx(Y,{className:"mb-6 border-2 border-primary",children:a.jsx(q,{className:"p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ii,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),a.jsxs("h1",{className:"text-4xl font-bold mb-2",children:[s.winnerName," Wins!"]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:["Match to ",s.targetScore," points"]})]})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs(Y,{className:f?"border-2 border-primary":"",children:[a.jsx(ke,{children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:s.player1Name}),f&&a.jsx(zd,{className:"h-5 w-5 text-primary"})]})}),a.jsxs(q,{children:[a.jsx("div",{className:"text-5xl font-bold text-center",children:s.player1Score}),a.jsx("p",{className:"text-center text-muted-foreground mt-2",children:f?"Winner":"Runner-up"})]})]}),a.jsxs(Y,{className:f?"":"border-2 border-primary",children:[a.jsx(ke,{children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:s.player2Name}),!f&&a.jsx(zd,{className:"h-5 w-5 text-primary"})]})}),a.jsxs(q,{children:[a.jsx("div",{className:"text-5xl font-bold text-center",children:s.player2Score}),a.jsx("p",{className:"text-center text-muted-foreground mt-2",children:f?"Runner-up":"Winner"})]})]})]}),a.jsxs(Y,{className:"mb-6",children:[a.jsxs(ke,{children:[a.jsx(Ne,{children:"Match Statistics"}),a.jsx(un,{children:"Overall performance summary"})]}),a.jsx(q,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[a.jsx(Em,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Games Played"}),a.jsx("div",{className:"text-2xl font-bold",children:s.totalGamesPlayed})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[a.jsx(Ra,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"}),a.jsx("div",{className:"text-2xl font-bold",children:p(s.duration)})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[a.jsx(bm,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Crawford Game"}),a.jsx("div",{className:"text-2xl font-bold",children:s.hasCrawfordGameBeenPlayed?"Yes":"No"})]})]})]})})]}),s.games&&s.games.length>0&&a.jsxs(Y,{children:[a.jsxs(ke,{children:[a.jsx(Ne,{children:"Game-by-Game Results"}),a.jsx(un,{children:"Detailed breakdown of each game"})]}),a.jsx(q,{children:a.jsx("div",{className:"space-y-2",children:s.games.map((h,y)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg hover:bg-muted transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(_e,{variant:"outline",className:"w-20 justify-center",children:["Game ",h.gameNumber]}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold",children:[h.winnerName," won"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.winType,"  +",h.pointsScored," pts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:p(h.duration)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(h.timestamp).toLocaleTimeString()})]})]}),y<s.games.length-1&&a.jsx(Co,{})]},y))})})]}),a.jsx(Y,{className:"mt-6",children:a.jsx(q,{className:"p-4",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Match ID:"})," ",s.matchId]}),a.jsxs("p",{className:"mt-1",children:[a.jsx("strong",{children:"Started:"})," ",new Date(s.startedAt).toLocaleString()]}),a.jsxs("p",{className:"mt-1",children:[a.jsx("strong",{children:"Completed:"})," ",new Date(s.completedAt).toLocaleString()]})]})})}),a.jsxs("div",{className:"mt-6 flex gap-4",children:[a.jsxs(X,{onClick:()=>t("/"),className:"flex-1",children:[a.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Return to Home"]}),a.jsx(X,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"View Again"})]})]})})};function Ib(e,t=[]){let n=[];function r(s,i){const l=u.createContext(i),c=n.length;n=[...n,i];const d=f=>{var m;const{scope:h,children:y,...w}=f,v=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,S=u.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:S,children:y})};d.displayName=s+"Provider";function p(f,h){var v;const y=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=u.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,p]}const o=()=>{const s=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,Mb(o,...t)]}function Mb(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Ab(e){const t=Db(e),n=u.forwardRef((r,o)=>{const{children:s,...i}=r,l=u.Children.toArray(s),c=l.find(Lb);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function Db(e){const t=u.forwardRef((n,r)=>{const{children:o,...s}=n;if(u.isValidElement(o)){const i=Fb(o),l=$b(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ob=Symbol("radix.slottable");function Lb(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ob}function $b(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function Fb(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nr=zb.reduce((e,t)=>{const n=Ab(`Primitive.${t}`),r=u.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Wb(e,t){e&&jo.flushSync(()=>e.dispatchEvent(t))}function Ub(e){const t=Bb(e),n=u.forwardRef((r,o)=>{const{children:s,...i}=r,l=u.Children.toArray(s),c=l.find(Hb);if(c){const d=c.props.children,p=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function Bb(e){const t=u.forwardRef((n,r)=>{const{children:o,...s}=n;if(u.isValidElement(o)){const i=Kb(o),l=Gb(s,o.props);return o.type!==u.Fragment&&(l.ref=r?ut(r,i):i),u.cloneElement(o,l)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vb=Symbol("radix.slottable");function Hb(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vb}function Gb(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function Kb(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Yb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xb=Yb.reduce((e,t)=>{const n=Ub(`Primitive.${t}`),r=u.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Qb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qb="VisuallyHidden",Gc=u.forwardRef((e,t)=>a.jsx(Xb.span,{...e,ref:t,style:{...Qb,...e.style}}));Gc.displayName=qb;var Kc="ToastProvider",[Yc,Jb,Zb]=Tm("Toast"),[kg]=Ib("Toast",[Zb]),[e1,Wi]=kg(Kc),Ng=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[l,c]=u.useState(null),[d,p]=u.useState(0),f=u.useRef(!1),h=u.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kc}\`. Expected non-empty \`string\`.`),a.jsx(Yc.Provider,{scope:t,children:a.jsx(e1,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>p(y=>y+1),[]),onToastRemove:u.useCallback(()=>p(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};Ng.displayName=Kc;var jg="ToastViewport",t1=["F8"],Ia="toast.viewportPause",Ma="toast.viewportResume",Pg=u.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=t1,label:o="Notifications ({hotkey})",...s}=e,i=Wi(jg,n),l=Jb(n),c=u.useRef(null),d=u.useRef(null),p=u.useRef(null),f=u.useRef(null),h=Fe(t,f,i.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;u.useEffect(()=>{const S=m=>{var x;r.length!==0&&r.every(C=>m[C]||m.code===C)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),u.useEffect(()=>{const S=c.current,m=f.current;if(w&&S&&m){const g=()=>{if(!i.isClosePausedRef.current){const b=new CustomEvent(Ia);m.dispatchEvent(b),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const b=new CustomEvent(Ma);m.dispatchEvent(b),i.isClosePausedRef.current=!1}},C=b=>{!S.contains(b.relatedTarget)&&x()},N=()=>{S.contains(document.activeElement)||x()};return S.addEventListener("focusin",g),S.addEventListener("focusout",C),S.addEventListener("pointermove",g),S.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{S.removeEventListener("focusin",g),S.removeEventListener("focusout",C),S.removeEventListener("pointermove",g),S.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[w,i.isClosePausedRef]);const v=u.useCallback(({tabbingDirection:S})=>{const g=l().map(x=>{const C=x.ref.current,N=[C,...h1(C)];return S==="forwards"?N:N.reverse()});return(S==="forwards"?g.reverse():g).flat()},[l]);return u.useEffect(()=>{const S=f.current;if(S){const m=g=>{var N,b,_;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const E=document.activeElement,I=g.shiftKey;if(g.target===S&&I){(N=d.current)==null||N.focus();return}const T=v({tabbingDirection:I?"backwards":"forwards"}),H=T.findIndex(D=>D===E);Tl(T.slice(H+1))?g.preventDefault():I?(b=d.current)==null||b.focus():(_=p.current)==null||_.focus()}};return S.addEventListener("keydown",m),()=>S.removeEventListener("keydown",m)}},[l,v]),a.jsxs(Z0,{ref:c,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(Aa,{ref:d,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"forwards"});Tl(S)}}),a.jsx(Yc.Slot,{scope:n,children:a.jsx(Nr.ol,{tabIndex:-1,...s,ref:h})}),w&&a.jsx(Aa,{ref:p,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"backwards"});Tl(S)}})]})});Pg.displayName=jg;var Rg="ToastFocusProxy",Aa=u.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Wi(Rg,n);return a.jsx(Gc,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=s.viewport)!=null&&d.contains(l))&&r()}})});Aa.displayName=Rg;var zo="Toast",n1="toast.swipeStart",r1="toast.swipeMove",o1="toast.swipeCancel",s1="toast.swipeEnd",Tg=u.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[l,c]=To({prop:r,defaultProp:o??!0,onChange:s,caller:zo});return a.jsx(Fn,{present:n||l,children:a.jsx(a1,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:St(e.onPause),onResume:St(e.onResume),onSwipeStart:Q(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,d=>{const{x:p,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Q(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,d=>{const{x:p,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Tg.displayName=zo;var[i1,l1]=kg(zo,{onClose(){}}),a1=u.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:p,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:y,...w}=e,v=Wi(zo,n),[S,m]=u.useState(null),g=Fe(t,D=>m(D)),x=u.useRef(null),C=u.useRef(null),N=o||v.duration,b=u.useRef(0),_=u.useRef(N),E=u.useRef(0),{onToastAdd:I,onToastRemove:j}=v,M=St(()=>{var K;(S==null?void 0:S.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),i()}),T=u.useCallback(D=>{!D||D===1/0||(window.clearTimeout(E.current),b.current=new Date().getTime(),E.current=window.setTimeout(M,D))},[M]);u.useEffect(()=>{const D=v.viewport;if(D){const K=()=>{T(_.current),d==null||d()},G=()=>{const ee=new Date().getTime()-b.current;_.current=_.current-ee,window.clearTimeout(E.current),c==null||c()};return D.addEventListener(Ia,G),D.addEventListener(Ma,K),()=>{D.removeEventListener(Ia,G),D.removeEventListener(Ma,K)}}},[v.viewport,N,c,d,T]),u.useEffect(()=>{s&&!v.isClosePausedRef.current&&T(N)},[s,N,v.isClosePausedRef,T]),u.useEffect(()=>(I(),()=>j()),[I,j]);const H=u.useMemo(()=>S?$g(S):null,[S]);return v.viewport?a.jsxs(a.Fragment,{children:[H&&a.jsx(c1,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:H}),a.jsx(i1,{scope:n,onClose:M,children:jo.createPortal(a.jsx(Yc.ItemSlot,{scope:n,children:a.jsx(J0,{asChild:!0,onEscapeKeyDown:Q(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Nr.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Q(e.onPointerDown,D=>{D.button===0&&(x.current={x:D.clientX,y:D.clientY})}),onPointerMove:Q(e.onPointerMove,D=>{if(!x.current)return;const K=D.clientX-x.current.x,G=D.clientY-x.current.y,ee=!!C.current,R=["left","right"].includes(v.swipeDirection),O=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,$=R?O(0,K):0,F=R?0:O(0,G),ne=D.pointerType==="touch"?10:2,dt={x:$,y:F},_t={originalEvent:D,delta:dt};ee?(C.current=dt,fs(r1,f,_t,{discrete:!1})):qd(dt,v.swipeDirection,ne)?(C.current=dt,fs(n1,p,_t,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(K)>ne||Math.abs(G)>ne)&&(x.current=null)}),onPointerUp:Q(e.onPointerUp,D=>{const K=C.current,G=D.target;if(G.hasPointerCapture(D.pointerId)&&G.releasePointerCapture(D.pointerId),C.current=null,x.current=null,K){const ee=D.currentTarget,R={originalEvent:D,delta:K};qd(K,v.swipeDirection,v.swipeThreshold)?fs(s1,y,R,{discrete:!0}):fs(o1,h,R,{discrete:!0}),ee.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),c1=e=>{const{__scopeToast:t,children:n,...r}=e,o=Wi(zo,t),[s,i]=u.useState(!1),[l,c]=u.useState(!1);return f1(()=>i(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Lc,{asChild:!0,children:a.jsx(Gc,{...r,children:s&&a.jsxs(a.Fragment,{children:[o.label," ",n]})})})},u1="ToastTitle",Ig=u.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(Nr.div,{...r,ref:t})});Ig.displayName=u1;var d1="ToastDescription",Mg=u.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(Nr.div,{...r,ref:t})});Mg.displayName=d1;var Ag="ToastAction",Dg=u.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(Lg,{altText:n,asChild:!0,children:a.jsx(Xc,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ag}\`. Expected non-empty \`string\`.`),null)});Dg.displayName=Ag;var Og="ToastClose",Xc=u.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=l1(Og,n);return a.jsx(Lg,{asChild:!0,children:a.jsx(Nr.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,o.onClose)})})});Xc.displayName=Og;var Lg=u.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return a.jsx(Nr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function $g(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),p1(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...$g(r))}}),t}function fs(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Wb(o,s):o.dispatchEvent(s)}var qd=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function f1(e=()=>{}){const t=St(e);Tt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function p1(e){return e.nodeType===e.ELEMENT_NODE}function h1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Tl(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var m1=Ng,Fg=Pg,zg=Tg,Wg=Ig,Ug=Mg,Bg=Dg,Vg=Xc;const g1=m1,Hg=u.forwardRef(({className:e,...t},n)=>a.jsx(Fg,{ref:n,className:B("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Hg.displayName=Fg.displayName;const v1=Ro("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Gg=u.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(zg,{ref:r,className:B(v1({variant:t}),e),...n}));Gg.displayName=zg.displayName;const y1=u.forwardRef(({className:e,...t},n)=>a.jsx(Bg,{ref:n,className:B("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));y1.displayName=Bg.displayName;const Kg=u.forwardRef(({className:e,...t},n)=>a.jsx(Vg,{ref:n,className:B("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(km,{className:"h-4 w-4"})}));Kg.displayName=Vg.displayName;const Yg=u.forwardRef(({className:e,...t},n)=>a.jsx(Wg,{ref:n,className:B("text-sm font-semibold",e),...t}));Yg.displayName=Wg.displayName;const Xg=u.forwardRef(({className:e,...t},n)=>a.jsx(Ug,{ref:n,className:B("text-sm opacity-90",e),...t}));Xg.displayName=Ug.displayName;function x1(){const{toasts:e}=Fo();return a.jsxs(g1,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return a.jsxs(Gg,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(Yg,{children:n}),r&&a.jsx(Xg,{children:r})]}),o,a.jsx(Kg,{})]},t)}),a.jsx(Hg,{})]})}function w1(){return OS(),null}function S1(){const[e,t]=u.useState(!1),[n,r]=u.useState(!1),[o,s]=u.useState(!1),{invoke:i,isConnected:l}=ct(),{toast:c}=Fo();u.useEffect(()=>{Mt.init()},[]);const d=()=>{t(!0)},p=()=>{r(!0)},f=()=>{t(!1),r(!0)},h=()=>{r(!1),t(!0)},[y,w]=u.useState("AI"),v=()=>{if(!l){c({title:"Not connected",description:"Please wait for connection to server...",variant:"destructive"});return}w("OpenLobby"),s(!0)},S=()=>{if(!l){c({title:"Not connected",description:"Please wait for connection to server...",variant:"destructive"});return}w("AI"),s(!0)},m=async()=>{if(!l){c({title:"Not connected",description:"Please wait for connection to server...",variant:"destructive"});return}try{await i(jt.CreateAnalysisGame)}catch(g){console.error("Failed to create analysis game:",g),c({title:"Error",description:"Failed to create analysis game. Please try again.",variant:"destructive"})}};return a.jsxs(a.Fragment,{children:[a.jsx(w1,{}),a.jsx(j0,{onLoginClick:d,onSignupClick:p,children:a.jsxs(vw,{children:[a.jsx(Hn,{path:"/",element:a.jsx("div",{className:"min-h-screen bg-background",children:a.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"bg-card border rounded-lg shadow-lg p-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Backgammon Online"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"React + TypeScript + Vite + shadcn/ui migration in progress..."}),a.jsxs("div",{className:"space-y-2 mb-8",children:[a.jsx("p",{className:"text-sm",children:" Phase 1 Complete: Foundation"}),a.jsx("p",{className:"text-sm",children:" Phase 2 Complete: State Management"}),a.jsx("p",{className:"text-sm",children:" Phase 3 Complete: UI Components"}),a.jsx("p",{className:"text-sm",children:" Phase 4 Complete: Game Components"}),a.jsx("p",{className:"text-sm",children:" Phase 5: Pages & Integration (Next)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:S,className:"bg-primary hover:bg-primary/90 text-primary-foreground font-semibold py-6 px-4 rounded-lg transition-colors disabled:opacity-50",disabled:!l,children:[a.jsx("div",{className:"mb-2",children:a.jsx(D_,{className:"h-8 w-8 mx-auto"})}),a.jsx("div",{className:"text-lg",children:"Play vs Computer"}),a.jsx("div",{className:"text-sm opacity-70",children:"Single player"})]}),a.jsxs("button",{onClick:v,className:"bg-primary hover:bg-primary/90 text-primary-foreground font-semibold py-6 px-4 rounded-lg transition-colors disabled:opacity-50",disabled:!l,children:[a.jsx("div",{className:"mb-2",children:a.jsx(W_,{className:"h-8 w-8 mx-auto"})}),a.jsx("div",{className:"text-lg",children:"Play Online"}),a.jsx("div",{className:"text-sm opacity-70",children:"Multiplayer"})]}),a.jsxs("button",{onClick:m,className:"bg-secondary hover:bg-secondary/90 text-secondary-foreground font-semibold py-6 px-4 rounded-lg transition-colors disabled:opacity-50",disabled:!l,children:[a.jsx("div",{className:"mb-2",children:a.jsx(_m,{className:"h-8 w-8 mx-auto"})}),a.jsx("div",{className:"text-lg",children:"Analysis Mode"}),a.jsx("div",{className:"text-sm opacity-70",children:"Practice & test positions"})]})]})]})})})}),a.jsx(Hn,{path:"/game/:gameId",element:a.jsx(JE,{})}),a.jsx(Hn,{path:"/profile/:username",element:a.jsx(jb,{})}),a.jsx(Hn,{path:"/match-lobby/:matchId",element:a.jsx(Rb,{})}),a.jsx(Hn,{path:"/match-results/:matchId",element:a.jsx(Tb,{})})]})}),a.jsx(Q_,{isOpen:e,onClose:()=>t(!1),onSwitchToSignup:f}),a.jsx(q_,{isOpen:n,onClose:()=>r(!1),onSwitchToLogin:h}),a.jsx(HE,{isOpen:o,onClose:()=>s(!1),defaultOpponentType:y}),a.jsx(x1,{})]})}function C1(){return a.jsx(_w,{children:a.jsx(lS,{children:a.jsx(cS,{children:a.jsx(ww,{children:a.jsx(S1,{})})})})})}Il.createRoot(document.getElementById("root")).render(a.jsx(ht.StrictMode,{children:a.jsx(C1,{})}));
